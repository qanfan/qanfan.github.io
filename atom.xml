<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>鱼七</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-02-14T01:55:12.326Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Fan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NS018TD压痕模块</title>
    <link href="http://example.com/2023/02/14/%E5%8E%8B%E7%97%95%E6%A8%A1%E5%9D%97NS018TD/"/>
    <id>http://example.com/2023/02/14/%E5%8E%8B%E7%97%95%E6%A8%A1%E5%9D%97NS018TD/</id>
    <published>2023-02-14T06:42:18.000Z</published>
    <updated>2023-02-14T01:55:12.326Z</updated>
    
    <content type="html"><![CDATA[<p>本文为原子力显微镜压痕模块操作说明。</p><span id="more"></span><h3 id="1、准备硬件"><a href="#1、准备硬件" class="headerlink" title="1、准备硬件"></a>1、准备硬件</h3><p>纳米压痕系统由<strong>主测试仪</strong>(摩擦计或轮廓仪)、通过以太网集线器连接的<strong>两台计算机</strong>(主PC和纳米头PC)、<strong>纳米头和纳米头尖端</strong>组成。在启动软件之前，将主测试仪和两台电脑连接在一起，用提供的操纵杆将Z2载物台一直向上移动，将纳米头尖端安装在纳米头轴上(如果已经拆除)，将纳米头安装在Z2载物台上，然后将两根纳米头控制电缆连接到纳米头中。然后启动软件，将样品放在纳米头下。</p><ul><li><p>1.1、计算机通过以太网集线器连接，因此它们必须有唯一的IP地址才能正常通信。</p></li><li><p>1.2、纳米头尖端安装在纳米头轴上。更换吸头时，用手指拧开它。在轴上安装齿尖时，<strong>只能用手指拧紧</strong>，不要使用工具。但是，不要让齿尖松动，因为齿尖安装是机架柔度值的最大贡献者。<code>当纳米头不使用时，其轴必须用两根特殊的针固定到位，并用保护帽盖住。</code></p></li></ul><blockquote><p><strong>在使用纳米头之前，拧开保护帽并拔出两根针</strong></p></blockquote><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110124734287.png"></p><ul><li>1.3、在将纳米头安装到Z2载物台上之前，用操纵杆将Z2载物台一直向上移动，并确保纳米头尖端在纳米头安装过程中不会有任何损伤。如果下面有样品，请在安装纳米头之前将其移除。</li></ul><blockquote><p>利用两个板顶部的燕尾接头，将纳米头安装在连接到Z2级的专用板上。安装纳米头后，用<strong>两个20英寸长的内六角螺钉</strong>将其固定。</p></blockquote><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110130455327.png"></p><ul><li>1.4、将纳米头安装并固定到位后，连接两根纳米头控制电缆，并用<strong>小平头螺丝刀</strong>拧紧。</li></ul><blockquote><p><strong>请勿在nanohead软件运行时连接或断开nanohead电缆。</strong></p></blockquote><ul><li>1.5、待压痕的样品安装在专用的钢制圆盘上，圆盘具有高度平行且平坦的安装表面。使用低粘度、低固化温度、易洗掉的粘合剂粘贴样品，不要使用双面胶带。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110131423132.png"></p><h3 id="2、启动软件"><a href="#2、启动软件" class="headerlink" title="2、启动软件"></a>2、启动软件</h3><p>步骤1完成后(两台计算机(主PC和nanohead PC)已经启动并运行，并且安装了连接了两条电缆的nanohead ),按以下顺序启动软件:</p><ul><li><p>2.1、检查两台计算机上的防火墙是否已被禁用。如果它们尚未被禁用，请将其禁用(禁用防火墙请[参考附录2)](#附录2 禁用防火墙)。</p></li><li><p>2.2、在主PC上启动软件:</p><ul><li><p>启动<strong>MechStressStage</strong><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230107090934933.png">(如果运行tribometer)或<strong>Lambda</strong><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230107091013843.png">(如果运行profilometer)软件。单击MechStressStage或Lambda图标可同时打开两个程序:实际软件(<strong>MechStressStage</strong>或<strong>Lambda</strong>)和另一个名为<strong>RTec控制器</strong>的程序，该程序<strong>控制测试仪的电机</strong>。</p></li><li><p>等待3分钟，直到测试仪完全初始化。然后关闭<strong>MechStressStage</strong>或<strong>Lambda</strong>(无论哪个打开)软件，但保持Rtec控制器软件运行。</p></li><li><p><strong>Rtec控制器</strong>软件自动最小化至主电脑桌面上的任务栏(①)或隐藏图标箱(②)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110132024985.png"></p></li><li><p>通过单击①或②最大化Rtec控制器窗口，并检查X、Y、Z2和另一个Z2状态:它们都必须如图所示<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110132213200.png">。如果其中至少有一个未准备好，请不要继续操作。</p></li><li><p>如果X、Y、Z2和Z2是<strong>绿色Ready</strong>，<code>最小化Rtec控制器窗口并保持Rtec控制器软件运行。</code></p></li></ul></li><li><p>2.3、通过在主电脑上启动<strong>远程桌面连接</strong><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110132545434.png">，在主电脑和nanohead电脑之间启动远程桌面会话(如何配置远程桌面应用程序设置请[参考附录3](#附录3 配置远程桌面):</p><ul><li><p>通过单击桌面、任务栏或主电脑的“开始”菜单上的图标，在主电脑上启动远程桌面连接会话。如果图标不存在，请执行以下操作:</p></li><li><p>单击开始按钮，在搜索窗口中输入“remote desktop connection（<strong>远程桌面连接</strong>）”(①)。然后点击(②)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110134120090.png"></p></li><li><p>打开远程桌面连接窗口后，在计算机文本框中输入:192.168.0.3(<code>纳米头计算机IP地址是什么；关于如何配置IP地址</code>，请[参考附录3](#附录3 配置远程桌面))，然后单击连接。</p></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110134711778.png"></p><ul><li><p>在打开的Windows安全窗口中，输入nanohead PC用户的用户名和密码(有关如何设置，请[参考附录3](#附录3 配置远程桌面))。然后单击确定。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110135224540.png"></p></li><li><p>此时，主PC控制nanohead PC。通过单击nanohead桌面顶部的最小化按钮(①)或单击电脑主任务栏中的远程桌面连接图标(②),可以在两个桌面之间进行切换。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110135403635.png"></p></li></ul></li><li><p>2.4、现在启动nanohead软件:</p><ul><li><p>验证nanaohead PC桌面是否显示在主PC显示器上(如果没有，请单击按钮②，参考上一步骤）</p></li><li><p>点击图标启动RTecViewer<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110135803347.png">软件。如果出现“数据目录丢失”的错误信息，只需单击“确定”，缺失的目录将自动创建。</p></li><li><p>确保<strong>RTecViewer</strong>软件正在运行。然后点击图标启动<strong>RtecDevCtrl</strong><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110135959283.png">软件(纳米头控制)。</p></li><li><p>运行<strong>RTecViewer</strong>和<strong>RtecDevCtrl</strong>程序时，nanohead桌面应如下图所示:<strong>RTec Viewer</strong>桌面内有一个绿色背景的<strong>RTec</strong><br><strong>Instruments</strong>窗口。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110140230462.png"></p></li><li><p>转到<strong>RTec Instruments</strong>窗口，单击<strong>Device → Run</strong>。</p></li><li><p>绿色背景色应变成黄色，并显示<strong>Turning the device ON</strong>。</p></li><li><p>然后，大约10秒钟后，<strong>RTec Instruments</strong>窗口应改变其外观，如下图所示，窗口底部(③)的绿色背景上显示“<strong>Ready</strong>”消息。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110140757609.png"></p></li><li><p>但是，如果出现“**Error initializing motors!**”的显示消息，在解决问题之前，不要继续操作。该错误消息通常指示两个潜在问题中的一个(或两个):</p><ul><li>主PC上的防火墙仍处于打开状态；关于如何检查和禁用防火墙，请[参考附录2](#附录2 禁用防火墙)。</li><li><strong>Rtec controller</strong>软件已关闭，重新打开。</li></ul></li><li><p>解决问题后，关闭<strong>Rtec controller</strong>窗口并重启<strong>RtecDevCtrl</strong>软件。</p></li></ul></li></ul><h3 id="3、下压样品"><a href="#3、下压样品" class="headerlink" title="3、下压样品"></a>3、下压样品</h3><p>完成第1步和第2步后，<strong>RTec Instruments</strong>窗口状态栏中显示绿色<strong>Ready</strong>信息(如右图所示)，继续进行样品下压和压痕。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110142010994.png"></p><ul><li><p>3.1、设置X、Y和Z载物台速度，并刷新X和Y编码器的读数:</p><ul><li><p>点击<strong>Speed</strong>下拉菜单，将速度值设置为“<strong>Very slow</strong>”(①)。速度值适用于<strong>XY Sample Stage</strong>速度(②)以及<strong>Indenter</strong>(Z)手动上升(③)和手动下降(④)速度。</p></li><li><p>检查纳米头尖端周围或下方10毫米半径范围内没有障碍物。</p></li><li><p>此时，所有三个编码器X、Y和Z (⑤)的读数应该为0.0µm 。</p></li><li><p>单击向左箭头按钮(②)并按住2-3秒钟，但不再按住。然后用向右箭头、向上箭头和向下箭头按钮做同样的操作。在这一点上，X和Y编码器(⑤)应该读取他们的真实坐标。</p><blockquote><p>X和Y使用全局坐标，这些坐标在安装过程中通过X和Y编码器复位一次，并且不能使用nanohead软件在不同的点再次复位为零。双击X和Y读数不会将X和Y全局坐标重置为零，因此不应尝试这样做。<strong>如果X或Y编码器读数为0.0 m，必须重复上个步骤。</strong></p></blockquote></li></ul></li><li><p>3.2、设置表面接近参数(Set surface approach parameters):</p><ul><li>在<strong>RTec Instruments</strong>窗口，单击<strong>Device → Calibration</strong>。</li><li>在打开的<strong>Settings</strong>窗口中，点击<strong>Find Surface</strong>选项卡(①)并输入&#x2F;选择这些参数:<ul><li><strong>Motor velocity during surface approach – Very slow;</strong></li><li><strong>RMS level</strong>–在高噪声环境中为5至7，在低噪声环境中为3至4；</li><li><strong>Do not use Find Surface criteria</strong>—不勾选；</li><li><strong>Work with high-compliant surface</strong>—<strong>勾选</strong>。</li></ul></li><li>点击<strong>Indentation</strong>标签(②)并选择<strong>Do surface pre-approach</strong>选项。然后单击<strong>OK</strong>。</li></ul></li><li><p>3.3、设定压痕参数（Set indentation parameters):</p><ul><li>在<strong>RTec Instruments</strong>窗口，单击<strong>Device → Settings</strong>。</li><li>在打开的<strong>Mode Manager</strong>窗口中，选择<strong>Load</strong> 和 <strong>Displacement</strong>范围:<ul><li><strong>Load range</strong>应超过最大压痕力至少20%。然而，对于嘈杂的环境，选择第三<code>本例中为330mN</code>或第四范围；</li><li><strong>Displacement range</strong>应超过最大路径+压痕组合位移值。然而，对于嘈杂的环境，选择第三档<code>本例中为60微米</code>或第四档;</li></ul></li><li>点击<strong>Apply</strong>按钮，不要改变其他任何东西。然后点击<strong>Close</strong>按钮。</li></ul></li><li><p>3.4、验证<strong>Sensor Position</strong>栏显示**xt(nm)**信号(最后一个)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110144828741.png"></p></li><li><p>3.5、将纳米头尖端移近样品表面:</p><ul><li><p>仔细看看纳米头，找到安装在纳米头上的尖端。然后检查尖端头部。有关更多详细信息，请<a href="#1%E3%80%81%E5%87%86%E5%A4%87%E7%A1%AC%E4%BB%B6">参考1、准备硬件</a>。</p></li><li><p>仔细观察位于纳米头下方的样品，并确定样品的表面。</p></li><li><p>确保纳米头尖端移动到样品表面的预期压痕区域时没有障碍。</p></li><li><p>找到连接到系统的操纵杆，然后朝电缆方向轻轻点击Z和Z2按钮(如右图中的白色箭头所示),<strong>验证是Z还是Z2控制纳米头的垂直运动</strong>。一旦清楚了这一点，握住操纵杆，使图中的白色箭头垂直指向系统的前面。然后使用X、Y和Z(或Z2)按钮，非常小心地将纳米头尖端移向样品表面的预期压痕区域。在针尖末端和样品表面之间<strong>留有2毫米或更大的间隙</strong>。无论如何不要用尖端接触样品。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110145452239.png"></p></li></ul></li><li><p>3.6、等待纳米头漂移稳定:</p><ul><li><p>点击按钮(②)打开指示器面板，然后勾<strong>Oscillograph mode</strong>复选框。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110145648019.png"></p></li><li><p>最初，位移信号漂移，如图④所示。在信号稳定（如图⑤和⑥）之前不要开始缩进(单击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110145909566.png">使⑥退出⑤)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110145940983.png"></p></li></ul></li><li><p>3.7、在等待漂移稳定的同时，填写一张压痕表，注明压痕的力度和位置:</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230110150055607.png"></p><ul><li><p>点击<strong>Measure</strong>按钮(①),打开<strong>Tests Manger</strong>表。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112123107048.png"></p><ul><li><p>在 <strong>Loading mode</strong> 下拉列表选择 “<strong>Lin. Force</strong>” (linear force);</p></li><li><p>**Load (µN) -**压痕过程中施加的最大力；</p></li><li><p>**Load time (ms) -**从零到最高压痕力的加载时间；10000毫秒是一个好的开始值；</p></li><li><p><strong>Hold time (ms) –</strong>最高压力下的保持时间；5000毫秒将是一个好的起始值；</p></li><li><p><strong>TDrift level (%) –</strong>以最大压痕力的%表示的力，在卸载阶段保持不变，以便计算温度漂移；15%被认为是普遍接受的值；</p></li><li><p><strong>TDrift time (ms)–</strong>施加TDrift水平(%)力的时间(保持恒定)；5000毫秒将是一个很好的起始值。</p><p>有关这些参数的更多详细信息，请[参考附录1](#附录1 引入仪表化压痕)。</p></li></ul></li><li><p>点击<strong>Add</strong>按钮(③)。“<strong>Set XY position</strong>”窗口将会打开(④)。设置XY位置中的X ( m)和Y( m)值将与<strong>RTec Instruments</strong>窗口中的X和Y读数相同(⑤)。这个X和Y位置可以用来制作第一次压痕。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112123901446.png"></p><blockquote><p>此时x和Y的<strong>读数不得为0.0</strong>。如果其中至少有一个读数为0.0，请按以下步骤操作:</p><p>1)不要在设置XY位置窗口中单击<strong>OK</strong>；</p><p>2)用关闭设置XY位置窗口；</p><p>3)验证纳米压头尖端周围至少有2毫米的空间;</p><p>4)如果尖端周围没有2毫米的空间，用<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112124425855.png">按钮缩回纳米头，直到尖端周围有2毫米的空间；</p><p>5)调整上下左右箭头<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112124710947.png">；</p><p>6)然后重复上个步骤。</p></blockquote></li><li><p>单击 <strong>Set XY position</strong>窗口的<strong>OK</strong>,从而在 <strong>Tests Manager</strong>窗口创建第一个条目。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112125322943.png"></p></li><li><p>然后在<strong>Tests Manager</strong>窗口添加更多的压痕命令。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112125537766.png"></p><ul><li>1）输入新<strong>Load (µN) ** (④，带圈)。由于下压通常在可变载荷下执行，新的</strong>Load (µN)<strong>值将不同于第一个值。然而，当输入负载时，不要从最高负载开始一直到最低负载(反之亦然)。相反，将整个力的范围分成3-4个较小的范围，然后在输入</strong>Load (µN)**时，依次从这些较小的范围中取值(从中间的开始)。</li><li>2）单击<strong>Add</strong>按钮(⑤)并在打开的<strong>Set XY position</strong>窗口中输入新的X和Y坐标(⑥，带圆圈)。由于缩进不应重叠，<code>X和Y应间隔几微米(低载荷下的硬材料)到几百微米(软材料)</code>。在上面的例子中，X保持不变(在-0.6微米)，但是Y在缩进之间移动了28.1微米(从-31.9到-60.0微米)。输入X和Y坐标时，确保吸头不会移动到样品之外，并且在移动过程中不会碰到任何东西。</li><li>3）单击 <strong>Set XY position</strong>窗口的<strong>OK</strong>,从而在 <strong>Tests Manager</strong>窗口创建新的条目。</li></ul></li><li><p>重复上个步骤，根据需要向<strong>Tests Manager</strong>表中添加尽可能多的下压命令。</p></li><li><p>编辑<strong>Tests Manager</strong>表中的条目：</p><ul><li>1）双击要编辑的条目；</li><li>2）在打开的<strong>Edit Test</strong>窗口中更改条目；</li><li>3）单击<strong>OK</strong>。</li></ul></li><li><p>输入<strong>Load (µN)<strong>值时，确保最高载荷值不会达到</strong>Displacement Range</strong>的至少15%。</p></li><li><p>删除<strong>Tests Manager</strong>表中的条目：</p><ul><li>高亮要删除的条目，点击<strong>Edit → Delete</strong>。</li><li>删除所有条目，点击<strong>click Edit → Reset</strong> 。</li></ul></li><li><p>不要关闭<strong>Tests Manager</strong>窗口。</p></li></ul></li><li><p>3.8、检查位移信号是否已经稳定，如步骤3.6所述。如果信号仍在漂移，不要继续前进，等待信号稳定下来。如果信号稳定，开始接近表面:</p><ul><li><p>点击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112204335236.png">按钮(⑤),开始样品处理。在<strong>RTec Instruments</strong>窗口信息板上，绿色的“<strong>Ready</strong>”信息变为黄色的“<strong>Find Surface</strong>”信息。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112204629108.png"></p></li><li><p>在<strong>Indicator</strong>窗口中，点击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112204555974.png">按钮刷新图表。</p></li><li><p>当下落继续时，时刻关注<strong>Indicator</strong>图和<strong>RTec Instruments</strong>窗口信息板。第一种方法可能需要一些时间，所以请耐心等待。如有必要，可通过点击红色<strong>STOP</strong>按钮停止接近。</p></li><li><p>如果<strong>RTec Instruments</strong>窗口信息板变绿，显示“<strong>Surface Found</strong>”信息，指示器窗口中的信号移动，如图⑤和⑥所示(点击⑥退出⑤)，则表面接近已经完成。转到步骤3.9。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112212637761.png"></p></li><li><p>但是，如果<strong>RTec Instruments</strong>窗口信息板变绿，显示“<strong>Surface Found</strong>”信息，但指示器窗口中的信号没有变化，如图⑦和⑧所示，则表明尖端没有到达表面。如果发生这种情况，再次接近表面，重复步骤3.8中的过程。(点击退出⑦)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112212847204.png"></p></li></ul></li><li><p>3.9、到达表面后，尖端必须立即缩回几微米:</p><ul><li><p>不要关闭<strong>Indicator</strong>窗口，也不要点击窗口中的<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112213034765.png">按钮。</p></li><li><p>点击按钮(⑨),打开<strong>Move to distance&#x2F;position</strong>窗口。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112213143230.png"></p></li><li><p>一但<strong>Move to distance&#x2F;position</strong>窗口打开，单击XYZ Relative选项卡，并在dZ框中输入-2。<code>输入该值时请格外注意，因为必须用减号输入。</code></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112213806579.png"></p></li><li><p>在dZ框中输入-2(负2)后，开始<strong>Indicator</strong>图(③)，然后单击<strong>run</strong>按钮。</p></li><li><p><strong>Indicator</strong>图中的信号应立即上升，如下面左图和右图中的箭头⑥所示(单击使右图脱离左图)。上移(⑦)后的信号水平可能达到，也可能达不到开始(⑧)前的初始水平。如果上移⑦后的信号电平低于其初始电平⑧，重复上移-2步骤。再次向上移动(⑨)后的信号电平将达到其初始电平⑧。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112213905595.png"></p></li></ul></li><li><p>3.10、现在靠近过程已经完成，下压前的最后两步是创建一个保存数据的文件夹，并为数据处理定义一个零点:</p><ul><li>在<strong>RTec Instruments</strong>菜单中，单击<strong>Settings</strong>;</li><li>在<strong>Settings</strong>窗口中，选中<strong>Find zero loading point</strong>选项卡；</li><li>在“<strong>Find zero point mode</strong>”下拉菜单中选择“<strong>Find over ZOpt signal (RMS)<strong>”，并在“</strong>Level</strong>”框中输入“<strong>3.5</strong>”。单击<strong>OK</strong>按钮。有关接触点定义的更多详细信息，请[参考附录4](#附录4 改变接触点)。</li></ul></li><li><p>3.11、下压前的最后一步是创建数据文件名:</p><ul><li><p>要创建保存数据的文件夹，进入<strong>RTec Instruments</strong>菜单并点击<strong>Settings</strong>。在打开的<strong>Settings</strong>窗口中，选中<strong>common</strong>选项卡，默认情况下，数据保存在<strong>C:\NIData</strong>文件夹。如果需要，通过单击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112215643682.png">按钮，更改文件夹位置。</p></li><li><p>然后转到步骤3.7中填写的<strong>Test Manager</strong>表。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112215858021.png"></p></li><li><p>在<strong>Test Manager</strong>表中，单击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112215916661.png">按钮。</p></li><li><p>点击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112215916661.png">按钮将不会开始下压，而是会打开一个<strong>Sample Name</strong>窗口，该窗口必须通过输入数据文件名(⑥)来填写，如果需要，还可以输入在步骤中创建的文件夹中的一个新的子文件夹的名称(⑦)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230112220314519.png"></p></li><li><p>将自动添加编号。</p></li></ul></li><li><p>3.12、要开始缩进，请单击<strong>OK</strong>按钮(⑧)。</p></li><li><p>3.13、一旦压痕开始，不要干扰系统，让它完成测试。<code>小心，不要触摸操纵杆控制装置。</code></p></li><li><p>3.14、当下压开始时，绿色信息板变成<code>黄色</code>并一直保持黄色，直到测试完成或停止。要提前停止测试，请单击红色的<strong>STOP</strong>按钮。在紧急情况下(假设<strong>Test Manager</strong>表格中的XY坐标错误，尖端即将碰到某物)，单击<strong>RTec Instruments</strong>窗口中的<strong>Help</strong>并点击<strong>911</strong> 。</p></li><li><p>3.15、一旦测试完成(或停止)，黄色的信息板颜色将再次变为绿色。所有窗口后面还会显示一条单独的消息“<strong>Test Completed</strong>”。找到它并单击<strong>OK</strong>按钮。</p></li><li><p>3.16、完成(或停止)测试后，立即点击按钮(⑧) <strong>4次</strong>，使尖端脱离安全距离。(等待Z运动停止，然后再次点击，总共4次)。只需点击一下按钮，纳米头就会向上移动100微米。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113204740947.png"></p></li><li><p>3.17、在测试运行期间，<strong>Test Manager</strong>表格的背景将会改变:已完成的下压将会变灰(⑨)，当前正在进行的下压将会突出显示(⑩)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113204907442.png"></p></li><li><p>3.18、在正常情况下，测试会按计划进行，并在完成所有下压后自动停止。然而，由于:</p><p>1)过度的噪音&#x2F;振动；</p><p>2)样品倾斜或移位；</p><p>3)负载&#x2F;位移范围选择不正确(步骤3.3);</p><p>4)在测试之前(上面的步骤3.9)，尖端没有缩回，可能会显示一个错误消息弹出窗口。如果显示错误消息，请转到步骤3.21。以获得如何继续操作的说明。</p></li><li><p>3.19、在无人看管系统或改变任何东西或将尖端移动到不同的点&#x2F;高度之前，通过将Z(或Z2)按钮轻轻推向电缆(如图中的白色箭头所示)，将纳米头收回到与系统连接的操纵杆的安全距离。关于Z和Z2的区别请参考步骤3.5。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113205317311.png"></p></li><li><p>3.20、完成测试后，<strong>RTec Instruments</strong>窗口上将显示原始数据图。如果必须立即处理数据，请转到<a href="#6%E3%80%81%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE">步骤6</a>。但是，如果需要执行更多测试，关闭窗口的最佳方式是单击<strong>RTec Instruments</strong>菜单中的<strong>Window</strong>选项卡，并选择<strong>Close all</strong>。然后在“<strong>Close all</strong>”窗口中，选中“<strong>Repeat for all</strong>”并单击“<strong>No</strong>”。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113205750177.png"></p></li><li><p>3.21、在测试运行期间，可能会显示几条<code>错误消息</code>:</p><ul><li><p>消息①表示尖端无法到达表面。先从表面收回(步骤3.16)，将负载范围更改为更大的范围(步骤3.3)并从步骤3.8重新开始。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113205939775.png"></p></li><li><p>信息②表示尖端无法到达表面。先从表面收回(步骤3.16)并从步骤3.8重新开始。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113210150861.png"></p></li><li><p>信息③、④和⑤表明纳米头离样品太近，尖端已经完全缩回，没有更多的行程，这是非常危险的情况。收到这三条信息之一(③、④、⑤或类似信息)时，按以下步骤进行:</p><p><img src="C:%5CUsers%5CFan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230113210407012.png"></p><ul><li><p>1）通过重复步骤3.16<strong>两次</strong>将尖端从表面缩回；</p></li><li><p>2）在<strong>RTec Instruments</strong>窗口中点击<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113210631915.png">按钮(⑥)；</p></li><li><p>3）启动监控窗口⑦；</p></li><li><p>4）点击按钮⑨，然后点击按钮⑧，窗口⑦读数必须根据窗口⑩值改变；</p></li><li><p>5）如果窗口⑦读数不变或显示零值，关闭<strong>RTec Instruments</strong>软件并从步骤2.4.5重新启动。(请注意，Tests Manager表将会丢失)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113211051947.png"></p></li></ul></li></ul></li></ul><h3 id="4、计算框架符合性"><a href="#4、计算框架符合性" class="headerlink" title="4、计算框架符合性"></a>4、计算框架符合性</h3><p>在完成对试样的一系列压痕并将尖端缩回到安全距离后，继续进行数据处理。然而，在数据处理之前，必须知道两个因素:尖端形状面积函数（the tip shape area function ）和测试仪框架柔量值（the tester frame compliance value）。如果还不知道这两个因素，可以在对经认证的熔融石英样品进行一系列压痕后进行计算。测试仪框架柔度值通常只计算一次，除非测试仪框架、纳米头安装或纳米头尖端安装发生变化，否则不会改变。</p><p>因此，如果已经计算了该值，并且没有其他变化，只需跳到<a href="#5%E3%80%81%E5%88%9B%E5%BB%BA%E5%B0%96%E7%AB%AF%E5%BD%A2%E7%8A%B6%E9%9D%A2%E7%A7%AF%E5%87%BD%E6%95%B0">步骤5</a>，进行尖端形状区域校准。否则，继续下面的框架符合性计算。</p><ul><li><p>4.1、框架符合性计算的下压必须完全按照<a href="#3%E3%80%81%E4%B8%8B%E5%8E%8B%E6%A0%B7%E5%93%81">步骤3</a>中的说明执行，并且必须满足以下条件:</p><ul><li>使用经过认证的Berkovich尖端，但不要改变系统设置中的任何其他内容。</li><li>用一块厚的经认证的熔融石英替换试样，并将其准确地安装在试样上。熔融石英片必须至少2毫米厚，具有<strong>已知的弹性模量、硬度和泊松比值</strong>。</li><li>在10至300mN的力下运行至少2组至少30个等距压痕。</li><li>一旦收集了所有数据，就按照下面的说明进行数据处理。</li></ul></li><li><p>4.2、创建一个新表，在三个步骤(步骤4、5和6)中用下列条目填充:</p><p>1）测试仪框架符合值(在此步骤期间)；</p><p>2）尖端形状面积函数(步骤5)；</p><p>3）测试样品纳米压痕数据(步骤6):</p><ul><li><p>在<strong>RTec Viewer</strong>菜单中，单击**Process → NanoIndentation **</p></li><li><p>默认情况下，将打开最后使用的表。</p></li><li><p>要开始新的校准，建议创建一个新表:</p><ul><li>1）单击**File → New **。</li><li>2）在弹出的<strong>New Measurement</strong>窗口中，输入新表的名称(在本例中称为“New Measurement”)并单击确定。</li></ul></li><li><p>创建新表格（名称“New Measurement”），选中<strong>Loaded Calibrations</strong> (⑤)，并单击<strong>new</strong>按钮(⑥)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113212942426.png"></p></li><li><p>在<strong>New Calibration</strong>窗口(⑦)弹出的<strong>Ref. Material</strong> 中，材料字段输入用于校准框架符合性的参考材料(一块厚度经认证的熔融石英)的名称。在这个例子中，它被称为“Fused Silica 10 to 300 mN”。其余条目应该与它们在此窗口中显示的完全一样。单击<strong>OK</strong>(⑧)按钮。</p></li><li><p>在**Loaded Calibrations **文件夹(⑨)中创建了一个新条目(<strong>Fused Silica 10 to 300 mN</strong>)。</p></li><li><p>选中<strong>Fused Silica 10 to 300 mN</strong>并单击<strong>Settings</strong>按钮。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113214013543.png"></p></li><li><p><strong>Calibration Settings</strong>窗口被打开，单击<strong>Advanced</strong>按钮。</p></li><li><p>将会打开<strong>Advanced Processing Settings</strong>窗口(⑤)。输入&#x2F;选择与窗口中显示的完全相同的所有参数，然后单击<strong>OK</strong>按钮(⑥)，返回<strong>Calibration Settings</strong>窗口。</p></li><li><p>回到<strong>Calibration Settings</strong>窗口(③)后，选择&#x2F;输入所有与该窗口中显示的完全相同的参数，然后单击<strong>OK</strong>按钮(⑦)。</p></li><li><p>找到包含将用于计算框架符合性的文件的文件夹(步骤4.2，并创建该文件夹的副本。）</p></li><li><p>选中<strong>Fused Silica 10 to 300 mN</strong>并单击 <strong>Process</strong>按钮。</p></li><li><p>对弹出的两个问题“使用相同的文件？”和“使用文件夹中的所有文件？”回答“否”和“否”(⑩)，然后会打开Windows资源管理器。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113214832531.png"></p></li><li><p>找到并选中所有文件(参见步骤4.2.11))，并单击打开。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113215109965.png"></p></li><li><p>进度条会停留一会儿，然后数据会显示在<strong>Nanoindentation</strong>表中。</p></li><li><p>在<strong>Nanoindentation</strong>表的上方，将有一个定义载荷范围窗口，显示估计的柔度值(本例中为0.870672)(③)。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20230113215849333.png"></p></li><li><p>暂时不要单击<strong>Define Load Range</strong>窗口中的任何内容。</p></li><li><p>查看纳米压痕图(④，带圈)中显示的数据，并进行如下操作:</p><ul><li></li></ul></li></ul></li></ul><h3 id="5、创建尖端形状面积函数"><a href="#5、创建尖端形状面积函数" class="headerlink" title="5、创建尖端形状面积函数"></a>5、创建尖端形状面积函数</h3><p>必须在使用每个新尖端之前为每个新尖端创建一个尖端形状区域函数，并在使用它执行大量压痕后为使用过的尖端创建一个尖端形状区域函数。在创建尖端形状面积函数之前，必须知道测试仪框架符合性（第 4 步）。</p><h3 id="6、处理数据"><a href="#6、处理数据" class="headerlink" title="6、处理数据"></a>6、处理数据</h3><h3 id="附录1-引入仪表化压痕"><a href="#附录1-引入仪表化压痕" class="headerlink" title="附录1 引入仪表化压痕"></a>附录1 引入仪表化压痕</h3><h3 id="附录2-禁用防火墙"><a href="#附录2-禁用防火墙" class="headerlink" title="附录2 禁用防火墙"></a>附录2 禁用防火墙</h3><h3 id="附录3-配置远程桌面"><a href="#附录3-配置远程桌面" class="headerlink" title="附录3 配置远程桌面"></a>附录3 配置远程桌面</h3><h3 id="附录4-改变接触点"><a href="#附录4-改变接触点" class="headerlink" title="附录4 改变接触点"></a>附录4 改变接触点</h3><h3 id="附录5-使用图表管理器"><a href="#附录5-使用图表管理器" class="headerlink" title="附录5 使用图表管理器"></a>附录5 使用图表管理器</h3><h3 id="石英"><a href="#石英" class="headerlink" title="石英"></a>石英</h3><p>压头面积函数校准：</p><p>1、仪器的机架柔度校准</p><p>2、压头的接触投影面积校准</p><p>俩个过程都需要熔融石英作为参考样品进行校准，熔融石英具有以下优点:<code>材料表面光滑、测试结果重复性和均匀性好;各向同性;材料的性质不随压入深度的变化而改变;材料表面在压入过程中不产生凸起变形</code></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文为原子力显微镜压痕模块操作说明。&lt;/p&gt;</summary>
    
    
    
    <category term="仪器操作" scheme="http://example.com/categories/%E4%BB%AA%E5%99%A8%E6%93%8D%E4%BD%9C/"/>
    
    
    <category term="MD" scheme="http://example.com/tags/MD/"/>
    
  </entry>
  
  <entry>
    <title>lammps命令</title>
    <link href="http://example.com/2023/01/19/lammps%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2023/01/19/lammps%E5%91%BD%E4%BB%A4/</id>
    <published>2023-01-19T01:52:45.000Z</published>
    <updated>2023-02-14T01:53:05.044Z</updated>
    
    <content type="html"><![CDATA[<p>本文为lammps常用命令解释，记录了学习lammps命令的过程以及建模思路。</p><span id="more"></span><h3 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#----------1 模拟参数--------------------</span></span><br><span class="line"><span class="attribute">units</span>           metal</span><br><span class="line"><span class="attribute">boundary</span>        p p p</span><br><span class="line"><span class="attribute">atom_style</span>      atomic</span><br><span class="line"><span class="attribute">timestep</span>        <span class="number">0</span>.<span class="number">001</span></span><br><span class="line"><span class="attribute">neighbor</span>        <span class="number">2</span>.<span class="number">0</span> bin</span><br><span class="line"><span class="attribute">neigh_modify</span>    delay <span class="number">0</span> every <span class="number">5</span> check yes</span><br><span class="line"></span><br><span class="line"><span class="comment">#----------2 体系模型的建立----------------</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">#输出原子初始结构</span></span><br><span class="line"><span class="attribute">write_data</span> test.data                    </span><br><span class="line"></span><br><span class="line"><span class="comment">#----------3 力场的设置-------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#----------4 能量最小化-------</span></span><br><span class="line"><span class="attribute">thermo</span><span class="number">100</span></span><br><span class="line"><span class="attribute">thermo_style</span>custom step press pe temp ke</span><br><span class="line"><span class="attribute">dump</span><span class="number">1</span> <span class="literal">all</span> atom <span class="number">100</span> mini.lammpstrj</span><br><span class="line"><span class="attribute">min_style</span>cg</span><br><span class="line"><span class="attribute">minimize</span><span class="number">1</span>e-<span class="number">15</span> <span class="number">1</span>e-<span class="number">15</span> <span class="number">5000</span> <span class="number">5000</span></span><br><span class="line"><span class="attribute">undump</span><span class="number">1</span></span><br><span class="line"><span class="attribute">reset_timestep</span><span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------5 温度初始化--------</span></span><br><span class="line"><span class="attribute">velocity</span><span class="literal">all</span> create <span class="number">300</span> <span class="number">321456</span> rot yes dist gaussian </span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------6 弛豫-------------</span></span><br><span class="line"><span class="attribute">thermo</span><span class="number">100</span></span><br><span class="line"><span class="attribute">thermo_style</span>custom step press pe temp ke</span><br><span class="line"><span class="attribute">dump</span><span class="number">1</span> <span class="literal">all</span> atom <span class="number">100</span> mini.lammpstrj</span><br><span class="line"><span class="attribute">fix</span><span class="number">1</span> <span class="literal">all</span> nvt temp <span class="number">300</span> <span class="number">300</span> <span class="number">0</span>.<span class="number">1</span> </span><br><span class="line"><span class="attribute">run</span><span class="number">10000</span></span><br><span class="line"><span class="attribute">unfix</span><span class="number">1</span></span><br><span class="line"><span class="attribute">undump</span><span class="number">1</span></span><br><span class="line"><span class="attribute">reset_timestep</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------7 具体模拟设置-------</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><h4 id="1、in文件"><a href="#1、in文件" class="headerlink" title="1、in文件"></a>1、in文件</h4><p>lammps软件只是一个求解器，没有可视化的前处理和后处理软件，所有的命令只能通过代码的方式输入到求解器进行求解计算。</p><p>所有的命令都被写到一个称为“in”的文件里，对于初学者来说，熟悉in文件的编写是一个难点。</p><p>in文件其实就是一个文本文档，也没有要求<strong>文件名或者后缀名</strong>中必须带有“in”字样，用任何文件名均可运行。</p><p>in文件里的代码是按照<strong>编写的顺序</strong>进行解释执行，对于大部分命令行来说，前后顺序影响并不是很大，但是，对于一些命令，在执行过程中需要某个参数，则这个参数的定义和计算必须写在命令执行之前。</p><p>例如，对晶体使用fix deform命令进行拉伸时，应变速率代码必须写到fix deform命令行的前面。</p><p>lammps命令非常丰富，官方给出的说明手册就达2000多页，我们也不可能记住和使用所有的命令。</p><p>对于某一个研究方向来说，常用的命令可能也就那么几十个，只要我们掌握这几十个命令基本上能够满足模拟要求。</p><h5 id="1-1-in文件模块分类"><a href="#1-1-in文件模块分类" class="headerlink" title="1.1 in文件模块分类"></a>1.1 in文件模块分类</h5><p>（1）模拟环境参数设置</p><p>这一部分主要设置一些模拟参数，比如模拟体系的单位（units）、边界条件（boundary）、原子类型（atom_style）、邻居列表的定义（neighbor）、时间步长（timestep）等。</p><p>（2）体系模型的建立</p><p>这一部分的功能就是建立体系的原子模型，通常有两种方式。</p><p><strong>第一种</strong>方式是使用lammps自带的建模命令建模，比如使用region命令划分区域，create_box命令生成模拟盒子，lattcie确定原子晶格常数，create_atoms生成原子。</p><p>使用命令行建模比较抽象，建模过程不是“所见即所得”，为了验证所建模型是否符合要求，可以在建模代码的后面使用write_data命令把模型保持为data文件，在lammps中运行in文件，用ovito观察一下模型是否正确。</p><p><strong>第二种</strong>建模方式是使用其他软件进行可视化的建模，例如<strong>Material studio</strong>、Atomsk等软件，建模完成后转换为lammps可以识别data文件，使用read_data命令读入到lammps中。</p><p>（3）力场的设置</p><p>模型建好之后，需要设置力场参数，也就是常说的势函数设置。</p><p>力场的设置分两步，首先设置力场类型，如pair_style、bond_style、angle_style、dihedral_style、improper_style。</p><p>之后，设置与之相对于的参数，分别使用pair_coeff、bond_coeff、angle_coeff、dihedral_coeff、improper_coeff。</p><p>（4）能量最小化</p><p>在正式模拟之前，一般都需要进行能量最小化，消除模型不合理的结构。</p><p>能量最小化要在温度初始化之前进行，min_style确定能量最小化类型，minimize命令设置相关参数。</p><p>（5）温度初始化</p><p>能量最小化之后，就可以进行温度初始化。体系的温度是根据原子的速度计算得到的，因此，温度初始化也就是对原子进行速度初始化。</p><p>使用velocity命令按照设定的规律随机设定原子速度，使体系温度设定为一个固定值。</p><p>（6）弛豫</p><p>在npt、nvt等系综下，对体系进行充分的弛豫，使体系的能量达到最低，获得平衡态的结构。</p><p>前面这6部分是模拟准备过程，到此为止，体系已经达到平衡，可以进行下一步模拟。</p><p>这6部分的代码在大部分的模拟中都是通用的。</p><p>（7）具体模拟设置</p><p>这一部分代码与模拟的具体内容有关，比如拉伸、剪切、结晶、吸附等等。设置输出轨迹文件、热力学数据等等，便于后期统计分析。</p><p>对于不同的模拟过程，lammps模拟in文件可能会有区别，总体结构类似，大部分代码是重复的。</p><p>下面分享一个in文件模板，大家可以根据自己的科研课题修改使用。</p><h3 id="一、模拟参数"><a href="#一、模拟参数" class="headerlink" title="一、模拟参数"></a>一、模拟参数</h3><h4 id="1、units"><a href="#1、units" class="headerlink" title="1、units"></a>1、units</h4><p> units: 选择单位系统, lammps 提供了 lj、real、metal 三种单位系统</p><p>metal对应单位是ps    1fs&#x3D;0.001ps</p><h4 id="2、boundary"><a href="#2、boundary" class="headerlink" title="2、boundary"></a>2、boundary</h4><p>boundary命令设置box的边界条件，语法比较简单：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">boundary x y z</span></span><br></pre></td></tr></table></figure><p>参数xyz分别设置该维度的边界条件，最基本的边界条件有四种：p、f、s、m。</p><p>lammps支持对同一方向的两个表面设置不同的边界条件，如对y方向下表面设置f边界、上表面设置s边界，可以写为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boundary <span class="selector-tag">p</span> fs <span class="selector-tag">p</span></span><br></pre></td></tr></table></figure><p><strong>1. 周期性边界：p</strong></p><p>参数p表示周期性边界条件，当粒子从一侧飞出，会从相对应的另一侧再次进入box，一般情况下不会发生“lost atoms”丢失原子错误。</p><p><strong>2. 固定边界：f</strong></p><p>参数f表示box的表面在该方向上被固定住，不因体系压力的变化发生移动。</p><p>如果原子从一个表面飞出，会提示“lost atoms”错误，设置thermo_modify lost可以允许原子丢失，否则模拟过程会被终止。</p><p><strong>3. 收缩性边界：s</strong></p><p>参数s表示在该方向上，盒子的表面会根据体系的压力大小或原子运动情况发生移动。</p><p>一般情况下，盒子会配合原子的移动，尽量把原子包含在box内，但是当原子速度过快，位移太大时原子也可能会飞出盒子，造成“lost atoms”错误。</p><p><strong>4. 限制性收缩：m</strong></p><p>参数m功能和s差不多，盒子大小同样会随原子的移动而发生变化，但盒子在收缩到限定值时就不再发生变化，也就是盒子尺寸有一个最小值。</p><p>例如z方向上表面最小值设为50，当该表面收缩到50时会停止收缩，类似转换成了临时性的固定边界。</p><p>通常在建模或者读取data文件之前设置boundary命令，在模拟运行的过程中也可以改变边界条件设置。</p><p>比如，使用velocity进行拉伸时，拉伸方向z不能为周期性边界条件，但是在弛豫阶段又需要在npt系综下消除z方向的应力，否则初始应力可能不为0，这种情况下就可以先使用周期性边界条件进行驰豫，在拉伸前使用change_box命令改变周期性条件：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">boundary</span> <span class="selector-tag">p</span> <span class="selector-tag">p</span> <span class="selector-tag">p</span></span><br><span class="line">#进行<span class="selector-tag">npt</span>系综下驰豫</span><br><span class="line">……</span><br><span class="line"><span class="selector-id">#z</span>方向改为<span class="selector-tag">s</span></span><br><span class="line"><span class="selector-tag">change_box</span> <span class="keyword">all</span> <span class="selector-tag">boundary</span> <span class="selector-tag">p</span> <span class="selector-tag">p</span> <span class="selector-tag">s</span></span><br><span class="line">#进行拉伸</span><br><span class="line">……</span><br></pre></td></tr></table></figure><p>边界条件设置比较简单，在模拟过程中出现丢失原子或者体系演化不合理时，灵活改变边界条件可能会获得比较理想的结果。</p><h4 id="3、atom-style"><a href="#3、atom-style" class="headerlink" title="3、atom_style"></a>3、atom_style</h4><p>定义你的模拟体系中的原子属性, 注意这个 style 要区分后面设置力场参数时命令里提到的atom type </p><h4 id="4、dimension"><a href="#4、dimension" class="headerlink" title="4、dimension"></a>4、dimension</h4><p> dimension: 2d 模拟还是 3d 模拟, 默认是 3d </p><h3 id="二、体系模型的建立"><a href="#二、体系模型的建立" class="headerlink" title="二、体系模型的建立"></a>二、体系模型的建立</h3><p><strong>使用lammps自带的建模命令建模主要有以下几个流程：</strong></p><blockquote><p>（1）使用region命令确定一个模拟区域</p><p>（2）使用create_box命令在以上区域内生成一个模拟盒子box</p><p>（3）使用lattice命令确定晶格结构</p><p>（4）使用create_atoms命令在box内填充原子</p></blockquote><h4 id="1、region"><a href="#1、region" class="headerlink" title="1、region"></a>1、region</h4><p>在lammps模拟中，所有的原子都被限定在一个空间区域内运动，这个空间区域也就是常说的模拟盒子box。</p><p>在建立box之前，我们需要在空间中划分出一个区域，在这个区域内生成box，<strong>region命令通常写在create_box命令之前</strong>。</p><p>region命令主要功能是划定一个特定区域，形状可以为长方体、圆柱体、球体等。</p><p>lammps提供了一个region union命令，可把多个region区域合并为一个区域。</p><p>使用这个命令，可以创建复杂形状的区域，语法命令格式为：</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">region ID <span class="keyword">union</span> N <span class="keyword">reg</span>-ID1 <span class="keyword">reg</span>-ID2 ...</span><br></pre></td></tr></table></figure><p>N为合并区域的数量，后面为合并区域的ID</p><p><strong>以最常见的纳米磨削模型的建模为例，介绍region的使用方法。</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220915202102807.png"></p><p>如上图所示，单晶铜分成了三个区域，红色区域为边界层，蓝色区域为恒温层，绿色区域为牛顿层。</p><p>建立上述模型，主要使用region命令中的block参数建立长方体结构，使用union参数对长方体进行区域合并，使用sphere参数建立金刚石球体。</p><p>（1）生成最底层的边界层，前两行生成两个block（矩形）区域，第三行使用union将两个区域合并为一个区域</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span>     boundary1    block <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">80</span> <span class="number">0</span> <span class="number">160</span> units box</span><br><span class="line"><span class="attribute">region</span>     boundary2    block <span class="number">20</span> <span class="number">250</span> <span class="number">0</span> <span class="number">80</span> <span class="number">0</span> <span class="number">20</span> units box</span><br><span class="line"><span class="attribute">region</span>     boundary     union  <span class="number">2</span>  boundary1  boundary2</span><br></pre></td></tr></table></figure><p>（2）生成恒温层，方法同上</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span>     temp_layer1    block <span class="number">20</span> <span class="number">40</span> <span class="number">0</span> <span class="number">80</span> <span class="number">20</span> <span class="number">160</span> units box</span><br><span class="line"><span class="attribute">region</span>     temp_layer2    block <span class="number">40</span> <span class="number">250</span> <span class="number">0</span> <span class="number">80</span> <span class="number">20</span> <span class="number">40</span> units box</span><br><span class="line"><span class="attribute">region</span>     temp_layer     union  <span class="number">2</span>  temp_layer1  temp_layer2</span><br></pre></td></tr></table></figure><p>（3）生成牛顿层</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span>     newton_layer  block <span class="number">40</span> <span class="number">250</span> <span class="number">0</span> <span class="number">80</span> <span class="number">40</span> <span class="number">160</span> units box</span><br></pre></td></tr></table></figure><p>（4）将三个区域合并为piece层</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">region</span>     <span class="built_in">piece</span> <span class="built_in">union</span> <span class="number">3</span> boundary temp_layer newton_layer</span><br></pre></td></tr></table></figure><p>（5）生成刀具区域，类型为sphere，圆心坐标（300,40,170），半径为30埃米（在metal单位下）</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span>     ball   sphere  <span class="number">300</span> <span class="number">40</span> <span class="number">170</span> <span class="number">30</span></span><br></pre></td></tr></table></figure><p>（6）将工件区和刀具区合并，该区域即为模拟盒子box区域</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">region</span>    <span class="built_in">box</span> <span class="built_in">union</span> <span class="number">2</span> <span class="built_in">piece</span> ball</span><br></pre></td></tr></table></figure><p>（7）在box区域内生成一个模拟盒子，盒子内包含4种原子</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">create_box</span>  <span class="number">4</span> box</span><br></pre></td></tr></table></figure><p>（8）在工件区域内生成Cu原子</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>         fcc <span class="number">3</span>.<span class="number">61</span> </span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> region boundary</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">2</span> region temp_layer</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">3</span> region newton_layer</span><br></pre></td></tr></table></figure><p>（9）在球内填充金刚石原子，原子类型为4</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>       diamond  <span class="number">3</span>.<span class="number">52</span> </span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">4</span> region ball</span><br></pre></td></tr></table></figure><p>（10）设置原子质量</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mass</span>    <span class="number">1</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">mass</span>    <span class="number">2</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">mass</span>    <span class="number">3</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">mass</span>    <span class="number">4</span> <span class="number">12</span></span><br></pre></td></tr></table></figure><p>（11）为便于后续模拟，对不同区域内原子进行分组</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">group</span>      <span class="title">boundary</span> region boundary</span><br><span class="line"><span class="keyword">group</span>      <span class="title">temp_layer</span> region temp_layer</span><br><span class="line"><span class="keyword">group</span>      <span class="title">newton_layer</span> region newton_layer</span><br><span class="line"><span class="keyword">group</span>      <span class="title">tool</span> region tool</span><br></pre></td></tr></table></figure><p>（12）保存data文件</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">write_data</span>    <span class="type">Cu_C</span>.<span class="class"><span class="keyword">data</span></span></span><br></pre></td></tr></table></figure><p>至此，模型就建立完成了</p><h4 id="2、create-box"><a href="#2、create-box" class="headerlink" title="2、create_box"></a>2、create_box</h4><p>lammps模拟时所有的原子都必须位于一个有限的区域内，这个有限的区域也就是所谓的模拟盒子：box。</p><p>因此，在创建原子之前，要先创建box，用到的命令为create_box。</p><p>create_box的语法为：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">create_box N region-ID keyword value</span></span><br></pre></td></tr></table></figure><p>其中,N为盒子内包含的原子类型数，region-ID为区域名称</p><h5 id="2-1-创建正交box"><a href="#2-1-创建正交box" class="headerlink" title="2.1 创建正交box"></a>2.1 <strong>创建正交box</strong></h5><p>创建一个模拟盒子之前必须先创建一个区域，在此区域的基础上创建盒子。</p><p>例如创建一个大小为10<em>10</em>10的立方区域，名称为mybox。以mybox尺寸创建box，box内含有1种原子。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span> mybox block <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> units box</span><br><span class="line"><span class="attribute">create_box</span> <span class="number">1</span> mybox</span><br></pre></td></tr></table></figure><p>如果region为球形，lammps首先计算出一个外切于此球的立方区域，应以此创建box，而不是创建一个球形的box。</p><p>例如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span> box sphere <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">5</span>  units box</span><br><span class="line"><span class="attribute">create_box</span> <span class="number">1</span> box</span><br></pre></td></tr></table></figure><p>以上命令创建的盒子大小为10^3^。</p><h5 id="2-2-创建非正交box"><a href="#2-2-创建非正交box" class="headerlink" title="2.2 创建非正交box"></a>2.2 <strong>创建非正交box</strong></h5><p>如果region区域为非正交区域，则以此区域可以创建非正交box。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span> box prism <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="attribute">create_box</span> <span class="number">1</span> box</span><br></pre></td></tr></table></figure><h5 id="2-3-创建复杂box"><a href="#2-3-创建复杂box" class="headerlink" title="2.3 创建复杂box"></a>2.3 <strong>创建复杂box</strong></h5><p>如果box内原子之间有键或角等信息，需要在创建box时指定键角等数量，具体格式为：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bond/types value = <span class="comment"># of bond types</span></span><br><span class="line">angle/types value = <span class="comment"># of angle types</span></span><br><span class="line">dihedral/types value = <span class="comment"># of dihedral types</span></span><br><span class="line">improper/types value = <span class="comment"># of improper types</span></span><br><span class="line">extra<span class="regexp">/bond/</span>per/atom value = <span class="comment"># of bonds per atom</span></span><br><span class="line">extra<span class="regexp">/angle/</span>per/atom value = <span class="comment"># of angles per atom</span></span><br><span class="line">extra<span class="regexp">/dihedral/</span>per/atom value = <span class="comment"># of dihedrals per atom</span></span><br><span class="line">extra<span class="regexp">/improper/</span>per/atom value = <span class="comment"># of impropers per atom</span></span><br><span class="line">extra<span class="regexp">/special/</span>per/atom value = <span class="comment"># of special neighbors per atom</span></span><br></pre></td></tr></table></figure><p>例如创建含有H2O分子的box：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">region</span> box block <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span> units box</span><br><span class="line"><span class="attribute">create_box</span> <span class="number">2</span> box bond/types <span class="number">1</span> angle/types <span class="number">1</span> extra/bond/per/atom <span class="number">2</span> &amp;   </span><br><span class="line"><span class="attribute">extra</span>/special/per/atom <span class="number">2</span> extra/angle/per/atom <span class="number">1</span></span><br></pre></td></tr></table></figure><p>create_box命令应该是相对简单的一个命令，但要记住<strong>每个模型只有一个box，create_box用一次就足够了</strong>。</p><h4 id="3、lattice"><a href="#3、lattice" class="headerlink" title="3、lattice"></a>3、lattice</h4><h5 id="3-1-lattice"><a href="#3-1-lattice" class="headerlink" title="3.1 lattice"></a>3.1 lattice</h5><p>对于简单的晶体结构，比如体心立方bcc、面心立方fcc等，可以使用lattice bcc或者fcc命令建模。</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lattice <span class="built_in">style</span> <span class="built_in">scale</span> keyword <span class="built_in">values</span> ...</span><br></pre></td></tr></table></figure><ul><li><p>style： <em>none</em> or <em>sc</em> or <em>bcc</em> or <em>fcc</em> or <em>hcp</em> or <em>diamond</em> or <em>sq</em> or <em>sq2</em> or <em>hex</em> or <em>custom</em></p><blockquote><p>Sc（简单立方） or bcc（体心立方） or fcc（面心立方） or hcp （六角密堆积）or diamond（金刚石）类型用于三维建模。sq （四方）or sq2 or hex（六方）类型用于二维建模。custom类型既可以用于二维，也可以用于三维建模。</p></blockquote><ul><li>sc晶格有1个基本原子，在立方体左下角后面的位置。</li><li>bcc晶格有2个基本原子，分别在立方体的角上和中心的位置。</li><li>fcc晶格有4个基本原子，有1个在角上，另外3个在面心的位置。</li><li>hcp晶格有4个基本原子，有2个在z&#x3D;0的平面上，另外2个在z&#x3D;0.5的平面上。</li><li>diamond晶格有8个基本原子。</li></ul></li><li><p>scale：晶格和模拟盒子的比例因子</p></li><li><p>可以不添加或添加多个keyword&#x2F;value。</p></li></ul><h5 id="3-2-lattice-custom"><a href="#3-2-lattice-custom" class="headerlink" title="3.2 lattice custom"></a>3.2 lattice custom</h5><p>对于结构稍微复杂点的晶体，可以使用lattice custom命令。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lattice custom Length <span class="built_in">a1</span> <span class="built_in">a2</span> <span class="built_in">a3</span> <span class="keyword">basis </span>...</span><br></pre></td></tr></table></figure><p><strong>使用lattice custom建模流程如下：</strong></p><p>（1）找出晶体中最小的重复单元，也就是原胞。</p><p>（2）确定基矢a1，a2，a3。对于大多晶体，基矢可以和坐标轴重合，例如正方形晶胞的基矢a1（1 0 0）、a2（0 1 0）、a3（0 0 1）。</p><p>（3）确定原胞内各原子的坐标，这个坐标不是绝对坐标值，而是相对于基矢的相对坐标，最大值不能超过1。</p><p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/RDM2ibjLOnY5KSnoAomHdo5Q4DIZG7o5rJzBONpaKaC8F3qeC15qZWjxdISzv94xURp0NtiaYicdWcpncmyIZU7oQ/640?wx_fmt=jpeg&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p><strong>下面以石墨烯为例，详解一下建模具体过程：</strong></p><p>（1）找出最小的重复单元：如上图红框所示，最小的重复单元划分方法不唯一，选择一种即可。</p><p>（2）确定基矢：a1沿水平x轴方向，a2沿垂直y轴方向。石墨烯是二维结构，a3取小于单层石墨烯厚度。</p><p>假设石墨烯键长L&#x3D;1.42，则a1&#x3D;3L，a2&#x3D;1.732L，a3&#x3D;2L（低于3.35即可）。</p><p>（3）确定各原子坐标（实际坐标值&#x2F;基矢各方向长度）：</p><p>原子1坐标：（0,0,0）</p><p>原子2坐标：（0.33,0,0）</p><p>原子3坐标：（0.5,0.5,0）</p><p>原子4坐标：（0.833,0.5,0）</p><p>以上数据写入lattice custom代码：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>      custom <span class="number">1</span>.<span class="number">421</span> a1 <span class="number">3</span> <span class="number">0</span> <span class="number">0</span> a2 <span class="number">0</span> <span class="number">1</span>.<span class="number">732</span> <span class="number">0</span> a3 <span class="number">0</span> <span class="number">0</span> <span class="number">2</span> &amp;       </span><br><span class="line">                        <span class="attribute">basis</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> &amp;       </span><br><span class="line">                        <span class="attribute">basis</span> <span class="number">0</span>.<span class="number">33</span> <span class="number">0</span> <span class="number">0</span> &amp;        </span><br><span class="line">                        <span class="attribute">basis</span> <span class="number">0</span>.<span class="number">5</span> <span class="number">0</span>.<span class="number">5</span> <span class="number">0</span> &amp;        </span><br><span class="line">                        <span class="attribute">basis</span> <span class="number">0</span>.<span class="number">833</span> <span class="number">0</span>.<span class="number">5</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h4 id="4、create-atoms"><a href="#4、create-atoms" class="headerlink" title="4、create_atoms"></a>4、create_atoms</h4><p>create_atoms命令是lammps建模命令中必不可少的一个命令，主要功能是在指定区域内填充一定数量的原子。</p><p>create_atoms命令格式为：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_atoms <span class="keyword">type</span> style args <span class="built_in">keyword</span> values <span class="params">...</span></span><br></pre></td></tr></table></figure><p>其中，type指定填充原子的类型，style指定填充原子的方法，lammps提供了box 、region 、single和random 4种填充原子方式。</p><p>接下来详细介绍这4种填充原子的方式。</p><h5 id="4-1-在盒子box内填充原子"><a href="#4-1-在盒子box内填充原子" class="headerlink" title="4.1 在盒子box内填充原子"></a>4.1 <strong>在盒子box内填充原子</strong></h5><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">create_atoms</span> <span class="keyword">type</span> box</span><br></pre></td></tr></table></figure><p>box类型是最简单的一种用法，在模拟盒子内按照指定的晶格类型填充指定类型的原子，<strong>执行这句命令之前需要提前定义box和lattice</strong>。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">create_atoms</span> <span class="number">1</span> box</span><br></pre></td></tr></table></figure><h5 id="4-2-在指定区域（region）内填充原子"><a href="#4-2-在指定区域（region）内填充原子" class="headerlink" title="4.2 在指定区域（region）内填充原子"></a>4.2 <strong>在指定区域（region）内填充原子</strong></h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_atoms <span class="keyword">type</span> <span class="type">region </span>region-ID</span><br></pre></td></tr></table></figure><p>对于复杂结构体系或者不同形状晶体结构，可以配合region命令实现分区域填充原子。</p><p>例如在一个球内填充Cu原子：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>  fcc <span class="number">3</span>.<span class="number">61</span></span><br><span class="line"><span class="attribute">region</span>  box block -<span class="number">10</span> <span class="number">10</span> -<span class="number">10</span> <span class="number">10</span> -<span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="attribute">create_box</span>  <span class="number">1</span> box</span><br><span class="line"><span class="attribute">region</span>  Cu_sphere sphere <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5</span></span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> region Cu_sphere</span><br></pre></td></tr></table></figure><p>或者在圆锥内填充Fe原子，在圆柱内填充Cu原子，代码如下：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成box</span></span><br><span class="line"><span class="attribute">region</span>  box block -<span class="number">30</span> <span class="number">30</span> -<span class="number">30</span> <span class="number">30</span> <span class="number">0</span> <span class="number">60</span> units box</span><br><span class="line"><span class="attribute">create_box</span>  <span class="number">2</span> box</span><br><span class="line"><span class="comment">#圆柱Cu原子</span></span><br><span class="line"><span class="attribute">lattice</span>  fcc <span class="number">3</span>.<span class="number">61</span></span><br><span class="line"><span class="attribute">region</span>  cu cylinder z <span class="number">0</span> <span class="number">0</span> <span class="number">15</span> <span class="number">0</span> <span class="number">40</span> units box</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> region cu</span><br><span class="line"><span class="comment">#圆锥Fe原子</span></span><br><span class="line"><span class="attribute">lattice</span>  fcc <span class="number">2</span>.<span class="number">86</span></span><br><span class="line"><span class="attribute">region</span>  fe cone z <span class="number">0</span> <span class="number">0</span> <span class="number">15</span> <span class="number">0</span> <span class="number">42</span> <span class="number">60</span> units box</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">2</span> region fe</span><br></pre></td></tr></table></figure><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220915212654228.png"></p><h5 id="4-3-生成单个原子"><a href="#4-3-生成单个原子" class="headerlink" title="4.3 生成单个原子"></a>4.3 <strong>生成单个原子</strong></h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_atoms <span class="keyword">type</span> <span class="type">single </span>x y z</span><br></pre></td></tr></table></figure><p>create_atoms可以在指定的坐标点上生成单个原子，xyz为原子坐标。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>  fcc <span class="number">2</span>.<span class="number">86</span></span><br><span class="line"><span class="attribute">region</span>  box block <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">20</span></span><br><span class="line"><span class="attribute">create_box</span>  <span class="number">1</span> box</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> single <span class="number">10</span> <span class="number">10</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220915212817307.png"></p><h5 id="4-4-随机生成原子"><a href="#4-4-随机生成原子" class="headerlink" title="4.4 随机生成原子"></a>4.4 <strong>随机生成原子</strong></h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_atoms <span class="keyword">type</span> <span class="type">random </span>N seed region-ID</span><br></pre></td></tr></table></figure><p>random类型在指定区域内随机生成原子，N为生成原子总数，seed为随机数种子，region-ID指定填充原子区域。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span>  fcc <span class="number">2</span>.<span class="number">86</span></span><br><span class="line"><span class="attribute">region</span>  box block <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">40</span></span><br><span class="line"><span class="attribute">create_box</span>  <span class="number">1</span> box</span><br><span class="line"><span class="attribute">region</span>  fe block <span class="number">0</span> <span class="number">20</span> <span class="number">0</span> <span class="number">20</span> <span class="number">5</span> <span class="number">35</span></span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> random <span class="number">30</span> <span class="number">8763</span> fe</span><br></pre></td></tr></table></figure><h4 id="5、read-data"><a href="#5、read-data" class="headerlink" title="5、read_data"></a>5、read_data</h4><p>在前面的教程中，我们已经知道，lammps建模方法有两种，可以使用lammps自带的建模命令建模，也可以使用第三方软件建模。</p><p>如果使用第三方软件建模，必须将模型文件转换为lammps可以识别的data文件，不同的建模方式转换方法有所不同。</p><p>Material studio软件建模完成导出car文件，可通过msi2lmp软件转化为data文件，Atomsk软件建模完成可以直接导出data文件。</p><p>假设现在已经有了data文件，我们就可以使用read_data命令将模型读入到lammps中，read_data命令的格式为：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">read_data</span></span> <span class="keyword">file</span> keyword args ...</span><br></pre></td></tr></table></figure><p>如果只需要读取一个data文件，直接将文件名写到read_data命令的后面即可：</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">read_data</span> <span class="type">Fe</span>.<span class="class"><span class="keyword">data</span></span></span><br></pre></td></tr></table></figure><p>read_data命令支持在一个lammps代码中读取多个data文件，将不同的结构组装为一个复杂的体系。</p><p>当然，复杂体系的建模也可以在建模软件里面完成，但有些情况下，使用read_data命令会更加灵活。</p><p>比如两部分结构分别进行弛豫，达到平衡以后再组合到一起，或者两部分结构是用两种建模软件建模，分别生成data文件后，使用read_data可以很方便的组合到一起。</p><p>读取两种文件例子：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#读取Fe.data</span></span><br><span class="line"><span class="attribute">read_data</span>    Fe.data extra/atom/types <span class="number">1</span></span><br><span class="line">     <span class="comment">#第二次调用read_data命令，读取Cu.data,offset关键字说明原子类型+1</span></span><br><span class="line">     <span class="comment">#shift设置读取Cu模型后，Cu原子尺寸整体沿-y方向偏移22埃米</span></span><br><span class="line"><span class="attribute">read_data</span>    Cu.data add append offset <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> shift <span class="number">0</span>.<span class="number">0</span> -<span class="number">22</span> <span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><h4 id="6、set"><a href="#6、set" class="headerlink" title="6、set"></a>6、set</h4><p>在lammps模拟中，有时需要设置固定层，为了能够清楚的显示固定层，要把固定层原子设定为不同颜色，如下图所示。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220916210338871.png"></p><p>解决的方法有两种，最简单的一种方法是使用<strong>create_atoms时选择和基体原子不一样的原子类型</strong>。</p><p>如果晶体结构是通过其他建模软件生成，直接由data文件读入，那么，刚才那种方法就不适用了。</p><p>这种情况可以使用<strong>set命令改变原子的类型</strong>。</p><p>语法为：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set <span class="keyword">group</span> <span class="title">group-ID</span> <span class="keyword">type</span> N</span><br></pre></td></tr></table></figure><p>使用这条命令之前，先将要改变类型的原子归入到一个group内。</p><p>例如将left组原子类型设为2：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> roup left<span class="built_in"> type </span>2</span><br></pre></td></tr></table></figure><h4 id="7、delete-atoms"><a href="#7、delete-atoms" class="headerlink" title="7、delete_atoms"></a>7、delete_atoms</h4><p>lammps建模时，我们使用create_atoms创建原子，有些情况下，需要删除一些原子，用到的命令为：delete_atoms。</p><p>delete_atoms语法：</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">delete_atoms</span></span> style args keyword value ...</span><br></pre></td></tr></table></figure><p>下面介绍delete_atoms常见的用法</p><h5 id="7-1-删除组内或区域内原子"><a href="#7-1-删除组内或区域内原子" class="headerlink" title="7.1 删除组内或区域内原子"></a>7.1 <strong>删除组内或区域内原子</strong></h5><p>整组或者整个区域删除原子，直接使用group或者region关键字即可，删除原子后原子ID已经不连续，使用<strong>compress yes可对ID序号进行压缩，也就是重新排序，产生连续的原子ID。</strong></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除edge组内所有原子</span></span><br><span class="line">delete_atoms <span class="keyword">group</span> <span class="title">edge</span></span><br><span class="line"><span class="comment">#删除sphere区域内所有原子，并且不压缩ID</span></span><br><span class="line">delete_atoms region sphere compress no</span><br></pre></td></tr></table></figure><h5 id="7-2-删除重叠原子"><a href="#7-2-删除重叠原子" class="headerlink" title="7.2 删除重叠原子"></a>7.2 <strong>删除重叠原子</strong></h5><p>在不同区域内填充原子，有可能会造成两区域边界部分原子重叠，产生重叠的原子之间受力过大容易飞出box，出现“lost atoms”错误。</p><p>因此，在建模时可删除重叠原子，用的命令为：</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete_atoms overlap args = cutoff group1-ID group2-ID</span><br></pre></td></tr></table></figure><p>group1-ID、group2-ID为两个原子组，cutoff确定原子间距，间距在cutoff内并且分别处于两个组内的原子之一（group1-ID组）会被删除。如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">delete_atoms</span> overlap <span class="number">0</span>.<span class="number">3</span> group1 group2</span><br></pre></td></tr></table></figure><h5 id="7-3-随机删除原子"><a href="#7-3-随机删除原子" class="headerlink" title="7.3 随机删除原子"></a>7.3 <strong>随机删除原子</strong></h5><p>按照一定比例随机删除原子，比如随机产生空位，语法为：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete_atoms porosity <span class="built_in">args</span> = <span class="built_in">region</span>-ID fraction seed</span><br></pre></td></tr></table></figure><p>fraction为删除原子比例，seed为随机数种子。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">delete_atoms</span> porosity cube <span class="number">0</span>.<span class="number">1</span> <span class="number">482793</span></span><br></pre></td></tr></table></figure><h5 id="7-4-删除分子"><a href="#7-4-删除分子" class="headerlink" title="7.4 删除分子"></a>7.4 <strong>删除分子</strong></h5><p>分子含有多个原子，如果仅删除一个原子，如H2O仅删除一个H或者一个O原子，在模拟的时候可能会报错。</p><p>这时候就需要删除整个H2O分子，加上关键字mol即可。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">delete_atoms</span>   overlap <span class="number">0</span>.<span class="number">5</span> Water Cu  mol yes</span><br></pre></td></tr></table></figure><h4 id="8、旋转模型"><a href="#8、旋转模型" class="headerlink" title="8、旋转模型"></a>8、旋转模型</h4><p>displace命令操作的是原子组，因此，先把以上模型原子划入tool组：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">group</span>   <span class="title">tool</span> <span class="keyword">type</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">displace_atoms <span class="keyword">group</span> rotate Px Py Pz <span class="literal">Rx</span> Ry Rz theta</span><br><span class="line">rotate args = Px Py Pz <span class="literal">Rx</span> Ry Rz theta</span><br><span class="line">  Px,Py,Pz = 旋转轴上的一个点</span><br><span class="line">  <span class="literal">Rx</span>,Ry,Rz = 旋转轴</span><br><span class="line">  theta = 旋转角度</span><br></pre></td></tr></table></figure><h3 id="三、力场设置"><a href="#三、力场设置" class="headerlink" title="三、力场设置"></a>三、力场设置</h3><h4 id="1、势函数"><a href="#1、势函数" class="headerlink" title="1、势函数"></a>1、势函数</h4><h5 id="1-1-lj-x2F-cut在in文件中使用方法"><a href="#1-1-lj-x2F-cut在in文件中使用方法" class="headerlink" title="1.1  lj&#x2F;cut在in文件中使用方法"></a>1.1  <strong>lj&#x2F;cut在in文件中使用方法</strong></h5><p>在in文件中使用lj&#x2F;cut，需要明确的指定相互作用的原子类型，如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pair_style</span> lj/cut <span class="number">10</span></span><br><span class="line"><span class="attribute">pair_coeff</span> * * <span class="number">0</span>.<span class="number">02</span> <span class="number">3</span>.<span class="number">12</span></span><br><span class="line"><span class="attribute">pair_coeff</span> <span class="number">1</span> <span class="number">3</span> <span class="number">0</span>.<span class="number">03</span> <span class="number">3</span>.<span class="number">22</span> <span class="number">8</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure><p>上面两句指定全部原子之间的lj&#x2F;cut力场，截断半径为10，epsilon&#x3D;0.02、sigma&#x3D;3.12。</p><p>1和3原子截断半径为8.5，epsilon&#x3D;0.03、sigma&#x3D;3.22。</p><h5 id="1-2-tersoff势函数"><a href="#1-2-tersoff势函数" class="headerlink" title="1.2  tersoff势函数"></a>1.2  tersoff势函数</h5><p>tersoff势写法：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pair_style tersoff</span><br><span class="line">pair_coeff * * SiC.tersoff <span class="built_in">Si</span> <span class="built_in">Si</span> C</span><br></pre></td></tr></table></figure><p>第一行pair_style指定势函数类型为tersoff。</p><p>第二行pair_coeff映射原子类型，pair_coeff命令后面必须为“*”，不能写具体的原子类型（如1 2）。</p><p>“*”后面为tersoff势文件名称，最后一部分为原子列表。</p><h5 id="1-3-混合势函数hybrid"><a href="#1-3-混合势函数hybrid" class="headerlink" title="1.3 混合势函数hybrid"></a>1.3 混合势函数hybrid</h5><p>以SiC和Cu体系为例，体系中的原子类型分别为：Si（type 1）、C（type 2）、Cu（type 3），对应的写法为</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pair_style</span>  hybrid tersoff eam lj/cut <span class="number">10</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">pair_coeff</span>  * * tersoff SiC.tersoff Si C NULL</span><br><span class="line"><span class="attribute">pair_coeff</span>  <span class="number">3</span> <span class="number">3</span> Cu.eam</span><br><span class="line"><span class="attribute">pair_coeff</span>  <span class="number">1</span> <span class="number">3</span> lj/cut <span class="number">0</span>.<span class="number">0034</span> <span class="number">3</span>.<span class="number">12</span> </span><br><span class="line"><span class="attribute">pair_coeff</span>  <span class="number">2</span> <span class="number">3</span> lj/cut <span class="number">0</span>.<span class="number">053</span>  <span class="number">2</span>.<span class="number">98</span></span><br></pre></td></tr></table></figure><p>pair_style命令指出需要设置的三种势函数类型。</p><p>第2行表示前2种原子（Si、C）使用tersoff势，第三种原子位置为NULL表示该原子（Cu）不使用SiC势。</p><p>第3行设置Cu为eam势。</p><p>第4、5行设置Si-Cu、C-Cu为lj&#x2F;cut势，参数仅为演示。</p><h3 id="四、能量最小化"><a href="#四、能量最小化" class="headerlink" title="四、能量最小化"></a>四、能量最小化</h3><h4 id="1、minimize"><a href="#1、minimize" class="headerlink" title="1、minimize"></a>1、<strong>minimize</strong></h4><h5 id="1-1-minimize命令"><a href="#1-1-minimize命令" class="headerlink" title="1.1 minimize命令"></a>1.1 minimize命令</h5><p>minimize命令通过力的计算排开距离过近的原子，使体系的能量降到一个较低的水平，便于<strong>后续的弛豫操作</strong>。</p><p>minimize语法为：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">minimize etol ftol maxiter maxeval</span></span><br></pre></td></tr></table></figure><p>后面四个参数为minimize运行停止条件，其中etol、ftol分别为能量和力的容差，<strong>maxiter、maxeval为迭代最大步数</strong>。</p><p>在最小化过程中，达到四个条件中的任意一个时，最小化即停止运行。</p><p>力或者能量已经降低到一个较低水平，或者力或能量还没有降低到一个低值，但设定的迭代步数已经用完，都会停止最小化。</p><h5 id="1-2-min-style命令"><a href="#1-2-min-style命令" class="headerlink" title="1.2 min_style命令"></a>1.2 <strong>min_style命令</strong></h5><p>minimize最小化采用的算法由min_style命令确定，min_style语法为：</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">min_style stylestyle = cg<span class="built_in"> or </span>hftn<span class="built_in"> or </span>sd<span class="built_in"> or </span>quickmin<span class="built_in"> or </span>fire<span class="built_in"> or </span>fire/old<span class="built_in"> or </span>spin<span class="built_in"> or </span>spin/cg<span class="built_in"> or </span>spin/lbfgs</span><br></pre></td></tr></table></figure><p>最常用的为共轭梯度法（cg）、最速下降法（sd）。</p><h5 id="1-3-使用举例"><a href="#1-3-使用举例" class="headerlink" title="1.3 使用举例"></a>1.3 <strong>使用举例</strong></h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">min_style</span> cg</span><br><span class="line"><span class="attribute">minimize</span> <span class="number">1</span>.<span class="number">0</span>e-<span class="number">4</span> <span class="number">1</span>.<span class="number">0</span>e-<span class="number">6</span> <span class="number">100</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure><p>如果已经进行了最小化，但是后续弛豫仍然会报错，可查看log文件，排查minimize运行停止的条件，适当调小能量和力的容差或者加大迭代步数。</p><p>如以上语句可改为：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">min_style</span> cg</span><br><span class="line"><span class="attribute">minimize</span> <span class="number">1</span>.<span class="number">0</span>e-<span class="number">15</span> <span class="number">1</span>.<span class="number">0</span>e-<span class="number">15</span> <span class="number">10000</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><h3 id="五、温度初始化"><a href="#五、温度初始化" class="headerlink" title="五、温度初始化"></a>五、温度初始化</h3><h4 id="1、velocity"><a href="#1、velocity" class="headerlink" title="1、velocity"></a>1、velocity</h4><p>原子速度在分子动力学模拟中是一个重要的参数，不仅决定了当前时刻体系的温度，也决定了原子在下一个的位置。</p><p>速度的设置是分子动力学模拟必不可少的一个步骤。</p><p>在lammps中，使用velocity命令设置原子的速度，命令格式为：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">velocity <span class="keyword">group</span><span class="params">-ID</span> style args <span class="built_in">keyword</span> value <span class="params">...</span></span><br></pre></td></tr></table></figure><p>其中，group-ID指定哪一组原子将要被设置速度，style决定了速度设置的类型。</p><p><strong>常见的速度设置方式有以下三种：</strong></p><h5 id="1-1-velocity-create进行初始化"><a href="#1-1-velocity-create进行初始化" class="headerlink" title="1.1  velocity create进行初始化"></a>1.1  <strong>velocity create进行初始化</strong></h5><p>分子动力学模拟需要有一个初始的状态，因此，当原子模型建立完成，进行minimize能量最小化之后，需要进行速度初始化，体系的温度是由原子的温度计算得到，因此，这个过程也称为温度初始化。</p><p>使用的命令为velocity create，例如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> <span class="literal">all</span> create <span class="number">300</span> <span class="number">4928459</span></span><br></pre></td></tr></table></figure><p>这一条语句的作用是对所有原子进行速度初始化，总体系的温度为300k，4928459为随机数，每个原子的速度被随机设置，默认的情况下，原子的速度符合正态分布。</p><p>也可以设置dist参数，使原子的速度符合高斯分布：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> <span class="literal">all</span> create <span class="number">300</span> <span class="number">4928459</span> dist gaussian</span><br></pre></td></tr></table></figure><p>当然，也可以对部分原子进行速度初始化，只需要改变原子组即可：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> mobile create <span class="number">298</span> <span class="number">4928459</span></span><br></pre></td></tr></table></figure><h5 id="1-2-velocity-set设置原子在特定方向上的速度"><a href="#1-2-velocity-set设置原子在特定方向上的速度" class="headerlink" title="1.2 velocity set设置原子在特定方向上的速度"></a>1.2 <strong>velocity set设置原子在特定方向上的速度</strong></h5><p>在拉伸、剪切等动力学模拟中，需要这种一部分原子沿着某一个方向移动，可以使用velocity set命令设定特定方向的速度。</p><p>例如在沿着Z轴进行拉伸模拟时，需要把底部原子固定住，使上部（top）原子沿着Z轴施加一个速度，可以写为：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">velocity top <span class="built_in">set</span> <span class="literal">NULL</span> <span class="literal">NULL</span> 2  sum <span class="literal">yes</span> units box</span><br></pre></td></tr></table></figure><p>上句代码中 NULL NULL 2 表示不设置x和y方向的速度，仅设置z方向速度，sum yes的意思是将速度2加到原子当前时刻速度分量上，如果不写sum yes，则表示忽略原来的速度，直接将z方向速度直接设为2。</p><p>默认的单位为晶格单位（lattice），units box关键字可将单位设置为实际速度单位，具体单位与体系units有关。</p><p>也可以多个方向同时设置：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> top set <span class="number">2</span> <span class="number">2</span> <span class="number">0</span> sum yes</span><br></pre></td></tr></table></figure><p>将x、y方向移动速度设为2（晶格单位），z方向速度为0，覆盖掉原来的速度值。设置之后相当于top组原子沿着x和y方向的对角线方向移动。</p><h5 id="1-3-velocity-ramp设置速度场"><a href="#1-3-velocity-ramp设置速度场" class="headerlink" title="1.3 velocity ramp设置速度场"></a>1.3 <strong>velocity ramp设置速度场</strong></h5><p>lammps允许在某一个方向上按照不同的坐标位置设置不同的速度，例如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> flow ramp vx <span class="number">0</span>.<span class="number">0</span> <span class="number">5</span>.<span class="number">0</span> y <span class="number">5</span> <span class="number">15</span></span><br></pre></td></tr></table></figure><p>这句代码是将y坐标从5到15的原子在x方向的速度设为0到5，y坐标小于5的原子x方向速度为0，y坐标大于15的原子x方向的速度为5，中间的原子x方向速度按照比例关系进行设定，例如y坐标为10的原子x方向上的速度为2.5。</p><h3 id="六、弛豫"><a href="#六、弛豫" class="headerlink" title="六、弛豫"></a>六、弛豫</h3><h4 id="1、nve-x2F-nvt-x2F-npt"><a href="#1、nve-x2F-nvt-x2F-npt" class="headerlink" title="1、nve&#x2F;nvt&#x2F;npt"></a>1、nve&#x2F;nvt&#x2F;npt</h4><p>在lammps模拟中，<strong>常用的系综有nve、nvt、npt三种系综</strong>，下面说说这三种系综的使用方法。</p><h5 id="1-1-nve（微正则系综）"><a href="#1-1-nve（微正则系综）" class="headerlink" title="1.1 nve（微正则系综）"></a>1.1 <strong>nve（微正则系综）</strong></h5><p><strong>nve系综保证系统中原子数量n、体系总体积v和体系总能量e保持不变。</strong></p><p>nve系综没有控温的功能，初始条件确定后，在力场的作用下，原子速度发生变化，相应的体系温度发生变化。我们知道，体系总能量e&#x3D;势能+动能，温度发生变化，动能就会变化，势能和动能相互转换，总能量保持不变。</p><p>nve使用方法：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br></pre></td></tr></table></figure><p>nve语法比较简单，使用fix语句确定原子组就可以了，nve系综对边界条件没有要求。</p><h5 id="1-2-nvt（等温等压）"><a href="#1-2-nvt（等温等压）" class="headerlink" title="1.2 nvt（等温等压）"></a>1.2 <strong>nvt（等温等压）</strong></h5><p><strong>nvt系综保证体系的原子数量n、体积v和温度t保持不变。</strong></p><p>nvt系综下，模拟盒子box的尺寸不会发生变化，lammps通过改变原子的速度对体系的温度进行调节。</p><p>nvt语法：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fix ID <span class="keyword">group</span>-ID nvt <span class="keyword">temp</span> Tstart Tstop Tdamp</span><br></pre></td></tr></table></figure><p>其中：</p><p>ID：fix语句ID标识符</p><p>group-ID：原子组标识</p><p>temp：温度标识</p><p>Tstart：初始温度</p><p>Tstop：结束温度</p><p>Tdamp：阻尼系数</p><p>Tstart、Tstop主要设置初始和结束温度，Tdamp称为阻尼系数，主要是控制温度调节的幅度。</p><p>在nvt系综中，<strong>Tdamp一般设置为100*timestep</strong>。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#nvt系综下恒温：</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nvt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span></span><br><span class="line"><span class="comment">#nvt系综下升温（比如融化）：</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nvt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">2000</span>.<span class="number">0</span> <span class="number">100</span></span><br><span class="line"><span class="comment">#nvt系综下降温（比如结晶）：</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nvt temp <span class="number">2000</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span></span><br></pre></td></tr></table></figure><p>nvt系综对边界条件没有要求。</p><h5 id="1-3-npt（等压等温）"><a href="#1-3-npt（等压等温）" class="headerlink" title="1.3 npt（等压等温）"></a>1.3 <strong>npt（等压等温）</strong></h5><p><strong>npt系综保证体系的原子数量n、压强p和温度t保持不变。</strong></p><p>npt系综不仅进行控温，还进行控压。和nvt一样，npt系综通过调节原子速度调控温度，不同的是，npt系综下box的尺寸可以发生变化。</p><p>npt系综通过改变box的尺寸调节压力，比如，当体系压力超过设定值时，扩大box尺寸降低压力。</p><p>npt语法：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fix ID <span class="keyword">group</span>-ID npt <span class="keyword">temp</span> Tstart Tstop Tdamp Pstart Pstop Pdamp</span><br></pre></td></tr></table></figure><p>npt语法和nvt差不多，只不过多了Pstart Pstop Pdamp三个参数进行压力控制。</p><p>Pstart、Pstop分别为初始压力、结束压力，<strong>Pdamp压力调节阻尼系数，通常为1000*timestep。</strong></p><p><strong>需要注意的是，npt在控压方向上必须保证边界条件为p，否则会出错。</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#温度300k，iso表示在各个方向上进行控压，压力为0</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> npt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span>.<span class="number">0</span> iso <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">1000</span>.<span class="number">0</span></span><br><span class="line"><span class="comment">#温度300k，对x、y方向进行控压，z方向不控压</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> npt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span>.<span class="number">0</span> x <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">1000</span> y <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure><p>在模拟的时候到底应该选择哪一个系综，可能是初学者最头疼的事了。</p><p><strong>选择系综主要与模拟的体系、模拟的目的有关。</strong></p><p>nve系综是一个封闭的系统，与外界没有能量交换，一般用于不需要控温、体系内能量相互转换的模拟，比如石墨烯卷曲到纳米棒。</p><p><strong>在大多数模拟中，用nvt或者npt都可以。</strong></p><p>以拉伸为例，使用deform进行拉伸，系综可以为nvt，也可以为npt，不过在npt下更有容易模拟泊松效应。</p><p>使用velocity方式进行拉伸，在拉伸方向只能为s边界，使用nvt系综更方便。</p><p>nvt和npt系综也可以配合使用，比如，对于比较复杂的模型，可以先进行nvt系综下弛豫，然后再进行npt系综下的弛豫。</p><p><strong>系综的选择没有统一的规则，最好的方法是多读文献，相同的模拟环境下，看看文献中用的是哪种系综。</strong></p><blockquote><p><strong>多数情况下，用nvt系综进行驰豫即可，但部分体积变化比较大的体系，用npt系综进行驰豫效果会更好。</strong></p></blockquote><h4 id="2、-控温"><a href="#2、-控温" class="headerlink" title="2、 控温"></a>2、 控温</h4><p>控温的基本原理是通过调节原子的速度达到调节体系温度的目的。调节原子速度的算法有很多，因此，对应的控温方式有多种。</p><h5 id="1、Nose-Hoover热浴法"><a href="#1、Nose-Hoover热浴法" class="headerlink" title="1、Nose-Hoover热浴法"></a>1、Nose-Hoover热浴法</h5><p>nvt和npt采用Nose-Hoover热浴法调节体系温度，因此，如果论文中提到Nose-Hoover，其实就是用nvt或者npt，至于用哪个，主要看是否控压。<br>对应代码为：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fix <span class="number">1</span> <span class="keyword">all</span> nvt <span class="keyword">temp</span> <span class="number">300.0</span> <span class="number">300.0</span> <span class="number">100.0</span></span><br><span class="line">或</span><br><span class="line">fix <span class="number">1</span> <span class="keyword">all</span> npt <span class="keyword">temp</span> <span class="number">300.0</span> <span class="number">300.0</span> <span class="number">100</span> iso <span class="number">0</span> <span class="number">0</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure><h5 id="2、langevin控温法"><a href="#2、langevin控温法" class="headerlink" title="2、langevin控温法"></a>2、langevin控温法</h5><p>langevin控温只通过力的计算调节原子的速度，但是不能对时间进行积分，如果对一组原子只施加langevin控温，原子会固定不动。<br>因此，一般需要配合fix nve使用。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> <span class="literal">all</span> langevin <span class="number">300</span> <span class="number">300</span> <span class="number">100</span>.<span class="number">0</span> <span class="number">48279</span></span><br></pre></td></tr></table></figure><p>对于分层控制的体系来说，这种控温方式相对灵活。<br>如在摩擦中，只对恒温层进行控温，其他层不控温：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> temp_layer langevin <span class="number">300</span> <span class="number">300</span> <span class="number">100</span>.<span class="number">0</span> <span class="number">48279</span></span><br></pre></td></tr></table></figure><h5 id="3、temp-x2F-rescale速度标定法"><a href="#3、temp-x2F-rescale速度标定法" class="headerlink" title="3、temp&#x2F;rescale速度标定法"></a>3、temp&#x2F;rescale速度标定法</h5><p>temp&#x2F;rescale称为速度标定法，是一种比较“粗暴”的控温方式。<br>基本原理是当温度超出设定温度时，通过缩放的方式调节温度使其达到设定值。<br>temp&#x2F;rescale也需要配合fix nve使用才能更新原子位置。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> flow temp/rescale <span class="number">100</span> <span class="number">1</span>.<span class="number">0</span> <span class="number">1</span>.<span class="number">1</span> <span class="number">0</span>.<span class="number">02</span> <span class="number">0</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure><h5 id="4、berendson控温"><a href="#4、berendson控温" class="headerlink" title="4、berendson控温"></a>4、berendson控温</h5><p>berendson控温我用的不多，不是很熟，大家可以查一下控温原理。<br>berendson控温同样需要和fix nve配合使用</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> <span class="literal">all</span> temp/berendsen <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>每一种控温方式都有其存在的合理性和应用范围，大家在选用的时候可多参考论文，灵活选择。</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="1、fix-setforce"><a href="#1、fix-setforce" class="headerlink" title="1、fix setforce"></a>1、fix setforce</h4><p>在分子动力学模拟中，有时需要固定一部分原子，例如，使用velocity命令对体系进行拉伸时，固定底部原子，对顶部原子施加一定的速度实现拉伸。</p><p>在纳米磨削中，也需要固定设置一个固定层，防止工件在磨削力的作用下移动。</p><p>在lammps中固定原子的方式有多种，我比较常用的是<strong>fix setforce</strong>命令。</p><p>fix setforce命令语法格式为：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fix ID <span class="keyword">group</span><span class="params">-ID</span> setforce fx fy fz <span class="built_in">keyword</span> value <span class="params">...</span></span><br></pre></td></tr></table></figure><p>其中：</p><ul><li>ID是本次fix设置的id，可以任意命名。</li><li>group-ID是需要被施加力的原子组</li><li>fx、fy、fz是施加力的方向和大小。</li></ul><p>fix setforce原理是在xyz方向上设置原子新的受力值，如果某个方向不需要设置，可设为NULL。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将indenter在xyz三个方向的受力设为0</span></span><br><span class="line"><span class="attribute">fix</span> freeze indenter setforce <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br><span class="line"><span class="comment">#将edge在yz方向上的受力设为0，x方向受力保持原值不变</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> edge setforce NULL <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>固定boundary组，就可以把boundary组各个方向的受力设为0：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> boundary setforce <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>如果只是使用setforce一句命令，有可能还会存在一个问题。</p><blockquote><p>当boundary组的原子受力为0，但如果boundary组原子有非零温度，也就是原子有速度的话，即使受力为0，原子也会按照初始的速度继续移动，同样达不到固定原子的效果。</p><p>这种情况下，需要配合velocity使用，把该原子组的速度设为0.</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">velocity</span> boundary set <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> boundary setforce <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>上面两句代码配合使用，就可以固定boundary原子。</p><h4 id="2、温度控制"><a href="#2、温度控制" class="headerlink" title="2、温度控制"></a>2、温度控制</h4><p>fix nvt命令中的temp默认为全部原子的平均温度，因为边界层原子温度为0k，只有提高top层原子温度才能保证全局温度为300k。<br> 解决的办法也比较简单，在fix nvt后面加一句fix_modify命令，把fix nvt命令中的temp控温对象设为top组原子。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#上层原子温度初始化为300k</span></span><br><span class="line"><span class="attribute">velocity</span> top create <span class="number">300</span> <span class="number">8989</span></span><br><span class="line"><span class="comment">#固定下层原子</span></span><br><span class="line"><span class="attribute">velocity</span> botom set <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">01</span> botom setforce <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="comment">#计算上下层温度</span></span><br><span class="line"><span class="attribute">compute</span> topTemp top temp</span><br><span class="line"><span class="attribute">compute</span> botTemp botom temp</span><br><span class="line"><span class="comment">#输出上下层和全局温度</span></span><br><span class="line"><span class="attribute">thermo</span>          <span class="number">100</span></span><br><span class="line"><span class="attribute">thermo_style</span>    custom step c_topTemp c_botTemp  temp </span><br><span class="line"><span class="comment">#保存结构文件</span></span><br><span class="line"><span class="attribute">dump</span>            <span class="number">1</span> <span class="literal">all</span> atom <span class="number">100</span> cu.xyz</span><br><span class="line"><span class="attribute">fix</span>             <span class="number">2</span> <span class="literal">all</span> nvt temp <span class="number">300</span> <span class="number">300</span> <span class="number">0</span>.<span class="number">01</span></span><br><span class="line"><span class="attribute">fix_modify</span>      <span class="number">2</span> temp topTemp</span><br><span class="line"><span class="attribute">run</span>             <span class="number">1000</span></span><br></pre></td></tr></table></figure><p>在阅读论文时，大家应该会注意到，不同的论文在模拟时，可能采用不同的控温方式。</p><p>有的是Nose-Hoover，有的是速度标定法，有的同学可能不知道如何用代码实现。</p><p>控温的基本原理是通过调节原子的速度达到调节体系温度的目的。</p><p><strong>调节原子速度的算法有很多，因此，对应的控温方式有多种。</strong></p><p><strong>1. Nose-Hoover热浴法</strong></p><p>nvt和npt采用Nose-Hoover热浴法调节体系温度。</p><p>如果论文中提到Nose-Hoover，其实就是用nvt或者npt，至于用哪个，主要看是否控压。</p><p>对应代码为：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nvt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span>  <span class="number">1</span> <span class="literal">all</span> npt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span> iso <span class="number">0</span> <span class="number">0</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure><p><strong>2. langevin控温法</strong></p><p>langevin控温只通过力的计算调节原子的速度，但是不能对时间进行积分。</p><p>如果对一组原子只施加langevin控温，原子会固定不动。</p><p><strong>因此，一般需要配合fix nve使用。</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> <span class="literal">all</span> langevin <span class="number">300</span> <span class="number">300</span> <span class="number">100</span>.<span class="number">0</span> <span class="number">48279</span></span><br></pre></td></tr></table></figure><p>对于分层控制的体系来说，<strong>这种控温方式相对灵活。</strong></p><p>如在摩擦中，只对恒温层进行控温，其他层不控温：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> temp_layer langevin <span class="number">300</span> <span class="number">300</span> <span class="number">100</span>.<span class="number">0</span> <span class="number">48279</span></span><br></pre></td></tr></table></figure><p><strong>3. temp&#x2F;rescale速度标定法</strong></p><p>temp&#x2F;rescale称为速度标定法，<strong>是一种比较“粗暴”的控温方式。</strong></p><p>基本原理是当温度超出设定温度时，通过缩放的方式调节温度使其达到设定值。</p><p>temp&#x2F;rescale也需要配合fix nve使用才能更新原子位置。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> flow temp/rescale <span class="number">100</span> <span class="number">1</span>.<span class="number">0</span> <span class="number">1</span>.<span class="number">1</span> <span class="number">0</span>.<span class="number">02</span> <span class="number">0</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure><p><strong>4. berendson控温</strong></p><p>berendson控温我用的不多，不是很熟，大家可以查一下控温原理。</p><p>berendson控温同样需要和fix nve配合使用</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> <span class="literal">all</span> temp/berendsen <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">100</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>每一种控温方式都有其存在的合理性和应用范围，大家在选用的时候可多参考论文，灵活选择。</p><h4 id="3、variable赋值"><a href="#3、variable赋值" class="headerlink" title="3、variable赋值"></a>3、variable赋值</h4><p>variable命令两种不同的使用方式：“v_”和”&amp;”。</p><p><strong>（1）“&amp;”立即获取变量值</strong></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable L0 <span class="keyword">equal</span> <span class="variable">$&#123;tmp&#125;</span></span><br></pre></td></tr></table></figure><p>这句命令是把变量“tmp”的值立即计算出来，而tmp的值为lx，因此，系统取得lx的值36.1，并将36.1赋值给L0。</p><p><strong>（2）“v_”获取变量计算公式，暂不计算具体数值</strong></p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">variable</span> L1 <span class="comment">equal v_tmp</span></span><br></pre></td></tr></table></figure><p>以上命令运行后，L1的值等于v_tmp的值，即L1&#x3D;v_tmp，但此时并不计算v_tmp的值，又因为v_tmp&#x3D;lx，因此L1&#x3D;lx。</p><p>但此时，<strong>并没有将lx的值赋值给L1，仅仅是明确这种相等的关系。</strong></p><p>当在下一句thermo命令输出L1的时候，再计算L1的值，根据公式L1&#x3D;lx，系统计算此时lx的值，并复制给L1。</p><h4 id="4、change-box"><a href="#4、change-box" class="headerlink" title="4、change_box"></a>4、change_box</h4><p>change_box改变box尺寸有<strong>三种方式：绝对尺寸、增量尺寸、比例尺寸</strong>，下面详细介绍这三种方式。</p><p><strong>（1）绝对尺寸</strong></p><p>change_box可一步到位，直接设定box在xyz各方向上的新尺寸。</p><p>命令格式为：</p><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">change_box all x|y|z final lo hi</span><br></pre></td></tr></table></figure><p>例如，将x方向box尺寸改为(0,100)：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> x final <span class="number">0</span> <span class="number">100</span> units box</span><br></pre></td></tr></table></figure><p><strong>（2）增量尺寸</strong></p><p>有些时候，我们只想改变box某一侧的尺寸，这时候可设置在某个方向上增大（或减小）一定的尺寸。</p><p>命令格式为：</p><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">change_box all x|y|z delta dlo dhi</span><br></pre></td></tr></table></figure><p>delta表示增量，dlo表示在该轴负方向的尺寸增量，dhi表示该轴正方向尺寸增量。</p><p>例如，在z轴正方向增加50埃米：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> z delta <span class="number">0</span> <span class="number">50</span> units box</span><br></pre></td></tr></table></figure><p><strong>（3）比例尺寸</strong></p><p>box的尺寸也可以按照一定的比例进行缩放。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> x|y|z scale factor<span class="meta"> [volume]</span></span><br></pre></td></tr></table></figure><p><strong>scale为缩放关键字，factor为缩放比例，volume表示体积是否变化。</strong></p><p>下句命令表示：x方向扩大为原尺寸的1.1倍，z方向尺寸相应的缩小以保证体积不变</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> x scale <span class="number">1</span>.<span class="number">1</span> z volume</span><br></pre></td></tr></table></figure><p>x方向扩大为1.1倍，y和z方向相应的缩小，保证体积不变:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> x scale <span class="number">1</span>.<span class="number">1</span> y volume z volume</span><br></pre></td></tr></table></figure><p>x和y方向均多大为1.1倍，z方向缩小，保证体积不变</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> x scale <span class="number">1</span>.<span class="number">1</span> z volume y scale <span class="number">1</span>.<span class="number">1</span> z volume</span><br></pre></td></tr></table></figure><p>下面是change_box的一个案例in文件，初始模型尺寸为30<em>10</em>10（晶格单位），在z方向增加真空层，box尺寸扩大为：30<em>10</em>20。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">units</span>   metal</span><br><span class="line"><span class="attribute">boundary</span> p p p</span><br><span class="line"><span class="attribute">atom_style</span> atomic</span><br><span class="line"><span class="attribute">lattice</span> fcc <span class="number">3</span>.<span class="number">61</span></span><br><span class="line"><span class="attribute">region</span>  box block <span class="number">0</span> <span class="number">30</span> <span class="number">0</span> <span class="number">10</span> <span class="number">0</span> <span class="number">10</span></span><br><span class="line"><span class="attribute">create_box</span> <span class="number">1</span> box</span><br><span class="line"><span class="attribute">create_atoms</span> <span class="number">1</span> box</span><br><span class="line"><span class="attribute">mass</span>    <span class="number">1</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">write_data</span> cu1.data</span><br><span class="line"><span class="attribute">change_box</span> <span class="literal">all</span> z delta <span class="number">0</span> <span class="number">5</span></span><br><span class="line"><span class="attribute">write_data</span> cu2.data</span><br></pre></td></tr></table></figure><p>增加真空层后的效果为：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/RDM2ibjLOnY7qq98mBXhPHm00iakcicY6ibicjyMibX5WxDp0aBLHlcWypcibslQcmOqiaatRMKJAH8wZrCKw59TE6IftQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><h4 id="5、displace-atoms"><a href="#5、displace-atoms" class="headerlink" title="5、displace_atoms"></a>5、displace_atoms</h4><p>displace_atoms命令语法规则为</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">displace_atoms <span class="keyword">group</span>-ID <span class="keyword">move</span> delx dely delz</span><br></pre></td></tr></table></figure><p>displace_atoms设置move关键词可实现group组原子在x、y、z方向的坐标值按照增量“delx dely delz”变化，从而实现快速移动。</p><p>“delx dely delz”值为正表示沿坐标轴正方向移动，值为负表示沿坐标轴负方向移动。</p><p>下面以简化版的摩擦模型为例，演示displace_atoms具体使用方法。</p><p>模型底部为工件Cu，上部为金刚石刀具，初始模型为：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/RDM2ibjLOnY7Hj64VdUfvTEv37vc3FGVNTxAicic0at9zkEjoF7adqjeleMRAQwmIRiaeY0TE38khELIzrl4UCicA1w/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>快速移动后，模型为：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/RDM2ibjLOnY7Hj64VdUfvTEv37vc3FGVNFNFcoGCqLWUYViadgmmPJQKo3oshicLsPV4x5gGzCUpsjTrKqOZWeNUw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>全部in文件如下：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">units</span> metal</span><br><span class="line"><span class="attribute">atom_style</span> atomic</span><br><span class="line"><span class="attribute">boundary</span> p p p</span><br><span class="line"><span class="comment">#create box</span></span><br><span class="line"><span class="attribute">region</span>  box block <span class="number">0</span> <span class="number">200</span> <span class="number">0</span> <span class="number">40</span> <span class="number">0</span> <span class="number">100</span> units box</span><br><span class="line"><span class="attribute">create_box</span> <span class="number">2</span> box</span><br><span class="line"><span class="comment">#create Cu</span></span><br><span class="line"><span class="attribute">region</span> piece block <span class="number">0</span> <span class="number">200</span> <span class="number">0</span> <span class="number">40</span> <span class="number">0</span> <span class="number">40</span> units box</span><br><span class="line"><span class="attribute">lattice</span> fcc <span class="number">3</span>.<span class="number">61</span> </span><br><span class="line"><span class="attribute">create_atoms</span> <span class="number">1</span> region piece</span><br><span class="line"><span class="comment">#create ball</span></span><br><span class="line"><span class="attribute">region</span> ball sphere <span class="number">100</span> <span class="number">20</span> <span class="number">85</span> <span class="number">15</span> units box</span><br><span class="line"><span class="attribute">lattice</span>       diamond  <span class="number">3</span>.<span class="number">52</span> </span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">2</span> region ball</span><br><span class="line"><span class="attribute">group</span> ball type <span class="number">2</span></span><br><span class="line"><span class="comment">#mass define</span></span><br><span class="line"><span class="attribute">mass</span>    <span class="number">1</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">mass</span>    <span class="number">2</span> <span class="number">12</span></span><br><span class="line"><span class="comment">#save data</span></span><br><span class="line"><span class="attribute">write_data</span> all1.data</span><br><span class="line"><span class="comment">#move ball</span></span><br><span class="line"><span class="attribute">displace_atoms</span> ball move <span class="number">0</span> <span class="number">0</span> -<span class="number">30</span> units box</span><br><span class="line"><span class="comment">#save data</span></span><br><span class="line"><span class="attribute">write_data</span> all2.data</span><br></pre></td></tr></table></figure><h4 id="6、reset-timestep"><a href="#6、reset-timestep" class="headerlink" title="6、reset_timestep"></a>6、reset_timestep</h4><p>lammps模拟时，一般需要设置能量最小化、弛豫、数据采集等阶段，不同的阶段运行步数不同。</p><p>在默认情况下，模拟步数是从模拟开始到模拟结束一直累加计算的。</p><p><strong>一般情况下，这种设置不会有太大的影响。但在某些情况下，某一阶段步数不是从零开始，在采集数据是会造成不必要的麻烦。</strong></p><p>如在摩擦模拟中，摩擦球的运动距离可由模拟步数<em>步长</em>运动速度计算得到，此时，模拟步数从0开始计数相对比较方便。</p><p>这时候就可以使用reset_timestep命令,语法为：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">reset_timestep N</span></span><br></pre></td></tr></table></figure><p>该命令的作用是将当前模拟步数重新设为第N步。</p><p>如果使模拟步数归零，命令为：6</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">reset_timestep</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h5 id="7、变量的前缀：v-、c-、f-。"><a href="#7、变量的前缀：v-、c-、f-。" class="headerlink" title="7、变量的前缀：v_、c_、f_。"></a>7、变量的前缀：<code>v_</code>、<code>c_</code>、<code>f_</code>。</h5><p><strong>（1）前缀v_</strong></p><p>lammps中使用variable定义一个变量，类似与C语言中变量的定义。</p><p>如定义一个名为beta的变量：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">variable</span> beta equal temp/<span class="number">3</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>要获取beta变量的值，不能直接用beta这个变量名，需要在变量名称的前面加前缀“v_”:</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">thermo <span class="number">100</span></span><br><span class="line">thermo_style <span class="keyword">custom</span> <span class="keyword">step</span> v_beta</span><br></pre></td></tr></table></figure><p><strong>(2)前缀c_</strong></p><p>compute命令在lammps中主要是计算模拟过程中的一些量，如力、能量等。</p><p>compute计算结果存储到与compute id相关的变量中，如果要提取计算结果，需要在id前面加前缀“c_”：c_id。</p><p>如计算单原子的应力：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compute <span class="number">1</span> mobile stress/atom <span class="literal">NULL</span></span><br></pre></td></tr></table></figure><p>读取计算结果：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">thermo</span> <span class="number">100</span></span><br><span class="line"><span class="attribute">thermo_style</span> custom step c_1[<span class="number">1</span>] c_1[<span class="number">2</span>] c_1[<span class="number">3</span>]</span><br></pre></td></tr></table></figure><p>c_1表示单原子的应力结果，如果结果是一个标量，直接用c_1就可以输出，如果计算结果是一个矢量（类似c语言的数组），需要在c_1后面加[1|2|3]获得其中的某一个值。</p><p><strong>（3）前缀f_</strong></p><p>fix命令是另一个重要的lammps命令，某些fix命令不仅起设置作用，还会把设置结果存储到f_id的变量中。</p><p>如固定top组的命令为：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> top setforce <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>top组受力被重置为0，但在重置为0之前，top组原子受力被保存到f_1中，在xyz三个方向的受力分别为：f_1[1]、f_1[2]、f_f[3]。</p><p>这些力可以存为一个变量，也可以直接输出。</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">variable</span>  forcex <span class="comment">equal f_1[1]</span></span><br><span class="line">thermo_style <span class="comment">custom step v_forcex f_1[1]</span></span><br></pre></td></tr></table></figure><h4 id="7、三维阵列"><a href="#7、三维阵列" class="headerlink" title="7、三维阵列"></a>7、三维阵列</h4><p>replicate命令格式非常简单：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">replicate nx ny nz</span></span><br></pre></td></tr></table></figure><p>nx、ny、nz为在xyz方向上复制的份数，和MS建立超晶胞命令类似，如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">replicate</span> <span class="number">2</span> <span class="number">3</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>表示分别在xyz方向上扩大为2、3、2倍。</p><p>代码如下：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">lattice</span> fcc <span class="number">3</span>.<span class="number">61</span></span><br><span class="line"><span class="attribute">region</span> Cu sphere <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">20</span> units box</span><br><span class="line"><span class="attribute">create_box</span> <span class="number">1</span> Cu</span><br><span class="line"><span class="attribute">create_atoms</span> <span class="number">1</span> region Cu</span><br><span class="line"><span class="attribute">replicate</span> <span class="number">3</span> <span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="attribute">mass</span> <span class="number">1</span> <span class="number">64</span></span><br><span class="line"><span class="attribute">write_data</span> Cu.data</span><br></pre></td></tr></table></figure><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><h4 id="0、compute"><a href="#0、compute" class="headerlink" title="0、compute"></a>0、compute</h4><p>热力学量和动力学量：ke、pe、temp、pressure、msd（平均均方位移）、vacf（速度自相关函数）</p><p>结构量：rdf、coord&#x2F;atom</p><h5 id="0-1、重新计算温度"><a href="#0-1、重新计算温度" class="headerlink" title="0.1、重新计算温度"></a>0.1、重新计算温度</h5><p>根据分子动力学理论，体系的温度与原子的速度有关。</p><p>温度由公式 KE &#x3D; dim&#x2F;2NKT计算得到</p><p>其中：KE为原子组的总动能（1&#x2F;2 mv^2)，dim为模拟维度，N为原子总数，K为玻尔兹曼常数，T为温度。</p><p>在一些模拟中，体系的温度并不能完全按照以上公式进行计算：</p><p>该命令首先计算原子组质心的速度，在计算温度时，去除质心速度：<code>compute temp/com</code></p><p>使用方法：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compute myTemp mobile temp/<span class="keyword">com</span></span><br></pre></td></tr></table></figure><p>重新计算温度后，可在thermo或者fix命令中使用新的温度，如用在nvt系综设置中：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fix</span> <span class="number">1</span> flow nvt temp <span class="number">300</span> <span class="number">300</span> <span class="number">0</span>.<span class="number">1</span></span><br><span class="line"><span class="attribute">fix_modify</span> <span class="number">1</span> temp myTemp</span><br></pre></td></tr></table></figure><p>或者：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">thermo_modify temp myTemp</span></span><br></pre></td></tr></table></figure><p><strong>温度修正命令不仅用到流体体系模拟中，在剪切或者有固定边界层的体系中同样适用。</strong></p><p>对温度进行修正计算后，模拟结果会更加准确。</p><h5 id="0-2、绘制温度云图"><a href="#0-2、绘制温度云图" class="headerlink" title="0.2、绘制温度云图"></a>0.2、绘制温度云图</h5><p>介绍lammps一个更好的绘制温度云图的方法：compute ave&#x2F;sphere&#x2F;atom</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compute</span> <span class="number">1</span> <span class="literal">all</span> ave/sphere/atom</span><br></pre></td></tr></table></figure><p>默认的半径为pair的截断半径，也可以自己设置新的半径，如：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compute</span> <span class="number">1</span> <span class="literal">all</span> ave/sphere/atom cutoff <span class="number">5</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure><p>如激光加热Cu球得到的温度云图为：</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/RDM2ibjLOnY7iaDplRMAZs3fR9NBCCQggu9knVia9fKxwKW5qLokdne2n7xwoMBpdCL6Tmh3X39xjIZ2t0Szgy2yQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><h4 id="1、thermo"><a href="#1、thermo" class="headerlink" title="1、thermo"></a>1、thermo</h4><p>thermo命令不仅把数据显示到屏幕上，同时把显示数据保存到log.lammps中，便于后期进行数据处理。打开log.lammps文件，找到输出数据部分，复制到绘图软件即可。</p><h5 id="1-1-thermo命令"><a href="#1-1-thermo命令" class="headerlink" title="1.1 thermo命令"></a>1.1 thermo命令</h5><p>lammps提供了thermo命令实时把模拟结果信息输出到屏幕上，同时也会把信息存入到log文件，便于后期数据处理。</p><p>thermo命令语法格式：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">thermo N</span></span><br></pre></td></tr></table></figure><p>N表示每隔N步在屏幕上输出默认信息。</p><h5 id="1-2-thermo-style命令"><a href="#1-2-thermo-style命令" class="headerlink" title="1.2 thermo_style命令"></a>1.2 <strong>thermo_style命令</strong></h5><p>通常，thermo命令配合thermo_style使用。</p><p>thermo_style有三种主要的显示方式：one、multi、custom。</p><p>thermo_style one命令是把信息都输出在一行中，这也是thermo_style默认的方式，如果不写thermo_style命令，系统默认的就是thermo_style one。</p><p>因此，下面2个命令是等价的：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#输出设置1</span></span><br><span class="line"><span class="attribute">thermo</span>  <span class="number">100</span></span><br><span class="line"><span class="comment">#输出设置2</span></span><br><span class="line"><span class="attribute">thermo</span>  <span class="number">100</span></span><br><span class="line"><span class="attribute">thermo_style</span> one</span><br></pre></td></tr></table></figure><p>thermo_style one和thermo_style multi使用比较简单，但是有个缺点，<strong>只能显示默认的几个信息量，无法自定义显示的内容。</strong></p><ul><li>thermo_style custom命令格式为：</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">thermo_style</span> custom 输出量<span class="number">1</span> 输出量<span class="number">2</span> 输出量<span class="number">3</span> ……</span><br></pre></td></tr></table></figure><p>在thermo_style custom命令中输出的量不仅包含系统已经定义好的变量，还包括通过compute、fix、variable等命令生成的自定义变量。主要包括：</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">step,</span> elapsed, elaplong, dt, time,</span><br><span class="line"><span class="built_in">cpu,</span> tpcpu, spcpu, cpuremain, part, timeremain,</span><br><span class="line"><span class="built_in">atoms,</span> temp, press, pe, ke, etotal,</span><br><span class="line"><span class="built_in">evdwl,</span> ecoul, epair, ebond, eangle, edihed, eimp,</span><br><span class="line"><span class="built_in">emol,</span> elong, etail,</span><br><span class="line"><span class="built_in">enthalpy,</span> ecouple, econserve,</span><br><span class="line"><span class="built_in">vol,</span> density, lx, ly, lz, xlo, xhi, ylo, yhi, zlo, zhi,</span><br><span class="line"><span class="built_in">xy,</span> xz, yz, xlat, ylat, zlat,</span><br><span class="line"><span class="built_in">bonds,</span> angles, dihedrals, impropers,</span><br><span class="line"><span class="built_in">pxx,</span> pyy, pzz, pxy, pxz, pyz,</span><br><span class="line"><span class="built_in">fmax,</span> fnorm, nbuild, ndanger,</span><br><span class="line"><span class="built_in">cella,</span> cellb, cellc, cellalpha, cellbeta, cellgamma,</span><br><span class="line"><span class="built_in">c_ID,</span> c_ID[I], c_ID[I][J],</span><br><span class="line"><span class="built_in">f_ID,</span> f_ID[I], f_ID[I][J],</span><br><span class="line"><span class="built_in">v_name,</span> v_name[I]</span><br></pre></td></tr></table></figure><blockquote><p>例如，每100步在屏幕上输出<strong>步数（step）、温度（temp）、压力（press）、势能（pe）、体积（vol），三个方向尺寸（lx ly lz）</strong>可以写为：</p></blockquote><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">thermo <span class="number">100</span></span><br><span class="line">thermo_style custom step temp press pe vol lx ly lz</span><br></pre></td></tr></table></figure><p>对于一些波动比较大的值，thermo命令不能进行均值输出。比如摩擦力曲线，波动比较大，使用平均值输出（fix ave&#x2F;time）能够得到更平滑的曲线。</p><h4 id="2、dump"><a href="#2、dump" class="headerlink" title="2、dump"></a>2、dump</h4><p>dump命令输出单个原子的信息，如原子坐标、受力、原子速度等。</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dump</span> ID <span class="keyword">group</span>-ID style N <span class="keyword">file</span> args</span><br></pre></td></tr></table></figure><h5 id="2-1-最省心的输出方式：dump-atom"><a href="#2-1-最省心的输出方式：dump-atom" class="headerlink" title="2.1 最省心的输出方式：dump atom"></a>2.1 <strong>最省心的输出方式：dump atom</strong></h5><p>在调试程序的时候，如果我们仅仅需要输出原子坐标，可以使用这一条命令：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dump</span> <span class="number">1</span> <span class="literal">all</span> atom <span class="number">100</span> dump.atom</span><br></pre></td></tr></table></figure><p>每隔100步输出全部原子的坐标，原子坐标存到dump.atom中，文件的后缀名没有统一标准，可以任意取。</p><p>使用atom方式输出的dump.atom文件中只包含原子类型和原子坐标。</p><p>只输出某个原子组的信息，把all改成原子组ID即可：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dump</span> <span class="number">1</span> subgroup atom <span class="number">100</span> dump.atom</span><br></pre></td></tr></table></figure><h5 id="2-2-个性化的输出方式：dump-custom"><a href="#2-2-个性化的输出方式：dump-custom" class="headerlink" title="2.2 个性化的输出方式：dump custom"></a>2.2 <strong>个性化的输出方式：dump custom</strong></h5><p>dump atom类型仅输出原子坐标，如需输出更多的原子信息，可使用dump custom命令自定义输出。</p><p>custom类型可输出的原子信息包括：</p><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">possible attributes = id, mol, <span class="keyword">proc</span>,<span class="title"> procp1,</span> type,<span class="title"> element,</span> mass,<span class="title">                      </span></span><br><span class="line"><span class="title">                      x,</span> y,<span class="title"> z,</span> xs,<span class="title"> ys,</span> zs,<span class="title"> xu,</span> yu,<span class="title"> zu,</span> <span class="title">                    </span></span><br><span class="line"><span class="title">                      xsu,</span> ysu,<span class="title"> zsu,</span> ix,<span class="title"> iy,</span> iz,<span class="title">                     </span></span><br><span class="line"><span class="title">                      vx,</span> vy,<span class="title"> vz,</span> fx,<span class="title"> fy,</span> fz,<span class="title">                      </span></span><br><span class="line"><span class="title">                      q,</span> mux,<span class="title"> muy,</span> muz,<span class="title"> mu,</span> <span class="title">                    </span></span><br><span class="line"><span class="title">                      radius,</span> diameter,<span class="title"> omegax,</span> omegay,<span class="title"> omegaz,</span> <span class="title">                   </span></span><br><span class="line"><span class="title">                      angmomx,</span> angmomy,<span class="title"> angmomz,</span> tqx,<span class="title"> tqy,</span> tqz,<span class="title">                   </span></span><br><span class="line"><span class="title">                      c_ID,</span> c_ID[N],<span class="title"> f_ID,</span> f_ID[N],<span class="title"> v_name</span></span><br></pre></td></tr></table></figure><p>使用方法也比较简单，在输出文件名的后面列出要输出的原子信息即可，例如：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dump <span class="number">1</span> <span class="keyword">all</span> custom <span class="number">100</span> dump.atom id <span class="keyword">type</span> <span class="type">x </span>y z vx vy vz fx fy fz</span><br></pre></td></tr></table></figure><p>上一句命令输出的原子信息包括：原子id，原子类型，xyz坐标，xyz方向的速度，xyz方向的受力</p><p>custom类型不仅能够输出原子系统自带的属性，也支持输出compute、fix等命令计算的原子信息：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compute</span> myPress <span class="literal">all</span> stress/atom NULL</span><br><span class="line"><span class="attribute">dump</span> <span class="number">2</span> <span class="literal">all</span> custom <span class="number">100</span> tmp.dump id myPress[<span class="number">1</span>] myPress[<span class="number">2</span>] myPress[<span class="number">3</span>] &amp;                                                                       myPress[<span class="number">4</span>] myPress[<span class="number">5</span>] myPress[<span class="number">6</span>]</span><br></pre></td></tr></table></figure><h5 id="2-3-压缩文件输出：dump-atom-x2F-gz"><a href="#2-3-压缩文件输出：dump-atom-x2F-gz" class="headerlink" title="2.3 压缩文件输出：dump atom&#x2F;gz"></a>2.3 <strong>压缩文件输出：dump atom&#x2F;gz</strong></h5><p>如果体系比较大，包含的原子比较多，输出的dump.atom文件会比较大，可以使用atom&#x2F;gz样式，将坐标文件进行压缩后再保存。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dump</span> <span class="number">1</span> <span class="literal">all</span> atom/gz <span class="number">100</span> dump.atom.gz</span><br></pre></td></tr></table></figure><p>压缩文件的类型为gz，使用常用的解压软件都可以进行解压，解压之后得到dump.atom文件，与上一步得到的文件内容一致。</p><h5 id="2-4-文件分步输出：dump"><a href="#2-4-文件分步输出：dump" class="headerlink" title="2.4 文件分步输出：dump *"></a>2.4 <strong>文件分步输出：dump *</strong></h5><p>对于非常大的体系，原子信息输出到一个文件中可能会比较大。文件导入到ovito分析时电脑反应比较慢，后期处理不是很方便。</p><p>lammps提供了一种分步输出轨迹文件的方法：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dump <span class="number">1</span> <span class="keyword">all</span> custom <span class="number">100</span> dump.atom.* id <span class="keyword">type</span> <span class="type">x </span>y z</span><br></pre></td></tr></table></figure><p>在文件名的后面加上”.<em>“，每隔100步系统会把原子轨迹保存到1个新文件里，“</em>”会被自动的替换成步数。</p><p>例如模拟300步，系统会保存4个文件：dump.atom.0、dump.atom.100、dump.atom.200、dump.atom.300。</p><p>dump.atom.0是模拟0步时的初始状态信息，每次模拟时，系统会自动保存该文件。</p><p>这样进行分步保存之后，每个轨迹文件会小的多，把单个文件导入到ovito后，ovito也会自动的寻找同文件夹下的其他轨迹文件，分析起来和单个文件效果是一样的，但是速度要快很多。</p><p><strong>对于一般模拟来说，上面4种方法基本上能够满足要求，如有更高级的需求，可以查阅dump命令手册。</strong></p><h5 id="2-5-dump-modify-element"><a href="#2-5-dump-modify-element" class="headerlink" title="2.5 dump_modify element"></a>2.5 <strong>dump_modify element</strong></h5><p><strong>默认情况下，ovito不能区分元素和原子半径</strong></p><p>如果希望安装ovito预设方案显示不同的原子半径和元素颜色，需要在dump命令中指定原子对应的元素类型。</p><p>使用的命令为dump_modify element.</p><p>这个命令比较简单，在element后面按照data文件中mass列表中的顺序指定对应的元素即可：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dump</span>    <span class="number">1</span> <span class="literal">all</span> xyz <span class="number">1</span> dump.xyz </span><br><span class="line"><span class="attribute">dump_modify</span> <span class="number">1</span> element O H Na Cl</span><br></pre></td></tr></table></figure><p>在ovito中打开dump.xyz，显示效果比之前要好很多：</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220927094805625.png"></p><blockquote><p>要注意的是，dump_modify element支持的文件格式有限，如果用ovito查看结果，使用xyz格式即可。</p></blockquote><h4 id="3、fix"><a href="#3、fix" class="headerlink" title="3、fix"></a>3、fix</h4><h5 id="3-1、fix-print"><a href="#3-1、fix-print" class="headerlink" title="3.1、fix print"></a>3.1、fix print</h5><p>thermo命令输出的数据需要单独从log文件中复制出来，如果数据较多就会比较麻烦，比较简单方式是把数据输出到一个单独的文件。</p><p>如拉伸过程中的应力应变数据输出到stress-strain.dat文件，可以使用fix print命令：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fix 1 all <span class="built_in">print</span> 100 <span class="string">&quot;<span class="variable">$&#123;strainx&#125;</span> <span class="variable">$&#123;stressx&#125;</span>&quot;</span> file stress-strain.dat<span class="built_in"> screen </span><span class="literal">no</span></span><br></pre></td></tr></table></figure><h5 id="3-2、fix-ave-x2F-time命令"><a href="#3-2、fix-ave-x2F-time命令" class="headerlink" title="3.2、fix ave&#x2F;time命令"></a>3.2、<strong>fix ave&#x2F;time命令</strong></h5><p>fix print命令按一定步数输出当前步数的瞬时值，有些模拟数据可能波动比较大，用fix print命令得到的曲线可能不平滑，此时，可对数据按一定步数进行平均后进行输出，用到的命令为fix ave&#x2F;time命令</p><p>fix ave&#x2F;time命令的功能是按照设定的步数对输出变量求平均值，并将平均值保存到设定文件中。</p><p>语法规则为：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fix ID <span class="keyword">group</span><span class="params">-ID</span> ave/time Nevery Nrepeat Nfreq value1 value2 <span class="params">...</span> <span class="built_in">keyword</span> args <span class="params">...</span></span><br></pre></td></tr></table></figure><p>这个命令的语法相对复杂，设置的参数也较多，本文只介绍一种用法。</p><p><strong>2. fix ave&#x2F;time使用方法</strong></p><p>以输出摩擦过程中摩擦球的受力为例：</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">compute</span> fx0 ball reduce <span class="built_in">sum</span> fx</span><br><span class="line"><span class="built_in">compute</span>  fy0 ball reduce <span class="built_in">sum</span> fy</span><br><span class="line"><span class="built_in">compute</span>  fz0 ball reduce <span class="built_in">sum</span> fz</span><br><span class="line">variable step0 equal step</span><br><span class="line"><span class="built_in">fix</span> <span class="number">1</span> all ave/<span class="built_in">time</span> <span class="number">10</span> <span class="number">5</span> <span class="number">100</span> v_step0 c_fx0 c_fy0 c_fz0 file friction.txt</span><br></pre></td></tr></table></figure><p>前三行分别计算xyz方向的力，第四行代码获取当前模拟步数。</p><p>fix命令中10 5 100的意思是每100步保存1次数据，保存的数据为v_step0 c_fx0 c_fy0 c_fz0变量的平均值。</p><p>file friction.txt把数据保存到friction.txt文件中。</p><p>最难理解的可能就是10 5 100这三个数的设置。</p><p>10 5 100表示每100步计算或者保存1次数据（平均值），“10 5”参数表示以100步为基准向前每隔10步采1个样，共采5个样。</p><p>所以，计算第一个平均值采的样为：60、70、80、90、100，对这5步的受力值取平均即为friction.txt中的第一组数据。</p><p>同理，如手册中的例子为“2 6 100”，采样为：90,92,94,96,98,100。</p><h4 id="4、径向分布函数RDF"><a href="#4、径向分布函数RDF" class="headerlink" title="4、径向分布函数RDF"></a>4、径向分布函数RDF</h4><p>径向分布函数（Radial distribution function）是指给定某个粒子的坐标，其他粒子在空间的分布几率。</p><p>在lammps中对应的命令为：compute rdf。</p><p>语法格式为：</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compute ID <span class="keyword">group</span><span class="params">-ID</span> rdf Nbin itype1 jtype1 itype2 jtype2 <span class="params">...</span> <span class="built_in">keyword</span>/value <span class="params">...</span></span><br></pre></td></tr></table></figure><p>其中，Nbin为分片数量，一般选择数值为100-500之间。</p><p>itype1表示中心原子，jtype1为分布原子。</p><p>itype1和jtype1应该成对设置，表示计算第i种原子周围出现第j种原子的概率。</p><p>如果不设置itype1、jtype1表示全部原子周围出现其它原子的概率。</p><h5 id="案例："><a href="#案例：" class="headerlink" title="案例："></a>案例：</h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attribute">units</span>    real</span><br><span class="line"><span class="attribute">atom_style</span>  atomic</span><br><span class="line"><span class="comment"># 读取data文件</span></span><br><span class="line"><span class="attribute">read_data</span>  Kr.data</span><br><span class="line"><span class="comment"># 力场设置</span></span><br><span class="line"><span class="attribute">pair_style</span>      lj/cut <span class="number">10</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">pair_coeff</span>      <span class="number">1</span> <span class="number">1</span> <span class="number">0</span>.<span class="number">34319013128</span> <span class="number">3</span>.<span class="number">591</span></span><br><span class="line"><span class="attribute">neighbor</span>        <span class="number">1</span>.<span class="number">0</span> bin</span><br><span class="line"><span class="attribute">neigh_modify</span>    every <span class="number">1</span> check yes</span><br><span class="line"><span class="comment">#输出设置</span></span><br><span class="line"><span class="attribute">thermo</span>          <span class="number">1000</span></span><br><span class="line"><span class="attribute">thermo_style</span>    custom step temp pe ke etotal</span><br><span class="line"><span class="attribute">dump</span>            <span class="number">2</span> <span class="literal">all</span> custom <span class="number">5000</span> md.lammpstrj id type x y z</span><br><span class="line"><span class="comment">#计算rdf</span></span><br><span class="line"><span class="attribute">timestep</span>        <span class="number">1</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">compute</span>         myRDF <span class="literal">all</span> rdf <span class="number">500</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="attribute">fix</span>            <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">fix</span>             <span class="number">2</span> <span class="literal">all</span> ave/time <span class="number">1</span> <span class="number">100000</span> <span class="number">100000</span> c_myPDF[*] file rdf.dat mode vector</span><br><span class="line"><span class="attribute">run</span>            <span class="number">100000</span></span><br><span class="line"><span class="attribute">unfix</span>        <span class="number">2</span></span><br><span class="line"><span class="attribute">unfix</span>        <span class="number">1</span></span><br></pre></td></tr></table></figure><p>以c_myRDF[1]为横坐标，c_myRDF[2]为纵坐标，即可绘制g(r)曲线。</p><blockquote><p><strong>fix ave&#x2F;time，分步采样取平均值，使曲线平滑</strong></p></blockquote><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220923155712014.png"></p><h4 id="5、原子组势能、速度、温度等"><a href="#5、原子组势能、速度、温度等" class="headerlink" title="5、原子组势能、速度、温度等"></a>5、原子组势能、速度、温度等</h4><p><strong>（1）分组</strong></p><p>以铜、水润湿体系为例，分别根据原子类型设置两个原子组：water、cu：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">group</span> <span class="title">water</span> <span class="keyword">type</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">group</span> <span class="title">cu</span> <span class="keyword">type</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><p><strong>（2）计算每个原子的势能</strong></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compute mype <span class="keyword">all</span> <span class="keyword">pe</span>/atom</span><br></pre></td></tr></table></figure><p><strong>（3）求和</strong></p><p>把两个组内的原子势能相加，得到原子的势能，compute reduce sum命令实现单原子量的求和计算。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">compute <span class="number">1</span> water <span class="built_in">reduce</span> <span class="built_in">sum</span> c_mype</span><br><span class="line">compute <span class="number">2</span> cu <span class="built_in">reduce</span> <span class="built_in">sum</span> c_mype</span><br></pre></td></tr></table></figure><p><strong>（4）输出</strong></p><p>原子组的势能为标量，可使用thermo命令输出：</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">thermo <span class="number">100</span></span><br><span class="line">thermo_style <span class="keyword">custom</span> <span class="keyword">step</span> temp pe c_1 c2</span><br></pre></td></tr></table></figure><p>这个方法也可以计算原子组的其它量，如：<strong>原子组的动能、电荷、速度、温度</strong>等等。</p><h4 id="6、载荷-深度曲线"><a href="#6、载荷-深度曲线" class="headerlink" title="6、载荷-深度曲线"></a>6、载荷-深度曲线</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compute</span> <span class="number">1</span> tool group/group newton</span><br><span class="line"><span class="attribute">thermo</span>     <span class="number">20</span></span><br><span class="line"><span class="attribute">thermo_style</span>  custom step temp press c_1 c_1[<span class="number">1</span>] c_1[<span class="number">2</span>] c_1[<span class="number">3</span>] </span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="7、配位数分析"><a href="#7、配位数分析" class="headerlink" title="7、配位数分析"></a>7、配位数分析</h4><p>ovito提供了Voronoi一分析方法，可以分析原子的配位数、原子体积，也可以进行多面体分析。</p><p>选择这个命令后，点击左下方的”Particles”，在原子信息列表中会自动显示每个原子的坐标、配位数、体积、半径。</p><p>(2)点击File菜单，选择”Export File”，在弹出窗口底部选择lammps dump类型的文件可导出新的dump文件。</p><p><img src="C:%5CUsers%5CFan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230206103052095.png"></p><h4 id="8、common-neighborhood-analysis"><a href="#8、common-neighborhood-analysis" class="headerlink" title="8、common neighborhood analysis"></a>8、common neighborhood analysis</h4><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compute ID <span class="keyword">group</span>-ID cna/atom cutoff</span><br></pre></td></tr></table></figure><p>例如Cu的晶格常数为fcc 3.61，因此，cutoff为3.08。<br>计算Cu的CNA命令为：</p><pre><code>compute 1 all cna/atom 3.08</code></pre><p>（2）计算结果输出<br>compute cna&#x2F;atom计算结果为单个原子的量，一共5类结果。</p><pre><code>fcc = 1hcp = 2bcc = 3icosahedral = 4unknown = 5</code></pre><p>用dump命令输出到轨迹文件，用ovito color coding进行涂色就可以看到原子结构了。</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dump <span class="number">1</span> <span class="keyword">all</span> custom <span class="number">1000</span> npt.xyz id <span class="keyword">type</span> <span class="type">x </span>y z c_1</span><br></pre></td></tr></table></figure><h4 id="1、restart"><a href="#1、restart" class="headerlink" title="1、restart"></a>1、restart</h4><p>lammps提供了restart、write_restart命令保存模拟文件、read_restart命令读取模拟文件，利用好这三个命令能够最大程度地避免因断电、死机等意外造成的影响。</p><p>对于比较大的体系，驰豫时间也比较长，在模型驰豫之后保存restart文件，在后续的模拟过程中（比如不同应变速率的拉伸模拟），直接读取rstart文件进行拉伸即可，不需要再进行驰豫，提高了模拟效率。</p><p>比如在第1000步保存了restart.1000文件，在运行到第1100步时断电，重新开机之后就可以直接读取restart.1000文件继续运算，结果和正常运算几乎没有差别。</p><p>保存restart文件有两种方式：<strong>周期性保存和一次性保存</strong>。</p><h5 id="1-1-restart命令：周期性保存"><a href="#1-1-restart命令：周期性保存" class="headerlink" title="1.1 restart命令：周期性保存"></a>1.1 <strong>restart命令：周期性保存</strong></h5><p>restart命令可以每隔多少步保存一次restart文件，如每隔1000步保存一次：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">restart</span> <span class="number">1000</span> <span class="built_in">restart</span>.equil</span><br></pre></td></tr></table></figure><p>生成文件有：restart.equil.0、restart.equil.1000、restart.equil.2000、……</p><h5 id="1-2-write-restart命令：一次性保存"><a href="#1-2-write-restart命令：一次性保存" class="headerlink" title="1.2 write_restart命令：一次性保存"></a>1.2 <strong>write_restart命令：一次性保存</strong></h5><p>周期性保存文件，产生文件较多，在能量最小化或者驰豫阶段，一般只需要在驰豫结束保存一个restart文件即可。</p><p>这时候可以在弛豫代码后面使用write_restart命令，如：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write_restart <span class="built_in">restart</span>.equil</span><br></pre></td></tr></table></figure><h5 id="1-3-read-restart命令：读取文件"><a href="#1-3-read-restart命令：读取文件" class="headerlink" title="1.3 read_restart命令：读取文件"></a>1.3 <strong>read_restart命令：读取文件</strong></h5><p>重启模拟比较简单，使用方法和read_data命令类似：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read_restart <span class="built_in">restart</span>.equil</span><br></pre></td></tr></table></figure><p>需要注意的是，并不是所有的模拟信息都保存在restart.equil文件中。</p><p>比如fix命令就需要在新的模拟文件中重新设置，官方手册已经列举的很全面，有需要可以查查手册。</p><h4 id="2、read-data"><a href="#2、read-data" class="headerlink" title="2、read_data"></a>2、read_data</h4><h4 id="3、rerun"><a href="#3、rerun" class="headerlink" title="3、rerun"></a>3、rerun</h4><p>rerun可以理解为重新运算，但是这个运算并不会和run命令一样，从头开始运算，而是从run运算的结果中提取原子信息，如坐标、速度等，以此进行能量、力以及热力学的输出等。</p><p><strong>该命令的优点是不需要重新积分运算，不影响原来的运行结果，仅提取需要的信息进行部分运算，运算速度快。</strong></p><p><strong>下面以补充计算rdf为例，介绍rerun的使用方法。</strong></p><p><strong>（1）in.first</strong></p><p>in.first文件模拟了一个溶液体系的原子演化过程，运行1000步，轨迹文件保存到lj.dump文件中。</p><p>这个in文件没有进行rdf的计算。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#in.first</span></span><br><span class="line"><span class="attribute">variable</span>  x index <span class="number">1</span></span><br><span class="line"><span class="attribute">variable</span>  y index <span class="number">1</span></span><br><span class="line"><span class="attribute">variable</span>  z index <span class="number">1</span></span><br><span class="line"><span class="attribute">variable</span>  xx equal <span class="number">20</span>*$x</span><br><span class="line"><span class="attribute">variable</span>  yy equal <span class="number">20</span>*$y</span><br><span class="line"><span class="attribute">variable</span>  zz equal <span class="number">20</span>*$z</span><br><span class="line"><span class="attribute">units</span>    ljatom_style  atomic</span><br><span class="line"><span class="attribute">lattice</span>    fcc <span class="number">0</span>.<span class="number">8442</span></span><br><span class="line"><span class="attribute">region</span>    box block <span class="number">0</span> <span class="variable">$&#123;xx&#125;</span> <span class="number">0</span> <span class="variable">$&#123;yy&#125;</span> <span class="number">0</span> <span class="variable">$&#123;zz&#125;</span></span><br><span class="line"><span class="attribute">create_box</span>  <span class="number">1</span> box</span><br><span class="line"><span class="attribute">create_atoms</span>  <span class="number">1</span> boxmass    <span class="number">1</span> <span class="number">1</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">velocity</span>  <span class="literal">all</span> create <span class="number">1</span>.<span class="number">44</span> <span class="number">87287</span> loop geom</span><br><span class="line"><span class="attribute">pair_style</span>  lj/cut <span class="number">2</span>.<span class="number">5</span></span><br><span class="line"><span class="attribute">pair_coeff</span>  <span class="number">1</span> <span class="number">1</span> <span class="number">1</span>.<span class="number">0</span> <span class="number">1</span>.<span class="number">0</span> <span class="number">2</span>.<span class="number">5</span></span><br><span class="line"><span class="attribute">neighbor</span>  <span class="number">0</span>.<span class="number">3</span> bin</span><br><span class="line"><span class="attribute">neigh_modify</span>  delay <span class="number">0</span> every <span class="number">20</span> check no</span><br><span class="line"><span class="attribute">fix</span> <span class="number">1</span> <span class="literal">all</span> nve</span><br><span class="line"><span class="attribute">dump</span> <span class="number">1</span> <span class="literal">all</span> custom <span class="number">100</span> lj.dump id type x y z vx vy vz</span><br><span class="line"><span class="attribute">thermo</span> <span class="number">100</span></span><br><span class="line"><span class="attribute">run</span> <span class="number">1000</span></span><br></pre></td></tr></table></figure><p><strong>(2)in.rdf</strong></p><p>在lj.dump文件的基础上补充rdf的运算，首先把rdf命令写到in文件，把最后一句的run语句改成rerun语句：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compute</span> myRDF <span class="literal">all</span> rdf <span class="number">100</span> cutoff <span class="number">5</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">fix</span> <span class="number">2</span> <span class="literal">all</span> ave/time <span class="number">100</span> <span class="number">10</span> <span class="number">1000</span> c_myRDF[*] file rdf.rerun mode vector</span><br><span class="line"><span class="attribute">rerun</span> lj.dump dump x y z</span><br></pre></td></tr></table></figure><p><strong>rerun后面紧跟dump文件名，之后是需要提取的原子坐标。</strong></p><p>这样重启动一个“运算”就可以把rdf计算出来。</p><h3 id="问题汇总"><a href="#问题汇总" class="headerlink" title="问题汇总"></a>问题汇总</h3><ul><li><strong>原子丢失</strong>    <ul><li>未能量最小化</li><li>timestep 大小有问题</li><li>硬件问题：内存、并行网络</li></ul></li></ul><blockquote><p>其他表现：体系失稳，温度持续上升</p><p>解决方法：调整参数，重新开始</p></blockquote><ul><li><p><strong>One or more atoms are time integrated more than once</strong></p><p>分子动力学模拟的主要运算是原子的积分运算，通过求解积分方程得到原子的受力以及计算原子的速度，从而得出下一时刻原子的位置和状态。</p><p>原子的积分体现到代码中就是fix nve&#x2F;nvt&#x2F;npt等系综的设置，有些fix命令也自带积分运算，如fix move、fix rigid（设置刚体）等命令。</p><p>原子<strong>不设置系综，就不会参与积分方程的求解</strong>，最明显的现象是在模拟过程中，原子是静止的。</p><p><strong>但原子也不能设置多个系综，如果设置两个以上的系综，要参与两次积分运算，很明显是错误的。</strong></p><blockquote><p>fix nve与fix move linear  重复积分</p></blockquote><p>1.Cannot open file …<br>错误原因：<br>不能打开文件，大部分原因是输入的文件名错误或者文件不存在。<br>解决办法：<br>具体看提示的错误文件名和lammps停止在哪一行。<br>如lammps停止在read_data命令，需要检查in文件中的data文件名是否输入正确，或者文件夹内是否已经包含了data文件。</p></li></ul><p>2.Cannot open EAM potential file<br>错误原因：不能打开eam力场文件。<br>解决办法：<br>检查力场文件名称是否正确，或者是否存在该文件。</p><p>3.Neighbor list overflow, boost neigh_modify one<br>错误原因：<br>一个原子的邻居数过多，超出了邻居数最大值。<br>默认情况下，一个原子最大的邻居原子数为2000，当超出2000后会提示该错误。<br>解决办法：<br>使用neigh_modify one命令把邻居原子数改的大一点，比如5000。</p><ol start="4"><li><p>All pair coeffs are not set<br>错误原因：<br>部分原子之间的pair_coeff参数没有设置<br>解决方法：<br>这种情况一般出现在使用pair_style hybrid设置混合势的时候，并没有把所有的原子对势写完整。<br>仔细检查是否有遗漏的原子对势。</p></li><li><p>Pair hybrid sub-style is not used<br>错误原因：<br>在pair_style 命令中使用了hybrid命令，并列出了相应的势函数类型，但是并没有在下面的参数设置中使用列出的势函数类型。<br>解决方法：<br>删除pair_style hybrid后面多余的势函数类型。</p></li><li><p>Group ID does not exist<br>错误原因：<br>在某个命令中使用了未经定义的group ID。<br>解决办法：<br>查看错误提示处的group ID是否已经定义，如果已经定义，也可能是输入的时候不小心打错某个字母，改正即可。</p></li></ol><h3 id="复杂模型建模"><a href="#复杂模型建模" class="headerlink" title="复杂模型建模"></a>复杂模型建模</h3><h4 id="1、Materials-Studio建模"><a href="#1、Materials-Studio建模" class="headerlink" title="1、Materials Studio建模"></a>1、Materials Studio建模</h4><p>利用 Materials Studio 软件进行建模后，将原子类型，原子坐标，盒子信息写入<br>data 文件，再使 in 文件读取 data 文件。</p><p>I will typically use <strong>cif files</strong> or similar and tools such as <strong>VESTA, OVITO</strong>, etc to translate structures into lammps compatible formats or notation.  example of SiC 6H cif data…..</p><p>From Vesta, you can use File:”<strong>Export data</strong>“ to <strong>vasp</strong> 、<strong>pdb</strong> or <strong>xyz</strong> for example. From here you may use <strong>OVITO</strong> or <strong>VMD</strong> to try and visualize and make changes as needed to transform into a <strong>LAMMPS data file</strong> that preserves the information that you need.</p><h4 id="2、Atomsk建模"><a href="#2、Atomsk建模" class="headerlink" title="2、Atomsk建模"></a>2、Atomsk建模</h4><p>ATOMSK(The Swiss-army knife of atomic simulations)是一款非常优秀的分子建模软件，可以作为MS、LAMMPS自身命令建模的替代软件,并可以在linux、mac、windows系统中均可使用。 </p><p>官网：<a href="https://atomsk.univ-lille.fr/index.php">https://atomsk.univ-lille.fr/index.php</a></p><blockquote><p>以下为Windows下记录</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#建模</span></span><br><span class="line"><span class="attribute">atomsk</span> --create bcc <span class="number">2</span>.<span class="number">856</span> Fe Fe.xsf  </span><br><span class="line"><span class="comment">#扩包</span></span><br><span class="line"><span class="attribute">atomsk</span> Fe.xsf -duplicate <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> Fe.lmp</span><br><span class="line"><span class="comment">#二合一</span></span><br><span class="line"><span class="attribute">atomsk</span> -- bcc <span class="number">2</span>.<span class="number">856</span> Fe -duplicate <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> Fe.lmp</span><br></pre></td></tr></table></figure><p>斜晶胞转正交：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atomsk ZnO<span class="selector-class">.cif</span> -orthocell final<span class="selector-class">.dat</span> lmp</span><br></pre></td></tr></table></figure><p>格式:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">atomsk <span class="attr">--create</span> &lt;lattice&gt; &lt;<span class="selector-tag">a</span>&gt; <span class="selector-attr">[&lt;c&gt;]</span> &lt;sp1&gt; <span class="selector-attr">[&lt;sp2&gt; &lt;sp3&gt;...]</span> <span class="selector-attr">[orient (hkl)X (hkl)Y (hkl)Z]</span> <span class="selector-attr">[options]</span> &lt;outputfile&gt; <span class="selector-attr">[&lt;formats&gt;]</span></span><br><span class="line">orient <span class="selector-attr">[10-10]</span> <span class="selector-attr">[-12-10]</span> <span class="selector-attr">[0001]</span></span><br></pre></td></tr></table></figure><ul><li><p><strong>lattice</strong>：晶格类型（见下表）；</p></li><li><p><strong>a</strong> : 晶格参数（以 Å 为单位）；</p></li><li><p><strong>c</strong> : 晶格参数（单位为 Å，仅对某些结构需要）；</p></li><li><p>**sp1, sp2…**：构成材料的原子种类（一字或二字符号）；必须指定的物种数量取决于晶格，见下表。</p></li><li><p><strong>orient ( *hkl* ) X ( *hkl* ) Y ( *hkl* ) Z</strong>：创建的晶格的晶体取向（仅限立方晶格和六角晶格）。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220920152307514.png"></p></li></ul><ul><li>钎锌矿氮化镓晶胞建模</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> --create wz <span class="number">3</span>.<span class="number">21629007</span> <span class="number">5</span>.<span class="number">23996200</span> Ga N <span class="number">920</span>.xsf</span><br></pre></td></tr></table></figure><ul><li><code>-orthogonal-cell</code>该选项搜索单元向量的线性组合，从而获得一个矩形框，然后用原子填充这个新框。</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> --create wz <span class="number">3</span>.<span class="number">21629007</span> <span class="number">5</span>.<span class="number">23996200</span> Ga N -orthogonal-cell <span class="number">920</span>-<span class="number">1</span>.xsf</span><br></pre></td></tr></table></figure><ul><li>扩包生成lmp文件</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> <span class="number">920</span>-<span class="number">1</span>.xsf -duplicate <span class="number">30</span> <span class="number">30</span> <span class="number">20</span> <span class="number">920</span>-<span class="number">2</span>.lmp</span><br></pre></td></tr></table></figure><ul><li>合并命令生成工件三个区域</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atomsk <span class="attr">--merge</span> z <span class="number">3</span> one<span class="selector-class">.cfg</span> two<span class="selector-class">.xsf</span> three<span class="selector-class">.cfg</span> final.xsf</span><br></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> <span class="number">920</span>-<span class="number">1</span>.xsf -duplicate <span class="number">30</span> <span class="number">30</span> <span class="number">20</span> <span class="number">920</span>-<span class="number">2</span>.lmp</span><br><span class="line"></span><br><span class="line"><span class="attribute">atomsk</span> <span class="number">920</span>-<span class="number">2</span>.lmp -cut below <span class="number">2</span>.<span class="number">4</span> x initial.gin -cut above <span class="number">40</span> x</span><br></pre></td></tr></table></figure><h5 id="磨粒建模"><a href="#磨粒建模" class="headerlink" title="磨粒建模"></a>磨粒建模</h5><p>球形</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> --create diamond <span class="number">3</span>.<span class="number">57</span> C -duplicate <span class="number">50</span> <span class="number">50</span> <span class="number">50</span> C_supercell.xsf</span><br><span class="line"></span><br><span class="line"><span class="attribute">atomsk</span> C_supercell.xsf -select out sphere <span class="number">0</span>.<span class="number">5</span>*box <span class="number">0</span>.<span class="number">5</span>*box <span class="number">0</span>.<span class="number">5</span>*box <span class="number">30</span>  -rmatom select C_sphere.cfg</span><br></pre></td></tr></table></figure><p>多面体</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">atomsk</span> C_supercell.xsf -<span class="literal">select</span> stl center <span class="number">4</span>.STL -<span class="literal">select</span> invert -rmatom <span class="literal">select</span> <span class="number">4</span>.cfg</span><br></pre></td></tr></table></figure><p>4   30根号3  14.6</p><p>8    30根号2  11.8</p><p>12                  15.7</p><p>20  30*（根号11）&#x2F;3     15.7</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文为lammps常用命令解释，记录了学习lammps命令的过程以及建模思路。&lt;/p&gt;</summary>
    
    
    
    <category term="软件学习" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="MD" scheme="http://example.com/tags/MD/"/>
    
  </entry>
  
  <entry>
    <title>lammps安装过程</title>
    <link href="http://example.com/2022/07/19/lammps%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/"/>
    <id>http://example.com/2022/07/19/lammps%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/</id>
    <published>2022-07-19T01:42:03.000Z</published>
    <updated>2022-07-22T01:14:26.097Z</updated>
    
    <content type="html"><![CDATA[<p>本文为lammps安装记录，主要是先在虚拟机virtual box中搭建centos系统，然后再安装fftw以及lammps串行安装过程。</p><span id="more"></span><h3 id="一、虚拟机安装"><a href="#一、虚拟机安装" class="headerlink" title="一、虚拟机安装"></a>一、虚拟机安装</h3><h4 id="1-Download-VirtualBox"><a href="#1-Download-VirtualBox" class="headerlink" title="1.Download VirtualBox"></a>1.Download VirtualBox</h4><p>Windows版本：<a href="https://download.virtualbox.org/virtualbox/6.1.34/VirtualBox-6.1.34a-150636-Win.exe">下载链接</a></p><p>虚拟机增强包：<a href="https://download.virtualbox.org/virtualbox/6.1.34/Oracle_VM_VirtualBox_Extension_Pack-6.1.34.vbox-extpack">下载链接</a></p><h4 id="2-virtual-box安装"><a href="#2-virtual-box安装" class="headerlink" title="2.virtual box安装"></a>2.virtual box安装</h4><h3 id="二、Centos系统安装"><a href="#二、Centos系统安装" class="headerlink" title="二、Centos系统安装"></a>二、Centos系统安装</h3><h4 id="1-centos下载"><a href="#1-centos下载" class="headerlink" title="1.centos下载"></a>1.centos下载</h4><h4 id="2-增强包安装"><a href="#2-增强包安装" class="headerlink" title="2.增强包安装"></a>2.增强包安装</h4><p>点击<strong>设备</strong>，<strong>安装增强功能</strong>，如果没有自动安装，打开centos中新出的光盘文件，运行终端。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720085408394.png"></p><p>运行以下命令，中间需要输入管理员密码。之后就可以共享剪贴板，拖拽文件。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./VBoxLinuxAdditions.<span class="built_in">run</span></span><br></pre></td></tr></table></figure><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720090106891.png"></p><h3 id="三、lammps串行安装"><a href="#三、lammps串行安装" class="headerlink" title="三、lammps串行安装"></a>三、lammps串行安装</h3><h4 id="1-软件下载"><a href="#1-软件下载" class="headerlink" title="1.软件下载"></a>1.软件下载</h4><ul><li><p>fftw官网：<a href="http://www.fftw.org/">链接</a> 点击download进入下载页面<img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720090444410.png"></p></li><li><p>lammps官网：<a href="https://www.lammps.org/">链接</a>  点击Download进入下载页面</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720090954924.png"></p></li><li><p>新建lammps文件夹，将俩个压缩包放入。打开终端，解压俩个包：</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720091559338.png"></p><p>解压后的文件：</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720091812092.png"></p></li></ul><h4 id="2-fttw安装"><a href="#2-fttw安装" class="headerlink" title="2.fttw安装"></a>2.fttw安装</h4><p>在lammps下新建文件夹fftw3</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf fftw-<span class="number">3.3</span>.<span class="number">9</span>.tar.gz</span><br><span class="line"></span><br><span class="line">cd fftw-<span class="number">3.3</span>.<span class="number">9</span>/</span><br><span class="line"></span><br><span class="line">.<span class="regexp">/configure --prefix=/</span>home<span class="regexp">/qanfan/</span>lammps<span class="regexp">/fftw3/</span>  --enable-shared=yes  </span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h4 id="3-lammps安装"><a href="#3-lammps安装" class="headerlink" title="3.lammps安装"></a>3.lammps安装</h4><h5 id="3-1串行路径设置"><a href="#3-1串行路径设置" class="headerlink" title="3.1串行路径设置"></a>3.1串行路径设置</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps-23Jun2022/</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cd</span> src</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cd</span> STUBS</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">make</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cd</span> MAKE</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">cd</span> OPTIONS</span><br><span class="line"><span class="built_in">ls</span>          <span class="comment">##查看fftw的lib、include路径</span></span><br><span class="line"><span class="built_in">cat</span> Makefile.fftw</span><br></pre></td></tr></table></figure><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">FFT_INC</span> =    -DFFT_FFTW3 -I/usr/local/include</span><br><span class="line"><span class="attr">FFT_PATH</span> =      -L/usr/local/lib</span><br><span class="line"><span class="attr">FFT_LIB</span> =-lfftw3</span><br></pre></td></tr></table></figure><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">..</span></span><br><span class="line"><span class="keyword">ls</span></span><br><span class="line">vi Makefile.serial</span><br></pre></td></tr></table></figure><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220720095627799.png"></p><p>按【ESC】键跳到命令模式，按下冒号按键，然后再按下【wq】，即可保存退出vi的编辑状态。</p><h5 id="3-2-安装lammps"><a href="#3-2-安装lammps" class="headerlink" title="3.2 安装lammps"></a>3.2 安装lammps</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps/lammps- 23Jun2022/src</span><br><span class="line">make serial</span><br></pre></td></tr></table></figure><h5 id="3-3-设置"><a href="#3-3-设置" class="headerlink" title="3.3 设置"></a>3.3 设置</h5><p>进入lammps，新建bin文件夹，打开终端。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> lammps-23Jun2022/src/lmp_serial ./bin/</span><br><span class="line"><span class="built_in">cd</span> bin</span><br><span class="line"><span class="built_in">mv</span> lmp_serial lmps</span><br></pre></td></tr></table></figure><p>编辑路径</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span></span><br><span class="line"><span class="built_in">which</span> lmps</span><br><span class="line"><span class="built_in">ls</span> -a</span><br><span class="line">vi .bashrc</span><br></pre></td></tr></table></figure><p><code>export PATH=&quot;$PATH:/home/qanfan/lammps/bin/&quot;</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .bashrc</span><br><span class="line"><span class="built_in">which</span> lmps</span><br></pre></td></tr></table></figure><ul><li><p>运行例子</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> examples</span><br><span class="line"><span class="keyword">cd</span> <span class="built_in">min</span></span><br><span class="line"><span class="keyword">ls</span></span><br><span class="line">lmps &lt;in.<span class="built_in">min</span></span><br></pre></td></tr></table></figure></li><li><p>新加程序包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> src</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line">make <span class="built_in">yes</span>- MEAM</span><br><span class="line">make serial</span><br><span class="line"><span class="built_in">cp</span> lmp_serial ../../bin/lmps_MEAM  <span class="comment">#将新加的包放到文件夹下</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文为lammps安装记录，主要是先在虚拟机virtual box中搭建centos系统，然后再安装fftw以及lammps串行安装过程。&lt;/p&gt;</summary>
    
    
    
    <category term="软件安装" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/"/>
    
    
    <category term="MD" scheme="http://example.com/tags/MD/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus常见错误汇总</title>
    <link href="http://example.com/2022/04/15/ABAQUS%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E6%B1%87%E6%80%BB/"/>
    <id>http://example.com/2022/04/15/ABAQUS%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%E6%B1%87%E6%80%BB/</id>
    <published>2022-04-15T07:21:32.000Z</published>
    <updated>2022-07-22T01:15:13.620Z</updated>
    
    <content type="html"><![CDATA[<p>对于abaqus接触分析中会出现各种各样的warning、errer，记录一下自己遇到的一些情况以及解决方法。</p><span id="more"></span><h3 id="无具体解决方案的"><a href="#无具体解决方案的" class="headerlink" title="无具体解决方案的"></a>无具体解决方案的</h3><ul><li><strong>numerical sigularity</strong>(数值奇异)：刚体位移（欠约束）</li><li><strong>Zero pivot</strong>（零主元）：过约束或者欠约束。</li></ul><p>这2个问题一般都意味着模型约束存在问题。1）、2）都会伴随着产生大量负特征值。解决方案当然第一步是检查约束了。</p><ul><li>1U,2U,3U….</li></ul><h3 id="能针对解决的问题"><a href="#能针对解决的问题" class="headerlink" title="能针对解决的问题"></a>能针对解决的问题</h3><ul><li><p>xxxxx is not a valid in ABAQUS&#x2F;Standard(告诉你这种计算standard不支持了，换别的)</p></li><li><p><strong>missing property</strong>  在perperty步检查材料属性是不是都加上了。</p></li><li><p>The value of 256 MB that has been specified for standard_memory is too small to run the analysis and  must be increased. The minimum possible value for standard_memory is 470MB  内存不够，更改temp文件位置或者换电脑</p></li><li><p>There are 2 unconnected regions in the model.可能是接触面由空隙，最好在接触属性中定义一个容差范围。</p></li><li><p>The ratio of the maximum incremental adjustment to the average characteristic  length is 1.82846e-02 at node 10868 instance jiti1 on the surface pair (assembly_jq22,assembly_q22).</p><p>检查网格，重画</p></li><li><p>The elements in the element set WarnElemSurfaceIntersect-Step1 are involved surface intersections. Refer to the status and message file for further details<br>检查一下你单元集合的定义以及面的定义，看是否出现了相交或重复定义的情况</p></li><li><p>MPC(面上耦合一个点，点上施加集中力或位移出现的警告，<strong>检查参考点、坐标系、耦合区域是否有问题，尝试新建参考点等</strong></p><ul><li><p><strong>Whenever</strong> a translation (rotation) dof at a node is constrained by a kinematic coupling definition the translation (rotation) dofs for that node cannot be included in any other constraint including mpcs, rigid bodies, etc.</p><p>每当节点的平移（旋转）自由度受到运动耦合定义的约束时，该节点的平移（旋转）DOF不能被包括在包括MPC、刚体等的任何其它约束中。</p></li><li><p><strong>MPC</strong>S (EXTERNAL or INTERNAL, including those generated from rigid body definitions), KINEMATIC COUPLINGS, AND&#x2F;OR EQUATIONS WILL ACTIVATE ADDITIONAL DEGREES OF FREEDOM</p><p>MPC（外部或内部，包括刚体定义产生的）、运动联轴器和&#x2F;或方程将激活额外的自由度。</p></li></ul></li></ul><h3 id="可以忽略的问题"><a href="#可以忽略的问题" class="headerlink" title="可以忽略的问题"></a>可以忽略的问题</h3><ul><li><p><em>For *tie pair  (assembly_s_surf-x-assembly_m_surf-x), adjusted nodes with very small  adjustments were not printed. Specify *preprint,model&#x3D;yes for complete  <strong>printout</strong>.</em></p><p>这一报错的原因是在设置tie约束或者contact约束下的tie功能时，我们经常会设置一定的容余度，这样在有毫米级及更小地缝隙时能够有效地进行绑定。倘若物体的表面之间就是没有空隙的情况下，Abaqus就会提醒你，此处并没有空隙，继续跑就可以了。</p></li><li><p>Degree of freedom 4 is not active in this model and can not be restrained</p><p>有限元软件计算对于实体步考虑转动自由度，所以你在边界条件中限制了456的自由度后，软件会忽略的啊.</p></li><li><p>3  <strong>zero force&#x2F;ZERO MOMENT</strong>问题:THERE IS ZERO MOMENT EVERYWHERE IN THE MODEL BASED ON THE DEFAULT CRITERION. PLEASE CHECK THE VALUE OF THE AVERAGE MOMENT DURING THE CURRENT ITERATION TO VERIFY THAT THE MOMENT IS SMALL ENOUGH TO BE TREATED AS ZERO. IF NOT, PLEASE USE THE SOLUTION CONTROLS TO RESET THE CRITERION FOR ZERO MOMENT.</p><p>这个警告是告诉你模型中没有弯矩，没问题的，可以继续计算。 如果提示中出现特征值奇异的时候才是计算有可能出现不收敛的问题。</p></li><li><p>123 elements are distorted 存在单元扭曲，如果这些单元在不重要的区域（对结果肯定有些影响，影响大小取决于单元的位置，在模型中的作用等），能计算，那就没问题了。</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;对于abaqus接触分析中会出现各种各样的warning、errer，记录一下自己遇到的一些情况以及解决方法。&lt;/p&gt;</summary>
    
    
    
    <category term="有限元" scheme="http://example.com/categories/%E6%9C%89%E9%99%90%E5%85%83/"/>
    
    
    <category term="接触" scheme="http://example.com/tags/%E6%8E%A5%E8%A7%A6/"/>
    
    <category term="总结" scheme="http://example.com/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Abaqus接触</title>
    <link href="http://example.com/2022/04/12/abaqus%E6%8E%A5%E8%A7%A6/"/>
    <id>http://example.com/2022/04/12/abaqus%E6%8E%A5%E8%A7%A6/</id>
    <published>2022-04-12T11:52:42.000Z</published>
    <updated>2022-04-12T12:07:45.594Z</updated>
    
    <content type="html"><![CDATA[<p>整理的接触方面的一些解释和相关注意点，内容比较简略。</p><span id="more"></span><h2 id="一、接触和约束分析"><a href="#一、接触和约束分析" class="headerlink" title="一、接触和约束分析"></a>一、接触和约束分析</h2><h3 id="1-接触或约束的作用"><a href="#1-接触或约束的作用" class="headerlink" title="1.接触或约束的作用"></a>1.接触或约束的作用</h3><p>接触：通过接触面第作用传递法向力和切向力</p><p>如果不通过接触或者约束，可以通过共节点的方式</p><h3 id="2-接触的离散方式"><a href="#2-接触的离散方式" class="headerlink" title="2.接触的离散方式"></a>2.接触的离散方式</h3><h5 id="1-Node-to-Surface"><a href="#1-Node-to-Surface" class="headerlink" title="1.Node-to-Surface"></a>1.Node-to-Surface</h5><p>1）传统的点面方式</p><p>2）严格遵循主从关系，主面节点可以穿透从面，从面节点不能穿透主面</p><p>3）接触搜寻关系依据主面的法向方向</p><p>4）为避免穿透，一般要求<strong>从面网格密度低于主面</strong></p><h5 id="2-Surface-to-Surface"><a href="#2-Surface-to-Surface" class="headerlink" title="2.Surface-to-Surface"></a>2.Surface-to-Surface</h5><p>1）面面接触的方式，适用于绝大多数情况的接触</p><p>2）对主从面的选择不敏感</p><p>3）接触搜寻关系依据从面的法向方向</p><p>4）从面必须是基于单元的面</p><blockquote><p><strong>对比</strong>：</p><p>S-S优点：获得更精确的接触应力、减小接触应力的振荡、减小穿透、减小主从面选择的敏感性</p><p>如果一个面是基于Node，只能作为从面</p></blockquote><h3 id="3-主从面选取原则"><a href="#3-主从面选取原则" class="headerlink" title="3.主从面选取原则"></a>3.主从面选取原则</h3><ul><li>当存在一个较小的面和一个较大的面时，一般将较小的面定义为从属面。</li><li>当两个面大小接近时，选取较“硬”的面或单元划分粗糙的面作为主动面。值得注意的是，“硬”的面不一定是材料弹性模量大的材料，比如当一个薄金属片和一个橡胶材料接触时，此时就应该将薄金属片所属的面定义为从属面。</li><li>当两个面区域接近，“硬度”也接近时，此时往往需要反复尝试才能得到较好的结果</li></ul><blockquote><p>与点对面接触相比，面对面接触中主动面和从属面的选取，对计算结果的影响并不是很大。但是，当错误的将网格粗糙的面定义为从属面时，此时也许会引起<strong>计算成本</strong>的急剧增加。</p></blockquote><h3 id="4-自接触"><a href="#4-自接触" class="headerlink" title="4.自接触"></a>4.自接触</h3><p>当物体在分析过程中，产生较大的变形，自己与自己接触时使用。</p><h3 id="5-通用接触"><a href="#5-通用接触" class="headerlink" title="5.通用接触"></a>5.通用接触</h3><ol><li><p>通用接触一般适合在分析之初无法判断后续接触状态是什么样的情况，主要用于显式。</p></li><li><p>定义方便、消耗资源更多。</p></li></ol><h3 id="6-有限滑移-amp-小滑移"><a href="#6-有限滑移-amp-小滑移" class="headerlink" title="6.有限滑移&amp;小滑移"></a>6.有限滑移&amp;小滑移</h3><ol><li>有限滑移适用于绝大多数情况</li><li>小滑移适用于接触状态变化很小，使用资源较少</li></ol><h3 id="接触分析常见错误"><a href="#接触分析常见错误" class="headerlink" title="接触分析常见错误"></a>接触分析常见错误</h3><ol><li>消除初始的过盈接触和间隙</li></ol><p>当两个不同Part的面接触时，由于单元网格不一致，很可能会在两个面之间留下小的gap或penetration。默认的，ABAQUS&#x2F;Standard会将初始penetration当成interference  fits，并会相应地在接触一开始的时候处理掉。Section  计算中必须通过调整从属面位置来提高接触模拟精度，以保证接触刚开始时计算中没有penetration。</p><ol start="2"><li><strong>让接触状态平稳过度，便于分析收敛</strong></li></ol><h2 id="二、运动耦合与连续分布耦合"><a href="#二、运动耦合与连续分布耦合" class="headerlink" title="二、运动耦合与连续分布耦合"></a>二、运动耦合与连续分布耦合</h2><ul><li>运动耦合耦合面不会变形，连续分布耦合表面会扭曲</li></ul><h3 id="abaqus弹簧单元模拟方法"><a href="#abaqus弹簧单元模拟方法" class="headerlink" title="abaqus弹簧单元模拟方法"></a>abaqus弹簧单元模拟方法</h3><p>二者通过简单对比，效果一样，区别在于，使用spring单元更方便，但是只能模拟线性弹簧，要模拟非线性须修改INP文件（参考Abaqus有限元分析常见问题解答）</p><ul><li><strong>RP点耦合时选择表面或节点区域，效果相同</strong></li><li>Rigid刚度只是刚度很大（e5N&#x2F;mm），不等于刚性连接</li></ul><h4 id="通过连接器模拟"><a href="#通过连接器模拟" class="headerlink" title="通过连接器模拟"></a>通过连接器模拟</h4><blockquote><p>俩点之间建立线特征，再建立、指派连接器截面</p></blockquote><ul><li>连接器只有一个自由度时，对局部坐标系无要求</li></ul><h4 id="使用spring单元模拟"><a href="#使用spring单元模拟" class="headerlink" title="使用spring单元模拟"></a>使用spring单元模拟</h4><blockquote><p>注意先建立基准点，再建立参考点</p><p>将点与对应区域耦合起来</p></blockquote><h2 id="Abaqus单位"><a href="#Abaqus单位" class="headerlink" title="Abaqus单位"></a>Abaqus单位</h2><ul><li>软件中无单位，自己使用统一单位，下面为单位换算。通常使用m制，mm制。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220309152638009.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;整理的接触方面的一些解释和相关注意点，内容比较简略。&lt;/p&gt;</summary>
    
    
    
    <category term="有限元" scheme="http://example.com/categories/%E6%9C%89%E9%99%90%E5%85%83/"/>
    
    
    <category term="接触" scheme="http://example.com/tags/%E6%8E%A5%E8%A7%A6/"/>
    
  </entry>
  
  <entry>
    <title>next主题的更换及页面美化</title>
    <link href="http://example.com/2022/03/04/next%E4%B8%BB%E9%A2%98%E7%9A%84%E6%9B%B4%E6%8D%A2%E5%8F%8A%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96/"/>
    <id>http://example.com/2022/03/04/next%E4%B8%BB%E9%A2%98%E7%9A%84%E6%9B%B4%E6%8D%A2%E5%8F%8A%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96/</id>
    <published>2022-03-04T08:48:13.000Z</published>
    <updated>2022-03-05T09:33:15.036Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要记录本人搭建博客中主题更换以及一些配置过程。主要是怕自己以后忘了怎么配置的，再折腾一遍。出个教程，方便无脑抄袭。</p><p>Hexo 6.0.0 |  next 8.10.0    </p><blockquote><p>在站点文件夹内执行Git Bash Here输入<code>hexo v</code>即可查询版本信息</p></blockquote><span id="more"></span><p>当然你刚开始查询可能并不会查到next版本信息，因为你还没有安装。接下来正式开始教程！</p><h3 id="安装Next"><a href="#安装Next" class="headerlink" title="安装Next"></a>安装Next</h3><h4 id="1-下载主题"><a href="#1-下载主题" class="headerlink" title="1. 下载主题"></a>1. 下载主题</h4><ul><li><strong>第一种方法</strong></li></ul><p>在本地自己的blog文件下执行Git Bash Here输入以下代码进行下载。<strong>默认最新版</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/iissnan/</span>hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure><ul><li>第二种方法</li></ul><p>前往<a href="https://links.jianshu.com/go?to=https://github.com/theme-next/hexo-theme-next">NexT主题制作团队的Github主页</a>，去下载代码Zip压缩包。也可以点击右侧的发布，去寻找你想要的版本。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304195919981.png"></p><p>解压文件，改名next，拖到blog下的themes文件夹中。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304200358767.png"></p><h4 id="2-更改站点配置"><a href="#2-更改站点配置" class="headerlink" title="2. 更改站点配置"></a>2. 更改站点配置</h4><p>打开站点目录下**_config.yml<strong>文件，将</strong>theme**的名称由<code>landscape</code>修改为<code>next</code>，然后保存退出。</p><blockquote><p>可直接用记事本打开，查找theme。本人用的是Sublime Text4</p></blockquote><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304210220659.png"></p><ul><li><p>验证主题</p><p>  在命令行依次输入简写命令<code>hexo clean，hexo g, hexo d，hexo s，hexo d</code>，就可以将修改上传到网页。<code>hexo s</code>是可以在本地端口预览效果，按<code>Ctrl+C</code>关闭。之后修改的任何本地文件想要上传都要经过<strong>clean，g，s，d</strong>这四步，下面的介绍中就不在具体说明了。相关命令含义<a href="https://qanfan.github.io/2022/02/22/hello-world/#more">点击这里</a></p></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211031091240436.png"></p><h3 id="更改Next主题配置"><a href="#更改Next主题配置" class="headerlink" title="更改Next主题配置"></a>更改Next主题配置</h3><p>在 Hexo 中有两份主要的配置文件，其名称都是 <code>_config.yml</code>。其中，一份位于站点根目录下，主要包含 Hexo 本身的配置；另一份位于主题目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。</p><p>为了描述方便，在以下说明中，将前者称为<strong>站点配置文件</strong>，后者称为<strong>主题配置文件</strong>。    </p><h4 id="1-主题风格"><a href="#1-主题风格" class="headerlink" title="1. 主题风格"></a>1. 主题风格</h4><p>目前 NexT 支持四种 Scheme （风格样式）</p><ul><li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li><li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li><li>Pisces - 双栏 Scheme，小家碧玉似的清新</li><li>Gemini - 导航栏、头像等基本信息在侧边栏上显示</li></ul><p><strong>1、Muse</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/6310069-cfc0efc56e174bd4.png"></p><p><strong>2、Mist</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/6310069-616bf3a333c2a233.png"></p><p><strong>3、Pisces</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/6310069-280fa1e3031b7b70.png"></p><p><strong>4、Gemini</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/6310069-340998ca774e8db2.png"></p><p>我选择的是Gemini，最后俩种没看出啥区别来。。。</p><p>Scheme 的切换通过更改<strong>主题配置文件</strong>，搜索 <code>scheme</code> 关键字。你会看到有四行 scheme 的配置，将你需用启用的 scheme 前面注释 <code>#</code> 去除即可。    </p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304213258849.png"></p><h4 id="2-博客中的语言、简介"><a href="#2-博客中的语言、简介" class="headerlink" title="2. 博客中的语言、简介"></a>2. 博客中的语言、简介</h4><p>打开<strong>站点配置文件</strong>，找到最上方的<code>site</code>区域。更改个人信息</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/11018813-9ccbb09979a2a62f.png"></p><blockquote><p>本人设置，可参考</p></blockquote><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304214257453.png" style="zoom:25%;" /><p>语言更改完后记得去打开<strong>主题目录</strong>下的<code>languages</code>文件夹，查看是否存在<code>zh-Hans.yml</code>文件，如果不存在将<code>zh-CN.yml</code>重命名<code>zh-Hans.yml</code></p><h4 id="3-设置主题菜单"><a href="#3-设置主题菜单" class="headerlink" title="3. 设置主题菜单"></a>3. 设置主题菜单</h4><p>初始的菜单好像只有俩个吧，想要的可以在<strong>主题配置文件</strong>中选择添加，搜索<code>menu</code>。参考我的设置</p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304220545093.png" style="zoom:80%;" /><p>也可以自行添加想要的主题，例如日记、小说等。方法参考链接。</p><ul><li><p>现在以标签页为例：新建<strong>标签页面</strong>，并在菜单中显示标签链接。</p><ul><li><p>在<strong>站点目录</strong>下右击鼠标进入命令行，输入命令 <code>hexo new page tags</code> 新建一个页面，命名为 <code>tags</code></p></li><li><p>在站点目录中依次进入<code>/source/tags</code>目录中，打开<code>index.md</code>文件，修改为以下内容：</p></li></ul>  <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">title</span>: 标签</span><br><span class="line"><span class="attribute">date</span>: <span class="number">2021</span>-<span class="number">10</span>-<span class="number">27</span> <span class="number">22</span>:<span class="number">20</span>:<span class="number">26</span></span><br><span class="line"><span class="attribute">type</span>: <span class="string">&quot;tags&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>这时上传就能打开标签页面了，标签页面将展示站点的所有标签，若你的所有文章都未包含标签，此页面将是空的。</p><p>其他页面设置也都差不多。注意<strong>分类和归档</strong>页面无需其他设置，但<strong>关于</strong>页面内容要自己编辑，</p></blockquote></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304222609675.png"></p><h4 id="4-设置侧边栏"><a href="#4-设置侧边栏" class="headerlink" title="4. 设置侧边栏"></a>4. 设置侧边栏</h4><p><strong>可以通过修改 <code>主题配置文件</code> 中的 <code>sidebar</code> 字段来控制侧栏的行为，侧栏的设置包括两个部分，其一是侧栏的位置， 其二是侧栏显示的时机。</strong></p><ul><li>设置侧栏的位置，修改 <code>sidebar position</code> 的值，支持的选项有：<ul><li>left - 靠左放置</li><li>right - 靠右放置</li></ul></li><li>设置侧栏显示的时机，修改 <code>sidebar.display</code> 的值，支持的选项有：<ul><li><code>post</code> - 默认行为，在文章页面（拥有目录列表）时显示</li><li><code>always</code> - 在所有页面中都显示</li><li><code>hide</code> - 在所有页面中都隐藏（可以手动展开）</li><li><code>remove</code> - 完全移除</li></ul></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304223603720.png"></p><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304223739161.png"></h4><h4 id="5-设置头像"><a href="#5-设置头像" class="headerlink" title="5. 设置头像"></a>5. 设置头像</h4><p><strong>编辑 <code>主题配置文件</code>， 修改字段 <code>avatar</code>， 值设置成头像的链接地址。其中，头像的链接地址可以是</strong>：</p><table><thead><tr><th>地址</th><th>值</th></tr></thead><tbody><tr><td>完整的互联网 URI</td><td><a href="http://example.com/avatar.png">http://example.com/avatar.png</a></td></tr><tr><td>站点内的地址</td><td>将头像放置主题目录下的 <code>source/uploads/</code> （新建 uploads 目录若不存在）                                                                       配置为：<code>avatar:</code>&#x2F;uploads&#x2F;avatar.png                                                                                                                                                 <code>或者 放置在 </code>source&#x2F;images&#x2F;<code>                                                                                                                                                            目录下配置为：</code>avatar: &#x2F;images&#x2F;avatar.png</td></tr></tbody></table><p><strong>本人设置参考</strong>：地址，俩个false分别是圆形和转动，根据个人爱好设置。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304225303316.png"></p><h4 id="6-返回顶部按钮显示阅读进度"><a href="#6-返回顶部按钮显示阅读进度" class="headerlink" title="6. 返回顶部按钮显示阅读进度"></a>6. 返回顶部按钮显示阅读进度</h4><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304230112300.png"></p><p>实用有效的功能，参考设置如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">back2top:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  sidebar: <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  scrollpercent: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="7-设置代码块主题和复制功能"><a href="#7-设置代码块主题和复制功能" class="headerlink" title="7.设置代码块主题和复制功能"></a>7.设置代码块主题和复制功能</h4><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305095603308.png"></p><p>打开主题配置文件，搜索<code>codeblock</code>，更多可选择的代码主题<a href="https://theme-next.js.org/highlight/">点击这里查询</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># All available themes: https://theme-next.js.org/highlight/</span></span><br><span class="line">  <span class="attr">theme:</span>        </span><br><span class="line">    <span class="attr">light:</span> <span class="string">atom-one-dark</span>       <span class="comment">#代码主题</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">atom-one-dark</span></span><br><span class="line">  <span class="attr">prism:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">prism</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">prism-dark</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span>      <span class="comment">#代码一键复制功能</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line">    <span class="attr">style:</span></span><br></pre></td></tr></table></figure><h4 id="8-添加网站运行时间"><a href="#8-添加网站运行时间" class="headerlink" title="8. 添加网站运行时间"></a>8. 添加网站运行时间</h4><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305102133736.png"></p><p>打开next主题下layout&#x2F;_partials&#x2F;footer.nijk文件，在最下方添加内容如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 网站运行时间的设置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;timeDate&quot;</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;times&quot;</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span>  //这边可以加上你想说的话</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> grt= <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;02/22/2022 16:00:00&quot;</span>);<span class="comment">//此处修改你的建站时间或者网站上线时间</span></span></span><br><span class="line"><span class="language-javascript">        now.<span class="title function_">setTime</span>(now.<span class="title function_">getTime</span>()+<span class="number">250</span>);</span></span><br><span class="line"><span class="language-javascript">        days = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>; dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days);</span></span><br><span class="line"><span class="language-javascript">        hours = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> - (<span class="number">24</span> * dnum); hnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(hours);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(<span class="title class_">String</span>(hnum).<span class="property">length</span> ==<span class="number">1</span> )&#123;hnum = <span class="string">&quot;0&quot;</span> + hnum;&#125; minutes = (now - grt ) / <span class="number">1000</span> /<span class="number">60</span> - (<span class="number">24</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * hnum);</span></span><br><span class="line"><span class="language-javascript">        mnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(minutes); <span class="keyword">if</span>(<span class="title class_">String</span>(mnum).<span class="property">length</span> ==<span class="number">1</span> )&#123;mnum = <span class="string">&quot;0&quot;</span> + mnum;&#125;</span></span><br><span class="line"><span class="language-javascript">        seconds = (now - grt ) / <span class="number">1000</span> - (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * <span class="number">60</span> * hnum) - (<span class="number">60</span> * mnum);</span></span><br><span class="line"><span class="language-javascript">        snum = <span class="title class_">Math</span>.<span class="title function_">round</span>(seconds); <span class="keyword">if</span>(<span class="title class_">String</span>(snum).<span class="property">length</span> ==<span class="number">1</span> )&#123;snum = <span class="string">&quot;0&quot;</span> + snum;&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;timeDate&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;本站已安全运行 &quot;</span>+dnum+<span class="string">&quot; 天 &quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;times&quot;</span>).<span class="property">innerHTML</span> = hnum + <span class="string">&quot; 小时 &quot;</span> + mnum + <span class="string">&quot; 分 &quot;</span> + snum + <span class="string">&quot; 秒&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"><span class="built_in">setInterval</span>(<span class="string">&quot;createtime()&quot;</span>,<span class="number">250</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：运行时间以及访问人数在本地预览可能会显示不正常。</p></blockquote><h4 id="9-网站访问人数"><a href="#9-网站访问人数" class="headerlink" title="9. 网站访问人数"></a>9. 网站访问人数</h4><p>打开主题配置文件，搜索<code>busuanzi</code>，修改如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>           <span class="comment">#是否开启不蒜子统计功能</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span>  <span class="comment">#统计访客数</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span>       <span class="comment">#统计访问数</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">fa</span> <span class="string">fa-eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">false</span>        <span class="comment">#统计文章阅读数</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">far</span> <span class="string">fa-eye</span></span><br></pre></td></tr></table></figure><h4 id="10-图片放大预览"><a href="#10-图片放大预览" class="headerlink" title="10. 图片放大预览"></a>10. 图片放大预览</h4><p>在<strong>主题配置文件</strong>中开启<code>fancybox</code>选项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="11-更换Hexo网页图标"><a href="#11-更换Hexo网页图标" class="headerlink" title="11. 更换Hexo网页图标"></a>11. 更换Hexo网页图标</h4><p><strong>当套用完Next主题后，个人博客的站点图标会自动为Next的logo</strong></p><ol><li><p>制作favicon图标，这里提供一种制作方法<a href="https://www.bitbug.net/">链接</a>，将下载好的图片分别命名为<code>favicon16.ico</code>和<code>favicon32.ico</code>，并将修改后的图片复制到<code>/themes/next/source/images</code>目录中</p></li><li><p>打开next主题的<code>_config.yml</code>文件，<code>favicon:</code>有以下内容：</p><p> <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305105809207.png"></p></li><li><p>在命令行中依次输入<code>hexo clean, hexo g, hexo d, hexo s</code>就可以在本地和远端看到自己的站点图标变成自己设置的图标。</p></li></ol><h4 id="12-标签页美化"><a href="#12-标签页美化" class="headerlink" title="12. 标签页美化"></a>12. 标签页美化</h4><p>打开**主题配置文件 **<code>_config.yml</code> 去除 <code>styles.styl</code> 前的注释</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305111945162.png"></p><p>在<strong>站点目录</strong>下的<code>source</code>目录中创建<code>_data</code> 目录，在<code>_data</code>目录下新建 <code>styles.styl</code> 文件，填入下面内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tag-cloud</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">#6f42c1</span>, <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">#d9534f</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">193</span>,<span class="number">66</span>,<span class="number">92</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305112311809.png" alt="美化后效果"></p><h4 id="13、分类页美化"><a href="#13、分类页美化" class="headerlink" title="13、分类页美化"></a>13、分类页美化</h4><p>在<strong>站点目录下</strong>依次进行选择<code>themes → next → source → css → _schemes → (自己选择的Scheme)</code> 进入文件夹，用编辑器打开<code>index.styl </code>文件在最后新增如下样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 分类页样式 began */</span></span><br><span class="line"><span class="selector-class">.category-list-link</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">104</span>, <span class="number">104</span>, <span class="number">105</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">  //<span class="attribute">display</span>:flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.category-list-link</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;📚&quot;</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font</span>: normal normal normal <span class="number">14px</span>/<span class="number">1</span> FontAwesome;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分类页样式 end */</span></span><br></pre></td></tr></table></figure><p>修改站点目录下的<code>/themes/next/source/css/_common/components/pages/categories.styl</code>代码，将<code>.category-list-child</code>的<code>padding-left</code>属性改为<code>60px</code>，可以更改子类与父类之间的间隔。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220305113645259.png"></p><blockquote><p><strong>补充</strong>：Hexo-Next分类多层级描述</p></blockquote><ol><li><p><strong>分类一般用法</strong><br> Hexo中分类和标签有着明显的差别：分类具有顺序性和层次性，而标签没有顺序和层次。</p> <figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- Diary</span><br><span class="line"><span class="keyword">tags:</span></span><br><span class="line">- PS3</span><br><span class="line">- Games</span><br></pre></td></tr></table></figure></li><li><p><strong>父子分类</strong><br> Hexo不支持指定多个同级分类。下面的指定方法会使分类<strong>Life</strong>成为<strong>Diary</strong>的子分类。</p> <figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">categories</span>:</span><br><span class="line"><span class="literal">-</span> Diary</span><br><span class="line"><span class="literal">-</span> Life</span><br></pre></td></tr></table></figure></li><li><p><strong>并列+子分类</strong><br> 如果需要为文章添加多个分类，可以尝试以下的方法。此时这篇文章同时包括三个分类：PlayStation和Games分别都是父分类Diary的子分类，同时Life是一个没有子分类的分类。</p> <figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">categories</span>:</span><br><span class="line"><span class="literal">-</span> [Diary, PlayStation]</span><br><span class="line"><span class="literal">-</span> [Diary, Games]</span><br><span class="line"><span class="literal">-</span> [Life]</span><br></pre></td></tr></table></figure></li></ol><h4 id="14-隐藏底部的强力驱动"><a href="#14-隐藏底部的强力驱动" class="headerlink" title="14. 隐藏底部的强力驱动"></a>14. 隐藏底部的强力驱动</h4><p>主题配置文件 <code>_config.yml</code> 修改 <code>footer</code> 选项下的 <code>powered</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Powered by Hexo &amp; NexT</span></span><br><span class="line">  <span class="attr">powered:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="15-文章置顶设置"><a href="#15-文章置顶设置" class="headerlink" title="15. 文章置顶设置"></a>15. 文章置顶设置</h4><p>将站点目录下的<code>node_modules/hexo-generator-index/lib/generator.js</code>文件中的内容<code>全部</code>换成如下内容：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">&#x27;hexo-pagination&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">locals</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="variable language_">this</span>.<span class="property">config</span>;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.<span class="property">posts</span>.<span class="title function_">sort</span>(config.<span class="property">index_generator</span>.<span class="property">order_by</span>);</span><br><span class="line"></span><br><span class="line">  posts.<span class="property">data</span> = posts.<span class="property">data</span>.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(a.<span class="property">top</span> &amp;&amp; b.<span class="property">top</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span>(a.<span class="property">top</span> == b.<span class="property">top</span>) <span class="keyword">return</span> b.<span class="property">date</span> - a.<span class="property">date</span>;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">return</span> b.<span class="property">top</span> - a.<span class="property">top</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(a.<span class="property">top</span> &amp;&amp; !b.<span class="property">top</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(!a.<span class="property">top</span> &amp;&amp; b.<span class="property">top</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">return</span> b.<span class="property">date</span> - a.<span class="property">date</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.<span class="property">pagination_dir</span> || <span class="string">&#x27;page&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pagination</span>(<span class="string">&#x27;&#x27;</span>, posts, &#123;</span><br><span class="line">    <span class="attr">perPage</span>: config.<span class="property">index_generator</span>.<span class="property">per_page</span>,</span><br><span class="line">    <span class="attr">layout</span>: [<span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;archive&#x27;</span>],</span><br><span class="line">    <span class="attr">format</span>: paginationDir + <span class="string">&#x27;/%d/&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">__index</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>修改完成后，设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序，top值越大越靠前。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211031155453377.png"></p><h3 id="撰写文章"><a href="#撰写文章" class="headerlink" title="撰写文章"></a>撰写文章</h3><h4 id="1-更改新建文章的模板"><a href="#1-更改新建文章的模板" class="headerlink" title="1. 更改新建文章的模板"></a>1. 更改新建文章的模板</h4><p>默认新建文章需要修改<strong>站点目录</strong>下的<code>scaffolds/post.md</code> 文件。</p><p>本人的默认新建文件的的内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">more</span> <span class="string">--&gt;</span> </span><br></pre></td></tr></table></figure><h4 id="2-撰写过程"><a href="#2-撰写过程" class="headerlink" title="2. 撰写过程"></a>2. 撰写过程</h4><p>站点目录下进入命令行，执行<code>hexo new “文章标题”</code>，然后用Typore或其他软件打开站点目录下</p><p>source&#x2F;_posts文件夹中出现的新文件<code>文章标题.md</code>。标签及分类用法参照<a href="#13%E3%80%81%E5%88%86%E7%B1%BB%E9%A1%B5%E7%BE%8E%E5%8C%96">分类页美化下方的补充内容</a>。</p><p>关于对应的语法知识参考<a href="https://qanfan.github.io/2022/02/27/markdown%E8%AF%AD%E6%B3%95/">markdown语法</a> 。</p><p>写完后保存上传就OK了。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>关于next主题优化设置就记录这么多了。如果个人还要有其他的一些改动，可以参考下方链接。</p><p><a href="http://theme-next.iissnan.com/getting-started.html">NexT</a>官网</p><p><a href="https://blog.csdn.net/weixin_44815733/article/details/88817220?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164586648116780269861265%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=164586648116780269861265&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-88817220.pc_search_insert_ulrmf&utm_term=hexo+%E6%80%8E%E4%B9%88%E5%A4%8D%E5%88%B6%E5%85%B6%E4%BB%96%E4%BA%BA%E7%9A%84%E4%B8%BB%E9%A2%98&spm=1018.2226.3001.4187">hexo的next主题个性化配置</a></p><p><a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502">Hexo博客优化之Next主题美化</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文主要记录本人搭建博客中主题更换以及一些配置过程。主要是怕自己以后忘了怎么配置的，再折腾一遍。出个教程，方便无脑抄袭。&lt;/p&gt;
&lt;p&gt;Hexo 6.0.0 |  next 8.10.0    &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在站点文件夹内执行Git Bash Here输入&lt;code&gt;hexo v&lt;/code&gt;即可查询版本信息&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="http://example.com/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="主题" scheme="http://example.com/tags/%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Geomagic Studio学习记录</title>
    <link href="http://example.com/2022/03/04/Gemomagic-Studio%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    <id>http://example.com/2022/03/04/Gemomagic-Studio%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</id>
    <published>2022-03-04T02:43:45.000Z</published>
    <updated>2022-03-18T02:43:02.853Z</updated>
    
    <content type="html"><![CDATA[<p>利用Geomagic Studio拥有强大的点云数据处理能力以及曲面重构功能将通过Mimics建立的三维几何表面模型转换为通用的实体模型，下面记录用到的操作。</p><blockquote><p>Geomagic Studio 2014  </p></blockquote><span id="more"></span><p>利用Mimics生成的STL模型文件，在GS中拟合曲面具有以下优点：</p><ul><li>建模速度快，直接进入多边形阶段，避免了传统先处理点云数据，然后蒙罩形成多边形网格</li><li>根据关节面特征，可以自定义边界约束，拟合关节面的NURBS曲面，对于后期软骨建模及有限元分析更为方便及精确。</li></ul><h2 id="基础介绍"><a href="#基础介绍" class="headerlink" title="基础介绍"></a>基础介绍</h2><p><strong>程序基本面板</strong></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304161626773.png"></p><p><strong>常用快捷键</strong></p><table><thead><tr><th align="center">快捷键</th><th align="center">命令含义</th></tr></thead><tbody><tr><td align="center">鼠标中键</td><td align="center">旋转</td></tr><tr><td align="center">Alt+鼠标中&#x2F;右键</td><td align="center">平移</td></tr><tr><td align="center">Ctrl+Z</td><td align="center">撤销（只能返回一步）</td></tr><tr><td align="center">Ctrl+P</td><td align="center">选择画笔</td></tr><tr><td align="center">Ctrl+A&#x2F;C</td><td align="center">全选&#x2F;不选</td></tr><tr><td align="center">Ctrl+V</td><td align="center">只选择可见</td></tr><tr><td align="center">Ctrl+F</td><td align="center">设置旋转中心</td></tr></tbody></table><h2 id="多边形指令"><a href="#多边形指令" class="headerlink" title="多边形指令"></a>多边形指令</h2><h3 id="1-重画网格"><a href="#1-重画网格" class="headerlink" title="1.重画网格"></a>1.重画网格</h3><ul><li><strong>创建流形</strong></li></ul><p>​       创建流形功能可以将模型周围的小碎片去除</p><ul><li><p><strong>去除特征</strong> </p><p>  解决小范围的凹凸平面，分析中易产生应力集中</p></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/QQ%E6%88%AA%E5%9B%BE20220301161048.png"></p><blockquote><p>操作方法：</p><p>选中区域，点击菜单栏去除特征或者右键选择去除特征</p></blockquote><p><strong>注意</strong>：区域不要过大，出现无法去除的原因有俩种:</p><ol><li>存在空洞</li><li>未选中所有的面（软件只会选中视角所看到区域）</li></ol><ul><li><p><strong>删除钉状物</strong>  </p><p>  边峰尖锐处可以选中，删除钉状物，让其圆滑。</p></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220301162000836.png"></p><ul><li><strong>显示–视图剪切 可以看到剖面情况</strong></li></ul><h2 id="精确曲面"><a href="#精确曲面" class="headerlink" title="精确曲面"></a>精确曲面</h2><p>曲面阶段的主要任务为<strong>轮廓线的编辑</strong>与<strong>曲面片的基本编辑</strong>，前者主要包括轮廓线的探测、曲率的探测、</p><p>轮廓线的抽取、轮廓线的编辑与延伸以及如何松弛轮廓线；后者包括曲面片的编辑、面板移动、曲面片</p><p>松弛以及曲面片修理。</p><p>曲面阶段的主要流程如图</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304084328843.png"></p><ul><li>第一步点击精确曲面，第一次弄选择<strong>新建曲面片</strong>，若不是可以选择<strong>恢复曲面片布局</strong></li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304110212772.png"></p><p>接下来共有四个步骤：<strong>编辑轮廓线、构造曲面片、构造格栅、拟合曲面</strong></p><blockquote><p>也可以选择自动生成曲面片，但曲面片质量一般，不利于之后的网格划分及有限元分析。尽量手动从左到右四个流程走一遍。</p></blockquote><h3 id="1-编辑轮廓线"><a href="#1-编辑轮廓线" class="headerlink" title="1. 编辑轮廓线"></a>1. 编辑轮廓线</h3><p><strong>轮廓线的生成方法有二种，一就是探测曲率自动生成轮廊线，二就是探测轮廊线，再抽取出轮廓线。这二种方法只能二选一，介绍如下：</strong></p><h4 id="探测曲率"><a href="#探测曲率" class="headerlink" title="探测曲率"></a>探测曲率</h4><p>选择<code>轮廓线</code>→<code>探测曲率</code>命令，在管理器面板上弹出<strong>探测曲率</strong>对话框。选中<strong>自动评估</strong>复选框，设置曲率级别，选中<strong>简化轮廓线</strong>复选框，单击应用按钮，单击确定按钮完成该命令。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304150107845.png"></p><blockquote><p><strong>探测曲率</strong>命令将会引导软件自动地依据模型曲面的曲率生成轮廊线。<strong>自动估计</strong>就是让软件根据模型的复杂程度自动判断轮廊线的生成，而<strong>曲率级别</strong>决定了最高曲率线的临界值，它的值越小，最高曲率线的临界值就越小，即橘黄色线出现的可能性越大。</p></blockquote><h4 id="探测轮廓线"><a href="#探测轮廓线" class="headerlink" title="探测轮廓线"></a>探测轮廓线</h4><p>选择<code>轮廓线</code>→<code>探测轮廓线</code>命令，在管理器面板上弹出<strong>探测轮廓线</strong>对话框。</p><p>通过设置区域的曲率敏感性、分隔符敏感性与最小面积，单击<strong>计算</strong>按钮探测区域，并通过编辑命令对探测区域进行修改，修改完成后，单</p><p>击<strong>抽取</strong>按钮，最后单击确定按钮完成该命令。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220304151318833.png"></p><h4 id="提升约束"><a href="#提升约束" class="headerlink" title="提升约束"></a>提升约束</h4><p>执行<code>轮廓线</code>→<code>提升约束</code>→<code>升级/约束</code>，在管理器面板中弹出<strong>升级&#x2F;约束</strong>对话框。</p><p>其中<strong>局部</strong>对话框用于对局部的曲率线或点进行操作，单击图中的黑色轮廓可将其升级为橘黄色轮廓线（高曲率轮廓线），如果错选了轮廓</p><p>线，可以同时按着ctr1键同时单击该轮廓线，取消升级或降级。</p><p><strong>全局</strong>对话框用于进行全局操作，<strong>全部约束</strong>即对所有点、线进行约束。选择完所有需升级约束的曲线或点后，单击执行和确定按钮即完成轮</p><p>廓线的升级</p><h3 id="2-构造曲面片"><a href="#2-构造曲面片" class="headerlink" title="2. 构造曲面片"></a>2. 构造曲面片</h3><p>执行<code>曲面片</code>→<code>构造曲面片命令</code>，选中<strong>自动估计</strong>复选框，并勾选<strong>检查路径相交</strong>复选框避免相交路径的出现，单击应用按钮，得到图形，最后单击确定按钮完成曲面片的构造。</p><h4 id="移动面板"><a href="#移动面板" class="headerlink" title="移动面板"></a>移动面板</h4><p>选择菜单<code>曲面片</code>→<code>移动</code>→<code>移动面板</code>，在管理器面板中弹出<strong>移动面板</strong>对话框。在<strong>操作</strong>一栏选择<strong>编辑</strong>选项，这样就可以将轮廊线的顶点移到想</p><p>要的地方，与此同时还可以升级&#x2F;降级线。</p><blockquote><p> 在移动轮廓线顶点时需要注意轮廊线不可相交，且尽量使最高曲率线位于区域最高的位置，这对于生成的曲面片的质量有好处。</p></blockquote><ul><li>定义曲面片</li></ul><p>在<code>操作</code>一栏选择<code>定义</code>选项, <code>类型</code>一栏选择<code>格栅</code>复选框，单击区域任一地方，该区域将以白色的高亮形式显示。在轮廓上的节点上出现4有</p><p>圆圈的角点，并用数字表示每二个角点之间的曲面片的数量。如果数字显示蓝色说明两对面曲面数相等；如果就是红色，则提醒两对</p><p>的曲面数不等，需要在<code>操作</code>一栏中选择<code>添加/删除2条路径</code>，然后在要改变的那个边上单击一下增加二个曲面片，或按着ctrl并同时单击减</p><p>少曲面片的路径，从而使两对面的曲面数相等，最后单击<strong>执行</strong>按钮，曲面片被重新布局。</p><h4 id="压缩-x2F-解压缩曲面片层"><a href="#压缩-x2F-解压缩曲面片层" class="headerlink" title="压缩&#x2F;解压缩曲面片层"></a>压缩&#x2F;解压缩曲面片层</h4><p>执行<code>曲面片</code>→<code>压缩/解压缩曲面片层</code>，在管理器面板中弹出<strong>压缩曲面片层</strong>对话框，该命令用于删除或细分整行的曲面片。</p><blockquote><p>压缩合并曲面片的两行为一行。</p><p>解压缩则正好相反，其将曲面的一行分为两半。</p></blockquote><h3 id="3-构造格栅"><a href="#3-构造格栅" class="headerlink" title="3. 构造格栅"></a>3. 构造格栅</h3><p>执行<code>格栅</code>→<code>构造格栅</code>命令，设置分辨率为20，这意味着每个曲面将会生成20个更小的曲面片，这些曲面片以直角的形式分布于大的曲面</p><p>片里。NURBS曲面的控制点将遵循这些栅格。</p><p><strong>修复相交区域</strong>复选框，用于检查相交的格栅并进行修复，通常选中该项。</p><p><strong>检查几何图形</strong>就是指就是否通知用户，一旦完成这个功能，不论就是否存在不完善的区域都将使用格栅固定住，一般不选中该项。</p><h4 id="指定尖角轮廓"><a href="#指定尖角轮廓" class="headerlink" title="指定尖角轮廓"></a>指定尖角轮廓</h4><p>指定尖角轮廓指定尖角轮廓与我们平时比较熟悉的锐化命令相似，通过选择<code>格栅</code>→<code>指定</code>命令，在其下拉菜单中选择指定尖角轮廓，打开<strong>指定尖角轮廓</strong>对话框，在<strong>选择</strong>一栏勾选轮廓线，用选择工具选择需要的轮廓线，选中的轮廓线将以紫色显示，单击约束按钮，约束选定的轮廓线。</p><h4 id="指定平面区域"><a href="#指定平面区域" class="headerlink" title="指定平面区域"></a>指定平面区域</h4><p>在<code>格栅</code>→<code>指定</code>命令的下拉菜单中选择指定平面区域，打开<strong>指定平面区域</strong>对话框，勾选将边界标记为尖锐，选择工具选择需要置平的区域，并单击<strong>下一个</strong>按钮，依次指定平面区域，指定的平面区域将以彩色高亮显示。</p><h3 id="4-拟合曲面"><a href="#4-拟合曲面" class="headerlink" title="4. 拟合曲面"></a>4. 拟合曲面</h3><p>选择<code>曲面</code>→<code>拟合曲面</code>命令置，打开<strong>拟合曲面</strong>对话框，系统将以面板上的格栅为基础创建一个NURBS曲面，创建的NURBS曲面如下图。</p><p>对话框中部分选项说明如下:</p><p><code>拟合方法</code>对话框用于选择曲面拟合的方法。</p><p><strong>适应性</strong>方法将优化每个曲面片内所使用的控制点的数量,就是较常采用的方法;</p><p><strong>常数</strong>方法将建立一个含有常数个控制点的布局。</p><p><code>设置</code>对话框用于设置拟合的参数。</p><p><strong>最大控制点数</strong>指定控制点数的最大值;</p><p><strong>公差</strong>指定NURBS曲面相对于原始曲面片偏离的最大距离;</p><p><strong>表面张力</strong>用于调整精度与平滑度之间的平衡;</p><p>体外孤点百分比在NURBS曲面公差允许范围内,指定基本网格内可以超出公差的点的百分比。</p><h3 id="5-偏差分析（可不做）"><a href="#5-偏差分析（可不做）" class="headerlink" title="5. 偏差分析（可不做）"></a>5. 偏差分析（可不做）</h3><p>利用偏差分析可查看生成的曲面模型与原始模型之间的偏差，通过单击<code>偏差分析</code>命令，打开偏差分析对话框，设置参考对象、测试对象、</p><p>颜色段等参数，点击应用按钮，系统自动对测试对象与参考对象之间的偏差进行分析，并以不同的颜色分级显示误差大小。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;利用Geomagic Studio拥有强大的点云数据处理能力以及曲面重构功能将通过Mimics建立的三维几何表面模型转换为通用的实体模型，下面记录用到的操作。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Geomagic Studio 2014  &lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="有限元" scheme="http://example.com/categories/%E6%9C%89%E9%99%90%E5%85%83/"/>
    
    
    <category term="逆向" scheme="http://example.com/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>markdown语法</title>
    <link href="http://example.com/2022/02/27/markdown%E8%AF%AD%E6%B3%95/"/>
    <id>http://example.com/2022/02/27/markdown%E8%AF%AD%E6%B3%95/</id>
    <published>2022-02-27T13:14:03.000Z</published>
    <updated>2022-03-05T08:49:24.684Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Markdown简介"><a href="#Markdown简介" class="headerlink" title="Markdown简介"></a>Markdown简介</h2><p>Markdown是一种轻量级标记语言，允许人们使用易读易写的纯文本格式编写文档。Markdown编写的文档可以导出HTML、Word、Img、PDF等多种格式的文档，Markdown编写的文档后缀为<code>.md</code>。推荐使用Typora作为Markdown的编辑器。推荐对应的书<a href="https://pan.baidu.com/s/1BU2Q0hqfPKoBLK-A1j7jiQ">《了不起的Markdown》</a>(提取码：1234)。</p><blockquote><p><strong>说明</strong>：本学习笔记只记录Markdown推荐使用的语法，不对所有语法进行呈列。</p></blockquote><span id="more"></span><h2 id="第一章-Markdown基础语法"><a href="#第一章-Markdown基础语法" class="headerlink" title="第一章 Markdown基础语法"></a>第一章 Markdown基础语法</h2><h3 id="1、字体"><a href="#1、字体" class="headerlink" title="1、字体"></a>1、字体</h3><h4 id="1-1、标题"><a href="#1-1、标题" class="headerlink" title="1.1、标题"></a>1.1、标题</h4><ul><li><strong>使用#的语法</strong>：# + 空格 + 标题内容</li><li>语法说明：<ul><li>#的个数代表标题的级别。</li><li>建议在#后加一个空格。</li><li>Markdown最多支持前六级标题。</li></ul></li><li>语法实例演示：<ul><li># ：一级标题</li><li>## ：二级标题</li><li>### ：三级标题</li><li>……</li><li>######：六级标题</li></ul></li><li>使用规范：<ul><li>要保持间距，建议标题的前后都要空1行（除非标题在文档开头）；<code>#</code>与标题文本之间也要有1个空格，否则会导致阅读困难。</li><li>不要有多余的空格。建议标题要写在一行的开头，结尾也不要有空格。</li><li>建议标题的结尾不要有标点符号，如句号、逗号、冒号、分号等。</li><li>建议标题要尽量简短，这样方便引用，特别是当生成目录时。如果原拟的标题是一个长句，可以从长句中提取标题，而将长句作为标题下的内容。</li></ul></li></ul><blockquote><p><strong>说明</strong>：</p><ul><li><code>Typora</code>编辑器中已经默认设置标题时，标题前后都会空一行，无需再留空行。</li><li><code>Typora</code>编辑器中可以使用快捷键<code>CTRL + 数字键</code>实现六级标题。</li></ul></blockquote><h4 id="1-2、粗体和斜体"><a href="#1-2、粗体和斜体" class="headerlink" title="1.2、粗体和斜体"></a>1.2、粗体和斜体</h4><ul><li><strong>粗体</strong>：由两对*包裹</li><li><strong>斜体</strong>：由一对*包裹</li><li><strong>实例演示</strong>：我是<code>**粗体**</code>，我是<code>*斜体*</code>。</li><li><strong>使用规范</strong>：在粗体和斜体语法标记的内部，建议不要有空格。</li></ul><blockquote><p><strong>说明</strong>：<code>Typora</code>编辑器中可以使用快捷键<code>CTRL + b</code>和<code>CTRL + i</code>来实现粗体和斜体的样式。</p></blockquote><h3 id="2、段落与换行"><a href="#2、段落与换行" class="headerlink" title="2、段落与换行"></a>2、段落与换行</h3><p><strong>Markdown中的段落由一行或多行文本组成，不同的段落之间使用空行来标记。</strong></p><ul><li><p><strong>语法说明</strong>：</p><ul><li>如果行与行之间没有空格，则会被视为同一段落。</li><li>如果行与行之间有空行，则会被视为不同的段落。</li><li>空行是指行内什么都没有，或者只有空格和制表符。</li><li>如果想在段内换行，则需要在上一行的结尾插入<em>两个以上的空格</em>然后按回车键。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027091719148.png"></p></li><li><p><strong>使用规范</strong>：</p><ul><li>当超过80个字符后进行换行。</li><li>在一句话结束（。或！或？）之后换行。</li><li>当URL较长时换行，通过在URL要换行的位置加一个换行符。</li></ul><blockquote><p><strong>说明</strong>：<a href="#6%E3%80%81%E9%93%BE%E6%8E%A5">链接的使用</a>在本章节第6小节介绍。</p></blockquote></li></ul><h3 id="3、列表"><a href="#3、列表" class="headerlink" title="3、列表"></a>3、列表</h3><p><strong>在Markdown中支持使用有序列表和无序列表，有序列表用数字序号+英文句号+空格+列表内容来标记，无序列表由*&#x2F;+&#x2F;- + 空格+列表内容标记。</strong></p><h4 id="3-1、有序列表："><a href="#3-1、有序列表：" class="headerlink" title="3.1、有序列表："></a>3.1、有序列表：</h4><ul><li><p><strong>使用语法</strong>：数字序号 + 英文句号 + 空格 + 列表内容</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027094817464.png"></p></li></ul><h4 id="3-2、无序列表："><a href="#3-2、无序列表：" class="headerlink" title="3.2、无序列表："></a>3.2、无序列表：</h4><ul><li><p><strong>使用语法</strong>：*、+、- + 空格 + 列表内容</p></li><li><p><strong>语法说明</strong>：*、+、- 的作用是一致的。</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027095914769.png"></p></li></ul><h4 id="3-3、嵌套列表："><a href="#3-3、嵌套列表：" class="headerlink" title="3.3、嵌套列表："></a>3.3、嵌套列表：</h4><ul><li><p><strong>使用语法</strong>：</p><ul><li>+ 第一层列表</li><li>TAB + 第二层列表</li><li>TAB + TAB + 第三层列表</li></ul></li><li><p><strong>语法说明</strong>：</p><ul><li>列表中可以嵌套列表。</li><li>有序列表和无序列表也可以相互嵌套。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027100700893.png"></p></li><li><p><strong>使用规范</strong>：</p><ul><li>建议使用<code>-</code>来标记无序列表，因为<code>* </code>容易跟粗体和斜体混淆，而<code>+</code>不流行。</li><li>如果一个列表中所有的列表项都没有换行，建议使用1个空格。</li><li>如果列表项有换行，则建议给无序列表使用3个空格（根据自己设置<code>TAB</code>的缩进的位数来决定），给有序列表使用2个空格。</li><li>如果一个列表中的每个列表项都只有1行，建议列表项之间不要有空行。</li><li>如果列表项中有换行，建议在列表项之间空1行，这样会比较容易区分多行列表项的开始和结束。</li><li>建议在列表前&#x2F;后都空1行。</li><li>数字、字符、符号列表使用英文半角句号，句号后加空格。</li></ul></li></ul><blockquote><p><strong>说明</strong>：</p><ul><li><code>Typora</code>编辑器中可以使用快捷键<code>CTRL + &#125;</code> 和 <code>CTRL + &#123;</code>实现无序列表和有序列表的样式。</li><li><code>Typora</code>编辑器对于列表项中有换行时，列表项之间添加空格的问题，<code>Typora</code>编辑器已经默认处理过了，同时关于有无换行时，有序列表和无序列表时空格的多少也无需考虑，<code>Typora</code>编辑器已经默认处理过了。</li></ul></blockquote><h3 id="4、分割线"><a href="#4、分割线" class="headerlink" title="4、分割线"></a>4、分割线</h3><ul><li><p><strong>使用语法</strong>：分隔线由3个以上的* 、-、_来标记。</p></li><li><p><strong>语法说明</strong>：</p><ul><li>分隔线须使用至少3个以上的* 、-、_来标记。</li><li>行内不能有其他的字符。</li><li>可以在标记符中间加上空格。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027105031998.png"></p></li></ul><h3 id="5、图片"><a href="#5、图片" class="headerlink" title="5、图片"></a>5、图片</h3><ul><li><p><strong>插入图片的语法</strong>：![图片替代文字](图片地址)</p></li><li><p><strong>语法说明</strong>：</p><ul><li>图片替代文字在图片无法正常显示时会比较有用，正常情况下可以为空。</li><li>图片地址可以是本地图片的路径也可以是网络图片的地址。</li><li>本地图片支持相对路径和绝对路径两种方式。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027105556796.png"></p></li></ul><h3 id="6、链接"><a href="#6、链接" class="headerlink" title="6、链接"></a>6、链接</h3><h4 id="6-1、文字链接"><a href="#6-1、文字链接" class="headerlink" title="6.1、文字链接"></a>6.1、文字链接</h4><p><strong>文字链接就是把链接地址直接写在文本中。</strong></p><ul><li><p><strong>使用语法</strong>：[链接文字](链接地址)</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027152641385.png"></p></li></ul><h4 id="6-2、引用链接"><a href="#6-2、引用链接" class="headerlink" title="6.2、引用链接"></a>6.2、引用链接</h4><p><strong>引用链接是把链接地址作为<code>变量</code>先在Markdown文件的页尾定义好，然后在正文中引用</strong></p><ul><li><p><strong>使用语法</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027153217156.png"></p></li><li><p><strong>语法说明</strong>：</p><ul><li>链接标记可以有字母、数字、空格和标点符号。</li><li>链接标记不区分大小写。</li><li>定义的链接内容可以放在当前文件的任意位置，建议放在页尾。</li><li>当链接地址为网络地址时要以 http&#x2F;https开头，否则会被识别为本地地址。</li></ul></li></ul><h4 id="6-3、网址链接"><a href="#6-3、网址链接" class="headerlink" title="6.3、网址链接"></a>6.3、网址链接</h4><p><strong>在Markdown中，将网络地址或邮箱地址使用&lt;&gt;包裹起来会被自动转换为超链接。</strong></p><ul><li><p><strong>使用语法</strong>：&lt;URL 或 邮箱地址&gt;</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027154037298.png"></p></li></ul><h4 id="6-4、使用规范"><a href="#6-4、使用规范" class="headerlink" title="6.4、使用规范"></a>6.4、使用规范</h4><ul><li>在Markdown中，链接标题的信息应该更丰富，从标题中应该可以知道链接的内容，要使用有意义的链接标题。</li><li>建议使用&lt;&gt;包裹自动链接，这种方式更通用。</li><li>自动链接要以http&#x2F;https开头。</li></ul><h3 id="7、行内代码与代码块"><a href="#7、行内代码与代码块" class="headerlink" title="7、行内代码与代码块"></a>7、行内代码与代码块</h3><h4 id="7-1、行内代码"><a href="#7-1、行内代码" class="headerlink" title="7.1、行内代码"></a>7.1、行内代码</h4><ul><li><p><strong>使用语法</strong>：使用两个&#96;包裹代码</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027155931029.png"></p></li></ul><h4 id="7-2、代码块"><a href="#7-2、代码块" class="headerlink" title="7.2、代码块"></a>7.2、代码块</h4><p><strong>因为代码块使用Tab键或4个空格开头的效果不够直观，很多扩展语法（如GFM）提供了<code>围栏代码块</code>，并且支持语法高亮。</strong></p><ul><li><p><strong>使用语法</strong>：&#96;&#96;&#96;语种</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027171837966.png"></p></li></ul><h4 id="7-3、使用规范"><a href="#7-3、使用规范" class="headerlink" title="7.3、使用规范"></a>7.3、使用规范</h4><ul><li><code>除行内代码可以使用</code>包裹以外，如果我们想转义或强调某些字符，也可以使用<code>包裹</code>。</li><li>如果代码超过1行，请使用围栏代码块（扩展语法），并显式地声明语言，这样做便于阅读，并且可以显示语法高亮。</li><li>很多Shell命令都要粘贴到终端中去执行，因此最好避免在Shell命令中使用任何<code>换行</code>操作；可以在行尾使用一个\，这样既能避免命令换行，又能提高源码的可读性。</li><li>建议不要在没有输出内容的Shell命令前加$。在命令没有输出内容的情况下，$是没有必要的，因为内容全是命令，我们不会把命令和输出的内容混淆。</li></ul><h3 id="8、引用"><a href="#8、引用" class="headerlink" title="8、引用"></a>8、引用</h3><ul><li><p><strong>使用语法</strong>：&gt; 引用内容</p></li><li><p><strong>语法说明</strong>：</p><ul><li>多行引用也可以在每一行的开头都插入&gt;。</li><li>在引用中可以嵌套引用。</li><li>在引用中可以使用其他的Markdown语法。</li><li>段落与换行的格式在引用中也是适用的。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027162721865.png"></p></li><li><p><strong>使用规范</strong>：</p><ul><li>建议在引用的标记符号＞之后添加一个空格。</li><li>建议每一行引用都使用符号＞。</li><li>不要在引用中添加空行。</li></ul></li></ul><h3 id="9、转义"><a href="#9、转义" class="headerlink" title="9、转义"></a>9、转义</h3><p><strong>当我们想在Markdown文件中插入一些标记符号，但又不想让这些符号被渲染时，可以使用<code>\</code>进行转义。</strong></p><ul><li><strong>使用语法</strong>：\特殊符号</li><li><strong>支持转义的特殊字符</strong>：\，&#96;，*，_，{}，[]，()，#，+，-，.，!</li></ul><blockquote><p><strong>说明</strong>：如果想显示一对&#96;(反引号)，用转义字符无法实现，需要在两端分别添加一对反引号。</p></blockquote><h2 id="第二章-扩展语法GFM"><a href="#第二章-扩展语法GFM" class="headerlink" title="第二章 扩展语法GFM"></a>第二章 扩展语法GFM</h2><p><strong>在众多Markdown扩展语法中，GitHub Flavored Markdown（简称GFM）无疑是目前最流行的，它提供了包括表格、任务列表、删除线、围栏代码、Emoji等在内的标记语法。</strong></p><h3 id="1、删除线"><a href="#1、删除线" class="headerlink" title="1、删除线"></a>1、删除线</h3><ul><li><p><strong>使用语法</strong>：<del>被删除的文字</del></p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027164611866.png"></p></li></ul><h3 id="2、表情符号"><a href="#2、表情符号" class="headerlink" title="2、表情符号"></a>2、表情符号</h3><ul><li><p><strong>使用语法</strong>：:表情代码:</p></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027164753120.png"></p></li></ul><blockquote><p><strong>说明</strong>：更多的表情代码可以参考<a href="https://www.webfx.com/tools/emoji-cheat-sheet/">🎁表情符号备忘单 Github</a></p></blockquote><h3 id="3、自动连接"><a href="#3、自动连接" class="headerlink" title="3、自动连接"></a>3、自动连接</h3><p><strong>在标准语法中，由&lt;&gt;包裹的URL地址被自动识别并解析为超链接，使用GFM扩展语法则可以不使用&lt;&gt;包裹。</strong></p><ul><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027165241510.png" alt="image-20211027165241510"></p></li></ul><h3 id="4、表格"><a href="#4、表格" class="headerlink" title="4、表格"></a>4、表格</h3><ul><li><p><strong>使用语法</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027165353260.png"></p></li><li><p><strong>语法说明</strong>：</p><ul><li>单元格使用|来分隔，为了阅读更清晰，建议最前和最后都使用|。</li><li>单元格和|之间的空格会被移除。</li><li>表头与其他行使用-来</li><li>表格对齐格式如下：<ul><li>左对齐（默认）：:</li><li>右对齐：-:</li><li>居中对齐：:-:</li></ul></li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027165852710.png"></p></li><li><p><strong>使用规范</strong>：</p><ul><li>在表格的前、后各空1行。</li><li>在每一行最前和最后都使用|，每一行中的|要尽量都对齐。</li><li>不要使用庞大复杂的表格，那样会难以维护和阅读。</li></ul></li></ul><h3 id="5、任务列表"><a href="#5、任务列表" class="headerlink" title="5、任务列表"></a>5、任务列表</h3><ul><li><p><strong>使用语法</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027170149173.png"></p></li><li><p><strong>语法说明</strong>：</p><ul><li>任务列表以-+空格开头，由 [+空格&#x2F;x+] 组成。</li><li>x可以小写，也可以大写，有些编辑器可能不支持大写，所以为避免解析错误，推荐使用小写的x。</li><li>当方括号中的字符为空格时，复选框是未选中状态，为x时是选中状态。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027170430536.png"></p></li></ul><blockquote><p><strong>说明</strong>：<code>Typora</code>编辑器中使用任务列表的语法<code>-(空格)[(空格)](空格)内容</code></p></blockquote><h3 id="6、书签（锚点）"><a href="#6、书签（锚点）" class="headerlink" title="6、书签（锚点）"></a>6、书签（锚点）</h3><ul><li><p><strong>使用语法</strong>：[锚点描述] (#锚点名)</p></li><li><p><strong>语法说明</strong>：</p><ul><li>锚点名建议使用字母和数字，当然中文也是被支持的，但不排除有些网站支持得不够好。</li><li>锚点名是区分英文大小写的。</li><li>在锚点名中不能含有空格，也不能含有特殊字符。</li></ul></li><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027172705517.png"></p></li></ul><h2 id="第三章-排版技巧"><a href="#第三章-排版技巧" class="headerlink" title="第三章 排版技巧"></a>第三章 排版技巧</h2><h3 id="1、推荐的排版样式"><a href="#1、推荐的排版样式" class="headerlink" title="1、推荐的排版样式"></a>1、推荐的排版样式</h3><h4 id="1-1、关于空格"><a href="#1-1、关于空格" class="headerlink" title="1.1、关于空格"></a>1.1、关于空格</h4><p><strong>建议中文和英文之间加空格，中文&#x2F;英文和数字之间也要加空格，不过有些编辑器和输入法（如百度输入法）会自动添加空隙，我们就没必要手动添加了，大家在使用时请多注意。</strong></p><ul><li><p><strong>需要加空格的情况:</strong></p><ol><li><p>英文标点符号（如，.；：？）与后面的字符之间需要加空格，与前面的字符之间不需要加空格。</p></li><li><p>当在中文、英文中使用＞（半角）标识路径时，两边都需要加空格。</p><ul><li><p><strong>实例演示</strong>：</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211027173855105.png"></p></li></ul></li></ol></li><li><p><strong>不加空格的情况</strong>：</p><ol><li>中文标点符号和数字、中文、英文之间不需要添加空格。</li><li>数字和百分号之间不需要添加空格。</li><li>数字和单位符号之间不需要添加空格。</li><li>英文和数字组合成的名字之间不需要添加空格。</li><li>当&#x2F;（半角）表示“或”、“路径”时，与前后的字符之间均不加空格</li><li>负号后不加空格。</li></ol></li></ul><h4 id="1-2、半角和全角"><a href="#1-2、半角和全角" class="headerlink" title="1.2、半角和全角"></a>1.2、半角和全角</h4><p><strong>全角：中文标点符号是全角，占两个字节。</strong></p><p><strong>半角：英文标点符号和数字是半角，占1个字节。</strong></p><p><strong>全角：，。；：!#</strong></p><p><strong>半角：,.;:!#</strong></p><ul><li><strong>在中文排版中，要使用全角标点符号。</strong></li><li><strong>在英文排版中，要使用半角标点符号。</strong></li></ul><h4 id="1-3、正确的英文大小写"><a href="#1-3、正确的英文大小写" class="headerlink" title="1.3、正确的英文大小写"></a>1.3、正确的英文大小写</h4><p><strong>专有名词要使用正确的大小写，请参考它们的官方文档。</strong></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Markdown简介&quot;&gt;&lt;a href=&quot;#Markdown简介&quot; class=&quot;headerlink&quot; title=&quot;Markdown简介&quot;&gt;&lt;/a&gt;Markdown简介&lt;/h2&gt;&lt;p&gt;Markdown是一种轻量级标记语言，允许人们使用易读易写的纯文本格式编写文档。Markdown编写的文档可以导出HTML、Word、Img、PDF等多种格式的文档，Markdown编写的文档后缀为&lt;code&gt;.md&lt;/code&gt;。推荐使用Typora作为Markdown的编辑器。推荐对应的书&lt;a href=&quot;https://pan.baidu.com/s/1BU2Q0hqfPKoBLK-A1j7jiQ&quot;&gt;《了不起的Markdown》&lt;/a&gt;(提取码：1234)。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;说明&lt;/strong&gt;：本学习笔记只记录Markdown推荐使用的语法，不对所有语法进行呈列。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="markdown" scheme="http://example.com/categories/markdown/"/>
    
    
    <category term="写作" scheme="http://example.com/tags/%E5%86%99%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>Typora + PicGo + 阿里云搭建图床</title>
    <link href="http://example.com/2022/02/27/Typora%20+%20PicGo%20+%20%E9%98%BF%E9%87%8C%E4%BA%91%20%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/"/>
    <id>http://example.com/2022/02/27/Typora%20+%20PicGo%20+%20%E9%98%BF%E9%87%8C%E4%BA%91%20%E6%90%AD%E5%BB%BA%E5%9B%BE%E5%BA%8A/</id>
    <published>2022-02-27T10:43:06.000Z</published>
    <updated>2022-03-04T08:39:22.864Z</updated>
    
    <content type="html"><![CDATA[<p>  通过搭建图床，可以自动把本地图片或者网页图片转换成链接。一方面方便保存文章图片，二来可以加快打开网站的速度。</p><span id="more"></span><p>Markdown是一种轻量级标记语言，创始人为约翰·格鲁伯（英语：John Gruber）。 它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML（或者HTML）文档。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。<br>由于Markdown的轻量化、易读易写特性，并且对于图片，图表、数学式都有支持，目前许多网站都广泛使用Markdown来撰写帮助文档或是用于论坛上发表消息。 如<code>GitHub</code>、Reddit、Diaspora、Stack Exchange、OpenStreetMap 、SourceForge、简书等，甚至还能被使用来撰写电子书。有关Markdown基础语法可参考<a href="https://qanfan.github.io/2022/02/27/markdown%E8%AF%AD%E6%B3%95/">Markdown语法</a>。</p><h3 id="Typora简介"><a href="#Typora简介" class="headerlink" title="Typora简介"></a>Typora简介</h3><p><strong>Typora是一款功能全面、简洁高效，而且又非常优雅的Markdown编辑器。它把源码编辑和效果预览合二为一，在输入标记之后随即生成预览效果，提供了所见即所得的Markdown写作体验。</strong></p><p><strong>Typora的主要特征</strong>：</p><ul><li><strong>颜值高</strong>：页面漂亮，直接生成网页界面，没有乱七八糟的代码。</li><li><strong>支持中文</strong>：支持中文，那必须得支持一下。</li></ul><blockquote><p><a href="https://www.typora.io/#download">Typora</a>官方下载地址</p></blockquote><h3 id="PicGo简介"><a href="#PicGo简介" class="headerlink" title="PicGo简介"></a>PicGo简介</h3><p>所谓图床工具，就是自动把本地图片转换成链接的一款工具，网络上有很多图床工具，就目前使用种类而言，PicGo 算得上一款比较优秀的图床工具。它是一款用 Electron-vue 开发的软件，可以支持七牛云，腾讯云COS，GitHub，阿里云OSS等等常用图床，功能强大，简单易用。它的使用非常简单，只需先设置好图床网站 &#x2F; 云存储服务的账号之后，用鼠标将图片拖放到 PicGo 主窗口的图片上传框，即可完成图片的上传并返回一个url链接到剪切板。<strong>重点来了，当它与Typora绑定，直接将图拖到Typora中就可以完成上传。</strong></p><blockquote><p><a href="https://github.com/Molunerfinn/PicGo/releases">PicGo下载地址</a></p></blockquote><p>关于这俩款软件自行下载安装，过程都很简单，选个安装位置就好。</p><hr><h3 id="阿里云"><a href="#阿里云" class="headerlink" title="阿里云"></a>阿里云</h3><ul><li>打开<a href="https://www.aliyun.com/activity/new?utm_content=se_1011323120">阿里云</a>，注册并实名制。</li><li>首页打开控制台。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029194022838.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029194127281.png"></p><ul><li>点击概览，创建Bucket</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029194424770.png"></p><ul><li>输入创建信息，然后根据需要，购买资源包</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20211029201049.jpg"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029201631995.png"></p><ul><li><p>购买时长根据个人需要选择，下一步找到自己的<strong>accessKeyId</strong>和<strong>accessKeySecret</strong></p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029202123686.png"></p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211029203644871.png"></p></li></ul><h3 id="打开PicGo"><a href="#打开PicGo" class="headerlink" title="打开PicGo"></a>打开PicGo</h3><ul><li>填入相对于的位置，确认。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220228151813090.png"></p><ul><li>地域节点看下图</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220228152303168.png"></p><h3 id="打开Typora"><a href="#打开Typora" class="headerlink" title="打开Typora"></a>打开Typora</h3><ul><li>打开文件&#x2F;偏好设置&#x2F;图像</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220228152737518.png"></p><ul><li>验证成功</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220228152848863.png"></p><p><strong>结束。正常使用托拉拽、复制粘贴、或截图粘贴，然后选择上传即可。</strong></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;  通过搭建图床，可以自动把本地图片或者网页图片转换成链接。一方面方便保存文章图片，二来可以加快打开网站的速度。&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="http://example.com/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="图床" scheme="http://example.com/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>基于Github pages和Hexo框架搭建博客</title>
    <link href="http://example.com/2022/02/26/%E5%9F%BA%E4%BA%8EGithub-pages%E5%92%8CHexo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://example.com/2022/02/26/%E5%9F%BA%E4%BA%8EGithub-pages%E5%92%8CHexo%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</id>
    <published>2022-02-26T07:18:04.000Z</published>
    <updated>2022-03-04T08:39:45.760Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要记录个人利用GitHub以及Hexo框架搭建个人博客。</p><h3 id="本文使用的东西"><a href="#本文使用的东西" class="headerlink" title="本文使用的东西"></a>本文使用的东西</h3><ol><li>win10系统的电脑</li><li>Node.js  （v16.14.0）</li><li>Git   （v2.35.1）</li><li>Hexo  （6.0.0）<span id="more"></span></li></ol><h3 id="1-搭建GitHub-Pages"><a href="#1-搭建GitHub-Pages" class="headerlink" title="1 搭建GitHub Pages"></a>1 搭建GitHub Pages</h3><h4 id="1-1-注册Github账号："><a href="#1-1-注册Github账号：" class="headerlink" title="1.1 注册Github账号："></a>1.1 注册Github账号：</h4><ul><li>登陆<a href="https://github.com/">Github官网</a>建议用Google浏览器可以网页翻译。注册步骤如下图，也可自己注册。</li></ul><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030203129955.png"></p><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030203800029.png"></p><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030204009682.png"></p><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030204318493.png"></p><p>然后会跳出来页面问你一些问题，自己看着答就好，不影响。点击 complete setup 注册完成。之后会有验证消息发到你的邮箱，点击输入密码验证，你的Github账号就弄好了。</p><h4 id="1-2-创建仓库"><a href="#1-2-创建仓库" class="headerlink" title="1.2 创建仓库"></a>1.2 创建仓库</h4><ul><li>在Github网站首页点击<strong>新建仓库</strong></li></ul><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030205535299.png"></p><ul><li>以自己的<code>Github用户名.github.io</code>命名仓库名称，例如：<code>lisi.github.io</code>，同时，一定要设置成共有，否则会造成其他人访问不了你的博客。</li></ul><p><img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030210513742.png"></p><h3 id="2-安装软件环境"><a href="#2-安装软件环境" class="headerlink" title="2 安装软件环境"></a>2 安装软件环境</h3><h4 id="2-1-安装Node-js"><a href="#2-1-安装Node-js" class="headerlink" title="2.1 安装Node.js"></a>2.1 安装Node.js</h4><h5 id="2-1-1-Node-js的下载"><a href="#2-1-1-Node-js的下载" class="headerlink" title="2.1.1 Node.js的下载"></a>2.1.1 Node.js的下载</h5><p><strong>官网网址：</strong><a href="https://nodejs.org/zh-cn/download/">下载链接</a></p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227142124707.png" alt="image-20220227142124707" style="zoom: 60%;" /><h5 id="2-1-2-安装"><a href="#2-1-2-安装" class="headerlink" title="2.1.2 安装"></a>2.1.2 安装</h5><p><strong>除了安装目录按照自己的需求修改外，其他的全部按照默认设置安装即可。</strong></p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030153815819.png" alt="img"  /><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030153907374.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030154010207.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030154057081.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030154300341.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030154351718.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030154441602.png"></p><h5 id="2-1-3-测试版本"><a href="#2-1-3-测试版本" class="headerlink" title="2.1.3 测试版本"></a>2.1.3 测试版本</h5><p>win10电脑，按win+r，输入cmd，输入如下命令，出现版本号就可以了。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227144233552.png"></p><h4 id="2-2-安装Git"><a href="#2-2-安装Git" class="headerlink" title="2.2 安装Git"></a>2.2 安装Git</h4><h5 id="2-2-1-下载"><a href="#2-2-1-下载" class="headerlink" title="2.2.1 下载"></a>2.2.1 下载</h5><ul><li><strong>官网下载</strong>：<a href="https://git-scm.com/download">下载链接</a></li></ul><p>下载Windows版本，速度较慢，建议打开加速器。</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227144741053.png"></p><h5 id="2-2-2-安装"><a href="#2-2-2-安装" class="headerlink" title="2.2.2 安装"></a>2.2.2 安装</h5><ul><li>安装过程如下</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030094032171.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030094210880.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030094556966.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030094722386.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030094957389.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030095330066.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030095856073.png"></p><ul><li>以下7步默认设置即可，直接next</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100002551.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100027336.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100049550.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100110335.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100135518.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100159669.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100215951.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100239331.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030100542077.png"></p><h5 id="2-2-3-检测"><a href="#2-2-3-检测" class="headerlink" title="2.2.3 检测"></a>2.2.3 检测</h5><p>鼠标右键菜单列表里出现这俩项表示已经安装成功</p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/20191128163702754.png"></p><blockquote><p><strong><u>注意：以上俩个软件安装完重启电脑，方便下一步安装。</u></strong></p></blockquote><h5 id="2-2-3-Git初始化"><a href="#2-2-3-Git初始化" class="headerlink" title="2.2.3 Git初始化"></a>2.2.3 Git初始化</h5><ul><li>在桌面右击选择<code>Git Bash Here</code>，打开命令行，输入：</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.name</span> <span class="string">&quot;用户名&quot;</span></span><br><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.email</span> <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><ul><li>配置ok后，在命令行输入<code>git config --list</code>进行验证是否配置成功。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227152336754.png"></p><h5 id="2-2-4-使用SSH密钥链接Github"><a href="#2-2-4-使用SSH密钥链接Github" class="headerlink" title="2.2.4 使用SSH密钥链接Github"></a>2.2.4 使用SSH密钥链接Github</h5><h4 id="2-3安装Hexo"><a href="#2-3安装Hexo" class="headerlink" title="2.3安装Hexo"></a>2.3安装Hexo</h4><h5 id="2-3-1安装"><a href="#2-3-1安装" class="headerlink" title="2.3.1安装"></a>2.3.1安装</h5><p>因为npm的服务器位于国外可能会影响安装，可以借助淘宝做的国内镜像cnpm下载所需要的package包。</p><p><strong>借助npm安装cnpm</strong>：在<code>Git Bash</code>命令行中，输入</p><p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code>即可安装。</p><p><strong>检验是否安装成功</strong>：</p><ul><li>在<code>Git Bash</code>命令行中，输入<code>cnpm</code>，输出cnpm信息</li><li>在<code>Git Bash</code>命令行中，输入<code>cnpm -v</code>，输出cnpm版本信息</li></ul><p><strong>以上两个操作都返回正确信息代表安装成功。</strong></p><blockquote><p><strong>说明</strong>：如果错误就重来，因为连接可能不稳定。</p></blockquote><h3 id="3-创建博客论坛"><a href="#3-创建博客论坛" class="headerlink" title="3.创建博客论坛"></a>3.创建博客论坛</h3><h4 id="3-1本地论坛搭建"><a href="#3-1本地论坛搭建" class="headerlink" title="3.1本地论坛搭建"></a>3.1本地论坛搭建</h4><p><strong>在本地建立博客文件夹，文件夹的名字根据自己的喜好设置即可，本人设置成<code>Blog</code>，后面所有的插件安装等都是基于这个博客文件夹，如果重建博客，只需要删除博客文件夹即可</strong>。</p><blockquote><p><strong>说明</strong>：</p><ul><li>一定要保证所建的博客文件夹中为<strong>空文件夹</strong>，里面无任何内容，否则接下来执行<code>hexo init</code>操作会报错，会提示文件夹非空。</li><li>本笔记中所说的<strong>站点目录</strong>就是新建的<strong>博客文件夹</strong>，站点就是博客。</li></ul></blockquote><p><strong>接下来的操作步骤</strong>：</p><ol><li><p>在新建的博客文件夹<code>Blog</code>中，右击鼠标，选择<code>Git Bash Here</code>进入Git命令行模式，要确保当前是在新建的博客文件夹中。</p></li><li><p>在命令行中输入<code>hexo init</code>后回车，对应的博客文件夹中就会新增很多关于Hexo框架的文件。</p><p> <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030193055972.png"></p></li><li><p>安装hexo-deployer-git，部署到GitHub的工具，必须在我们创建的博客目录下进行，不在该目录下安装部署时依旧显示未安装。</p> <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure></li><li><p>在命令行中输入<code>hexo s</code>启动Hexo，可能防火墙会提示，这里要允许通过。在本地浏览器输入<a href="http://localhost:4000/">http://localhost:4000</a>即可在本地4000端口浏览自己的网站。</p><p> <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20211030193827087.png"></p></li></ol><h4 id="3-2-部署到GitHub-Pages"><a href="#3-2-部署到GitHub-Pages" class="headerlink" title="3.2 部署到GitHub Pages"></a>3.2 部署到GitHub Pages</h4><h5 id="3-2-1-创建一对新的SSH密钥"><a href="#3-2-1-创建一对新的SSH密钥" class="headerlink" title="3.2.1 创建一对新的SSH密钥"></a>3.2.1 创建一对新的SSH密钥</h5><p>在命令行中执行如下命令，创建密钥</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br><span class="line">#这将按照你提供的邮箱地址，创建一对密钥</span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa key pair.</span><br><span class="line">Enter <span class="keyword">file</span> in which to save the key (<span class="regexp">/c/U</span>sers<span class="regexp">/you/</span>.ssh/id_rsa): [Press enter]</span><br><span class="line">#此处直接回车，则将密钥按默认文件进行存储</span><br></pre></td></tr></table></figure><ul><li><p>根据提示，需要输入密码和确认密码（其实可以不用密码，就是到输密码的地方，都直接回车，所以每次push就只管回车即可）。相关提示如下：</p>  <figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): [<span class="keyword">Type</span> <span class="type">a </span>passphrase]</span><br><span class="line">Enter same passphrase again: [<span class="keyword">Type</span> <span class="type">passphrase </span>again]</span><br></pre></td></tr></table></figure></li><li><p>全部完成后，会输出如下信息：</p>  <figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved in <span class="regexp">/c/U</span>sers<span class="regexp">/you/</span>.ssh/id_rsa.</span><br><span class="line">Your <span class="keyword">public</span> key has been saved in <span class="regexp">/c/U</span>sers<span class="regexp">/you/</span>.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line"><span class="number">01</span>:<span class="number">0</span>f:f4:<span class="number">3</span>b:ca:<span class="number">85</span>:d6:<span class="number">17</span>:a1:<span class="number">7</span>d:f0:<span class="number">68</span>:<span class="number">9</span>d:f0:a2:db your_email@example.com</span><br></pre></td></tr></table></figure></li><li><p>命令行代码实例图：</p><p>  [<img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030235120833.png" alt="image-20211030235120833"></p></li></ul><h5 id="3-2-2-在GitHub账户中添加自己的公钥"><a href="#3-2-2-在GitHub账户中添加自己的公钥" class="headerlink" title="3.2.2 在GitHub账户中添加自己的公钥"></a>3.2.2 在GitHub账户中添加自己的公钥</h5><ul><li><p>在命令行输入<code>clip &lt; ~/.ssh/id_rsa.pub</code>命令，将公钥的内容复制到系统粘贴板中。</p></li><li><p>登陆<a href="https://github.com/">Github</a>，进入个人账户设置，选择<code>SSH与GPG公钥</code>。</p><p>  <img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030233958062.png"></p></li><li><p>点击<code>新建SSH密钥</code>。</p><p>  <img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030234331181.png"></p></li><li><p>将复制好的密钥粘贴到到<code>密钥</code>输入框中。</p><p>  <img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211030235705776.png"></p></li><li><p>输入Github密码即可。</p><p>  <img src="https://dongqing1903.oss-cn-shanghai.aliyuncs.com/img/image-20211031000032736.png"></p></li><li><p>最后进行测试，在命令行中输入<code>ssh -T git@github.com</code>命令，如果需要提供验证密码，输入上一步的密码即可。</p><p>  <img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227160033092.png"></p></li></ul><h5 id="3-2-3配置站点文件"><a href="#3-2-3配置站点文件" class="headerlink" title="3.2.3配置站点文件"></a>3.2.3配置站点文件</h5><ul><li>修改我们博客目录下的“_config.yml”文件</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227160611941.png"></p><ul><li>滑到底部，修改为以下内容</li></ul><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> git@github.com:qanfan/qanfan.github.io.git</span><br><span class="line"><span class="symbol">  branch:</span> main</span><br></pre></td></tr></table></figure><ul><li>repository写自己GitHub的地址</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227161050014.png"></p><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/image-20220227161218357.png"></p><ul><li><p>所有配置都完成了，最后一步，部署到GitHub输入以下代码。</p><blockquote><p>注意：必须定位到我们创建的博客的目录再输入命令，不然报错。</p></blockquote></li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean<span class="regexp">//</span>清除缓存</span><br><span class="line">hexo g<span class="regexp">//g</span>enerate生成静态文件</span><br><span class="line">hexo d<span class="regexp">//</span>depoly部署到GitHub</span><br></pre></td></tr></table></figure><ul><li>经过以上配置，我们的博客已经可以正常使用了，输入“你的用户名.github.io”访问自己的博客。下面截图是网上参考截图。</li></ul><p><img src="https://qanfan.oss-cn-beijing.aliyuncs.com/20151202210921585.png"></p><h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p> <a href="https://blog.csdn.net/nineya_com/article/details/103293242?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164570852216780271516325%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164570852216780271516325&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-3-103293242.pc_search_insert_ulrmf&utm_term=github+hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2&spm=1018.2226.3001.4187">使用GitHub+HEXO免费搭建个人博客（最详细）</a>——玖涯</p><p><a href="https://blog.csdn.net/weixin_56904230/article/details/115437865">零基础小白如何用github搭建免费的个人博客（总）</a>——七只小天使</p><p><a href="https://dongqing1903.github.io/">dongqing1903</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文主要记录个人利用GitHub以及Hexo框架搭建个人博客。&lt;/p&gt;
&lt;h3 id=&quot;本文使用的东西&quot;&gt;&lt;a href=&quot;#本文使用的东西&quot; class=&quot;headerlink&quot; title=&quot;本文使用的东西&quot;&gt;&lt;/a&gt;本文使用的东西&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;win10系统的电脑&lt;/li&gt;
&lt;li&gt;Node.js  （v16.14.0）&lt;/li&gt;
&lt;li&gt;Git   （v2.35.1）&lt;/li&gt;
&lt;li&gt;Hexo  （6.0.0）</summary>
    
    
    
    <category term="博客搭建" scheme="http://example.com/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="blog" scheme="http://example.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>你好</title>
    <link href="http://example.com/2022/02/22/hello-world/"/>
    <id>http://example.com/2022/02/22/hello-world/</id>
    <published>2022-02-22T08:18:04.000Z</published>
    <updated>2022-07-22T01:17:39.303Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎来到 <a href="https://hexo.io/">Hexo</a>! 这是你的第一篇文章。 点击<a href="https://hexo.io/docs/">文档</a>以获得更多信息。 如果你在使用Hexo时遇到任何问题, 可以点击<a href="https://hexo.io/docs/troubleshooting.html">疑难解答</a>或者去<a href="https://github.com/hexojs/hexo/issues">GitHub</a>上向我提问.</p><h2 id="hexo简单命令"><a href="#hexo简单命令" class="headerlink" title="hexo简单命令"></a>hexo简单命令</h2><span id="more"></span><h3 id="清除缓存"><a href="#清除缓存" class="headerlink" title="清除缓存"></a>清除缓存</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><h3 id="创建一个新帖子"><a href="#创建一个新帖子" class="headerlink" title="创建一个新帖子"></a>创建一个新帖子</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>更多信息: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="运行服务器"><a href="#运行服务器" class="headerlink" title="运行服务器"></a>运行服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>更多信息: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>更多信息: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="部署到远程站点"><a href="#部署到远程站点" class="headerlink" title="部署到远程站点"></a>部署到远程站点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>更多信息: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;欢迎来到 &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! 这是你的第一篇文章。 点击&lt;a href=&quot;https://hexo.io/docs/&quot;&gt;文档&lt;/a&gt;以获得更多信息。 如果你在使用Hexo时遇到任何问题, 可以点击&lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot;&gt;疑难解答&lt;/a&gt;或者去&lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot;&gt;GitHub&lt;/a&gt;上向我提问.&lt;/p&gt;
&lt;h2 id=&quot;hexo简单命令&quot;&gt;&lt;a href=&quot;#hexo简单命令&quot; class=&quot;headerlink&quot; title=&quot;hexo简单命令&quot;&gt;&lt;/a&gt;hexo简单命令&lt;/h2&gt;</summary>
    
    
    
    
  </entry>
  
</feed>
